{"version":3,"file":"backend.js","mappings":"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","sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/cjs/react-debug-tools.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react-debug-tools/index.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/cjs/react.production.js","webpack://ReactDevToolsBackend/../../build/oss-experimental/react/index.js","webpack://ReactDevToolsBackend/../../node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend/../../node_modules/lru-cache/index.js","webpack://ReactDevToolsBackend/../../node_modules/process/browser.js","webpack://ReactDevToolsBackend/../../node_modules/pseudomap/map.js","webpack://ReactDevToolsBackend/../../node_modules/pseudomap/pseudomap.js","webpack://ReactDevToolsBackend/../../node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend/../../node_modules/util/node_modules/inherits/inherits_browser.js","webpack://ReactDevToolsBackend/../../node_modules/util/support/isBufferBrowser.js","webpack://ReactDevToolsBackend/../../node_modules/util/util.js","webpack://ReactDevToolsBackend/../../node_modules/yallist/yallist.js","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend/webpack/runtime/compat get default export","webpack://ReactDevToolsBackend/webpack/runtime/define property getters","webpack://ReactDevToolsBackend/webpack/runtime/hasOwnProperty shorthand","webpack://ReactDevToolsBackend/webpack/runtime/make namespace object","webpack://ReactDevToolsBackend/../react-devtools-shared/src/events.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/constants.js","webpack://ReactDevToolsBackend/../../src/index.ts","webpack://ReactDevToolsBackend/../shared/ReactFeatureFlags.js","webpack://ReactDevToolsBackend/../shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/frontend/types.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hydration.js","webpack://ReactDevToolsBackend/../shared/isArray.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Overlay.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/Highlighter/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/views/TraceUpdates/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/bridge.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/storage.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/agent.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsConsolePatching.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsComponentStackFrame.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsOwnerStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/DevToolsComponentInfoStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/DevToolsServerComponentLogs.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/flight/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/shared/ReactSymbols.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/config/DevToolsFeatureFlags.core-oss.js","webpack://ReactDevToolsBackend/../shared/objectIs.js","webpack://ReactDevToolsBackend/../shared/hasOwnProperty.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/DevToolsFiberComponentStack.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/StyleX/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/devtools/constants.js","webpack://ReactDevToolsBackend/../react-devtools-timeline/src/constants.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/profilingHooks.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/fiber/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/utils.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/legacy/renderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/attachRenderer.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/utils/formatConsoleArguments.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/hook.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/index.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","webpack://ReactDevToolsBackend/../react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","webpack://ReactDevToolsBackend/./src/backend.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(self, () => {\nreturn ","/**\n * @license React\n * react-debug-tools.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar ErrorStackParser = require(\"error-stack-parser\"),\n  React = require(\"react\"),\n  assign = Object.assign,\n  ReactSharedInternals =\n    React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_MEMO_CACHE_SENTINEL = Symbol.for(\"react.memo_cache_sentinel\"),\n  hasOwnProperty = Object.prototype.hasOwnProperty,\n  hookLog = [],\n  primitiveStackCache = null;\nfunction getPrimitiveStackCache() {\n  if (null === primitiveStackCache) {\n    var cache = new Map();\n    try {\n      Dispatcher.useContext({ _currentValue: null });\n      Dispatcher.useState(null);\n      Dispatcher.useReducer(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useRef(null);\n      \"function\" === typeof Dispatcher.useCacheRefresh &&\n        Dispatcher.useCacheRefresh();\n      Dispatcher.useLayoutEffect(function () {});\n      Dispatcher.useInsertionEffect(function () {});\n      Dispatcher.useEffect(function () {});\n      Dispatcher.useImperativeHandle(void 0, function () {\n        return null;\n      });\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(function () {});\n      Dispatcher.useTransition();\n      Dispatcher.useSyncExternalStore(\n        function () {\n          return function () {};\n        },\n        function () {\n          return null;\n        },\n        function () {\n          return null;\n        }\n      );\n      Dispatcher.useDeferredValue(null);\n      Dispatcher.useMemo(function () {\n        return null;\n      });\n      Dispatcher.useOptimistic(null, function (s) {\n        return s;\n      });\n      Dispatcher.useFormState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useActionState(function (s) {\n        return s;\n      }, null);\n      Dispatcher.useHostTransitionStatus();\n      \"function\" === typeof Dispatcher.useMemoCache &&\n        Dispatcher.useMemoCache(0);\n      if (\"function\" === typeof Dispatcher.use) {\n        Dispatcher.use({ $$typeof: REACT_CONTEXT_TYPE, _currentValue: null });\n        Dispatcher.use({\n          then: function () {},\n          status: \"fulfilled\",\n          value: null\n        });\n        try {\n          Dispatcher.use({ then: function () {} });\n        } catch (x) {}\n      }\n      Dispatcher.useId();\n    } finally {\n      var readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (var i = 0; i < readHookLog.length; i++) {\n      var hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\nvar currentFiber = null,\n  currentHook = null,\n  currentContextDependency = null;\nfunction nextHook() {\n  var hook = currentHook;\n  null !== hook && (currentHook = hook.next);\n  return hook;\n}\nfunction readContext(context) {\n  if (null === currentFiber) return context._currentValue;\n  if (null === currentContextDependency)\n    throw Error(\n      \"Context reads do not line up with context dependencies. This is a bug in React Debug Tools.\"\n    );\n  hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    ? ((context = currentContextDependency.memoizedValue),\n      (currentContextDependency = currentContextDependency.next))\n    : (context = context._currentValue);\n  return context;\n}\nvar SuspenseException = Error(\n    \"Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\\n\\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`.\"\n  ),\n  Dispatcher = {\n    use: function (usable) {\n      if (null !== usable && \"object\" === typeof usable) {\n        if (\"function\" === typeof usable.then) {\n          switch (usable.status) {\n            case \"fulfilled\":\n              var fulfilledValue = usable.value;\n              hookLog.push({\n                displayName: null,\n                primitive: \"Promise\",\n                stackError: Error(),\n                value: fulfilledValue,\n                debugInfo:\n                  void 0 === usable._debugInfo ? null : usable._debugInfo,\n                dispatcherHookName: \"Use\"\n              });\n              return fulfilledValue;\n            case \"rejected\":\n              throw usable.reason;\n          }\n          hookLog.push({\n            displayName: null,\n            primitive: \"Unresolved\",\n            stackError: Error(),\n            value: usable,\n            debugInfo: void 0 === usable._debugInfo ? null : usable._debugInfo,\n            dispatcherHookName: \"Use\"\n          });\n          throw SuspenseException;\n        }\n        if (usable.$$typeof === REACT_CONTEXT_TYPE)\n          return (\n            (fulfilledValue = readContext(usable)),\n            hookLog.push({\n              displayName: usable.displayName || \"Context\",\n              primitive: \"Context (use)\",\n              stackError: Error(),\n              value: fulfilledValue,\n              debugInfo: null,\n              dispatcherHookName: \"Use\"\n            }),\n            fulfilledValue\n          );\n      }\n      throw Error(\"An unsupported type was passed to use(): \" + String(usable));\n    },\n    readContext: readContext,\n    useCacheRefresh: function () {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"CacheRefresh\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState : function () {},\n        debugInfo: null,\n        dispatcherHookName: \"CacheRefresh\"\n      });\n      return function () {};\n    },\n    useCallback: function (callback) {\n      var hook = nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Callback\",\n        stackError: Error(),\n        value: null !== hook ? hook.memoizedState[0] : callback,\n        debugInfo: null,\n        dispatcherHookName: \"Callback\"\n      });\n      return callback;\n    },\n    useContext: function (context) {\n      var value = readContext(context);\n      hookLog.push({\n        displayName: context.displayName || null,\n        primitive: \"Context\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"Context\"\n      });\n      return value;\n    },\n    useEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Effect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"Effect\"\n      });\n    },\n    useImperativeHandle: function (ref) {\n      nextHook();\n      var instance = void 0;\n      null !== ref && \"object\" === typeof ref && (instance = ref.current);\n      hookLog.push({\n        displayName: null,\n        primitive: \"ImperativeHandle\",\n        stackError: Error(),\n        value: instance,\n        debugInfo: null,\n        dispatcherHookName: \"ImperativeHandle\"\n      });\n    },\n    useDebugValue: function (value, formatterFn) {\n      hookLog.push({\n        displayName: null,\n        primitive: \"DebugValue\",\n        stackError: Error(),\n        value: \"function\" === typeof formatterFn ? formatterFn(value) : value,\n        debugInfo: null,\n        dispatcherHookName: \"DebugValue\"\n      });\n    },\n    useLayoutEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"LayoutEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"LayoutEffect\"\n      });\n    },\n    useInsertionEffect: function (create) {\n      nextHook();\n      hookLog.push({\n        displayName: null,\n        primitive: \"InsertionEffect\",\n        stackError: Error(),\n        value: create,\n        debugInfo: null,\n        dispatcherHookName: \"InsertionEffect\"\n      });\n    },\n    useMemo: function (nextCreate) {\n      var hook = nextHook();\n      nextCreate = null !== hook ? hook.memoizedState[0] : nextCreate();\n      hookLog.push({\n        displayName: null,\n        primitive: \"Memo\",\n        stackError: Error(),\n        value: nextCreate,\n        debugInfo: null,\n        dispatcherHookName: \"Memo\"\n      });\n      return nextCreate;\n    },\n    useMemoCache: function (size) {\n      var fiber = currentFiber;\n      if (null == fiber) return [];\n      fiber = null != fiber.updateQueue ? fiber.updateQueue.memoCache : null;\n      if (null == fiber) return [];\n      var data = fiber.data[fiber.index];\n      if (void 0 === data) {\n        data = fiber.data[fiber.index] = Array(size);\n        for (var i = 0; i < size; i++) data[i] = REACT_MEMO_CACHE_SENTINEL;\n      }\n      fiber.index++;\n      return data;\n    },\n    useOptimistic: function (passthrough) {\n      var hook = nextHook();\n      passthrough = null !== hook ? hook.memoizedState : passthrough;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Optimistic\",\n        stackError: Error(),\n        value: passthrough,\n        debugInfo: null,\n        dispatcherHookName: \"Optimistic\"\n      });\n      return [passthrough, function () {}];\n    },\n    useReducer: function (reducer, initialArg, init) {\n      reducer = nextHook();\n      initialArg =\n        null !== reducer\n          ? reducer.memoizedState\n          : void 0 !== init\n            ? init(initialArg)\n            : initialArg;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Reducer\",\n        stackError: Error(),\n        value: initialArg,\n        debugInfo: null,\n        dispatcherHookName: \"Reducer\"\n      });\n      return [initialArg, function () {}];\n    },\n    useRef: function (initialValue) {\n      var hook = nextHook();\n      initialValue =\n        null !== hook ? hook.memoizedState : { current: initialValue };\n      hookLog.push({\n        displayName: null,\n        primitive: \"Ref\",\n        stackError: Error(),\n        value: initialValue.current,\n        debugInfo: null,\n        dispatcherHookName: \"Ref\"\n      });\n      return initialValue;\n    },\n    useState: function (initialState) {\n      var hook = nextHook();\n      initialState =\n        null !== hook\n          ? hook.memoizedState\n          : \"function\" === typeof initialState\n            ? initialState()\n            : initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"State\",\n        stackError: Error(),\n        value: initialState,\n        debugInfo: null,\n        dispatcherHookName: \"State\"\n      });\n      return [initialState, function () {}];\n    },\n    useTransition: function () {\n      var stateHook = nextHook();\n      nextHook();\n      stateHook = null !== stateHook ? stateHook.memoizedState : !1;\n      hookLog.push({\n        displayName: null,\n        primitive: \"Transition\",\n        stackError: Error(),\n        value: stateHook,\n        debugInfo: null,\n        dispatcherHookName: \"Transition\"\n      });\n      return [stateHook, function () {}];\n    },\n    useSyncExternalStore: function (subscribe, getSnapshot) {\n      nextHook();\n      nextHook();\n      subscribe = getSnapshot();\n      hookLog.push({\n        displayName: null,\n        primitive: \"SyncExternalStore\",\n        stackError: Error(),\n        value: subscribe,\n        debugInfo: null,\n        dispatcherHookName: \"SyncExternalStore\"\n      });\n      return subscribe;\n    },\n    useDeferredValue: function (value) {\n      var hook = nextHook();\n      value = null !== hook ? hook.memoizedState : value;\n      hookLog.push({\n        displayName: null,\n        primitive: \"DeferredValue\",\n        stackError: Error(),\n        value: value,\n        debugInfo: null,\n        dispatcherHookName: \"DeferredValue\"\n      });\n      return value;\n    },\n    useId: function () {\n      var hook = nextHook();\n      hook = null !== hook ? hook.memoizedState : \"\";\n      hookLog.push({\n        displayName: null,\n        primitive: \"Id\",\n        stackError: Error(),\n        value: hook,\n        debugInfo: null,\n        dispatcherHookName: \"Id\"\n      });\n      return hook;\n    },\n    useFormState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"FormState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"FormState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useActionState: function (action, initialState) {\n      var hook = nextHook();\n      nextHook();\n      nextHook();\n      action = Error();\n      var debugInfo = null,\n        error = null;\n      if (null !== hook)\n        if (\n          ((initialState = hook.memoizedState),\n          \"object\" === typeof initialState &&\n            null !== initialState &&\n            \"function\" === typeof initialState.then)\n        )\n          switch (initialState.status) {\n            case \"fulfilled\":\n              var value = initialState.value;\n              debugInfo =\n                void 0 === initialState._debugInfo\n                  ? null\n                  : initialState._debugInfo;\n              break;\n            case \"rejected\":\n              error = initialState.reason;\n              break;\n            default:\n              (error = SuspenseException),\n                (debugInfo =\n                  void 0 === initialState._debugInfo\n                    ? null\n                    : initialState._debugInfo),\n                (value = initialState);\n          }\n        else value = initialState;\n      else value = initialState;\n      hookLog.push({\n        displayName: null,\n        primitive: \"ActionState\",\n        stackError: action,\n        value: value,\n        debugInfo: debugInfo,\n        dispatcherHookName: \"ActionState\"\n      });\n      if (null !== error) throw error;\n      return [value, function () {}, !1];\n    },\n    useHostTransitionStatus: function () {\n      var status = readContext({ _currentValue: null });\n      hookLog.push({\n        displayName: null,\n        primitive: \"HostTransitionStatus\",\n        stackError: Error(),\n        value: status,\n        debugInfo: null,\n        dispatcherHookName: \"HostTransitionStatus\"\n      });\n      return status;\n    }\n  },\n  DispatcherProxyHandler = {\n    get: function (target, prop) {\n      if (target.hasOwnProperty(prop)) return target[prop];\n      target = Error(\"Missing method in Dispatcher: \" + prop);\n      target.name = \"ReactDebugToolsUnsupportedHookError\";\n      throw target;\n    }\n  },\n  DispatcherProxy =\n    \"undefined\" === typeof Proxy\n      ? Dispatcher\n      : new Proxy(Dispatcher, DispatcherProxyHandler),\n  mostLikelyAncestorIndex = 0;\nfunction findSharedIndex(hookStack, rootStack, rootIndex) {\n  var source = rootStack[rootIndex].source,\n    i = 0;\n  a: for (; i < hookStack.length; i++)\n    if (hookStack[i].source === source) {\n      for (\n        var a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      )\n        if (hookStack[b].source !== rootStack[a].source) continue a;\n      return i;\n    }\n  return -1;\n}\nfunction isReactWrapper(functionName, wrapperName) {\n  functionName = parseHookName(functionName);\n  return \"HostTransitionStatus\" === wrapperName\n    ? functionName === wrapperName || \"FormStatus\" === functionName\n    : functionName === wrapperName;\n}\nfunction parseHookName(functionName) {\n  if (!functionName) return \"\";\n  var startIndex = functionName.lastIndexOf(\"[as \");\n  if (-1 !== startIndex)\n    return parseHookName(functionName.slice(startIndex + 4, -1));\n  startIndex = functionName.lastIndexOf(\".\");\n  startIndex = -1 === startIndex ? 0 : startIndex + 1;\n  functionName.slice(startIndex).startsWith(\"unstable_\") && (startIndex += 9);\n  if (\"use\" === functionName.slice(startIndex, startIndex + 3)) {\n    if (3 === functionName.length - startIndex) return \"Use\";\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\nfunction buildTree(rootStack$jscomp$0, readHookLog) {\n  for (\n    var rootChildren = [],\n      prevStack = null,\n      levelChildren = rootChildren,\n      nativeHookID = 0,\n      stackOfChildren = [],\n      i = 0;\n    i < readHookLog.length;\n    i++\n  ) {\n    var hook = readHookLog[i];\n    var rootStack = rootStack$jscomp$0;\n    var JSCompiler_inline_result = ErrorStackParser.parse(hook.stackError);\n    b: {\n      var hookStack = JSCompiler_inline_result,\n        rootIndex = findSharedIndex(\n          hookStack,\n          rootStack,\n          mostLikelyAncestorIndex\n        );\n      if (-1 !== rootIndex) rootStack = rootIndex;\n      else {\n        for (\n          var i$jscomp$0 = 0;\n          i$jscomp$0 < rootStack.length && 5 > i$jscomp$0;\n          i$jscomp$0++\n        )\n          if (\n            ((rootIndex = findSharedIndex(hookStack, rootStack, i$jscomp$0)),\n            -1 !== rootIndex)\n          ) {\n            mostLikelyAncestorIndex = i$jscomp$0;\n            rootStack = rootIndex;\n            break b;\n          }\n        rootStack = -1;\n      }\n    }\n    b: {\n      hookStack = JSCompiler_inline_result;\n      rootIndex = getPrimitiveStackCache().get(hook.primitive);\n      if (void 0 !== rootIndex)\n        for (\n          i$jscomp$0 = 0;\n          i$jscomp$0 < rootIndex.length && i$jscomp$0 < hookStack.length;\n          i$jscomp$0++\n        )\n          if (rootIndex[i$jscomp$0].source !== hookStack[i$jscomp$0].source) {\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            i$jscomp$0 < hookStack.length - 1 &&\n              isReactWrapper(\n                hookStack[i$jscomp$0].functionName,\n                hook.dispatcherHookName\n              ) &&\n              i$jscomp$0++;\n            hookStack = i$jscomp$0;\n            break b;\n          }\n      hookStack = -1;\n    }\n    JSCompiler_inline_result =\n      -1 === rootStack || -1 === hookStack || 2 > rootStack - hookStack\n        ? -1 === hookStack\n          ? [null, null]\n          : [JSCompiler_inline_result[hookStack - 1], null]\n        : [\n            JSCompiler_inline_result[hookStack - 1],\n            JSCompiler_inline_result.slice(hookStack, rootStack - 1)\n          ];\n    hookStack = JSCompiler_inline_result[0];\n    JSCompiler_inline_result = JSCompiler_inline_result[1];\n    rootStack = hook.displayName;\n    null === rootStack &&\n      null !== hookStack &&\n      (rootStack =\n        parseHookName(hookStack.functionName) ||\n        parseHookName(hook.dispatcherHookName));\n    if (null !== JSCompiler_inline_result) {\n      hookStack = 0;\n      if (null !== prevStack) {\n        for (\n          ;\n          hookStack < JSCompiler_inline_result.length &&\n          hookStack < prevStack.length &&\n          JSCompiler_inline_result[\n            JSCompiler_inline_result.length - hookStack - 1\n          ].source === prevStack[prevStack.length - hookStack - 1].source;\n\n        )\n          hookStack++;\n        for (\n          prevStack = prevStack.length - 1;\n          prevStack > hookStack;\n          prevStack--\n        )\n          levelChildren = stackOfChildren.pop();\n      }\n      for (\n        prevStack = JSCompiler_inline_result.length - hookStack - 1;\n        1 <= prevStack;\n        prevStack--\n      )\n        (hookStack = []),\n          (rootIndex = JSCompiler_inline_result[prevStack]),\n          (rootIndex = {\n            id: null,\n            isStateEditable: !1,\n            name: parseHookName(\n              JSCompiler_inline_result[prevStack - 1].functionName\n            ),\n            value: void 0,\n            subHooks: hookStack,\n            debugInfo: null,\n            hookSource: {\n              lineNumber: rootIndex.lineNumber,\n              columnNumber: rootIndex.columnNumber,\n              functionName: rootIndex.functionName,\n              fileName: rootIndex.fileName\n            }\n          }),\n          levelChildren.push(rootIndex),\n          stackOfChildren.push(levelChildren),\n          (levelChildren = hookStack);\n      prevStack = JSCompiler_inline_result;\n    }\n    hookStack = hook.primitive;\n    rootIndex = hook.debugInfo;\n    hook = {\n      id:\n        \"Context\" === hookStack ||\n        \"Context (use)\" === hookStack ||\n        \"DebugValue\" === hookStack ||\n        \"Promise\" === hookStack ||\n        \"Unresolved\" === hookStack ||\n        \"HostTransitionStatus\" === hookStack\n          ? null\n          : nativeHookID++,\n      isStateEditable: \"Reducer\" === hookStack || \"State\" === hookStack,\n      name: rootStack || hookStack,\n      value: hook.value,\n      subHooks: [],\n      debugInfo: rootIndex,\n      hookSource: null\n    };\n    rootStack = {\n      lineNumber: null,\n      functionName: null,\n      fileName: null,\n      columnNumber: null\n    };\n    JSCompiler_inline_result &&\n      1 <= JSCompiler_inline_result.length &&\n      ((JSCompiler_inline_result = JSCompiler_inline_result[0]),\n      (rootStack.lineNumber = JSCompiler_inline_result.lineNumber),\n      (rootStack.functionName = JSCompiler_inline_result.functionName),\n      (rootStack.fileName = JSCompiler_inline_result.fileName),\n      (rootStack.columnNumber = JSCompiler_inline_result.columnNumber));\n    hook.hookSource = rootStack;\n    levelChildren.push(hook);\n  }\n  processDebugValues(rootChildren, null);\n  return rootChildren;\n}\nfunction processDebugValues(hooksTree, parentHooksNode) {\n  for (var debugValueHooksNodes = [], i = 0; i < hooksTree.length; i++) {\n    var hooksNode = hooksTree[i];\n    \"DebugValue\" === hooksNode.name && 0 === hooksNode.subHooks.length\n      ? (hooksTree.splice(i, 1), i--, debugValueHooksNodes.push(hooksNode))\n      : processDebugValues(hooksNode.subHooks, hooksNode);\n  }\n  null !== parentHooksNode &&\n    (1 === debugValueHooksNodes.length\n      ? (parentHooksNode.value = debugValueHooksNodes[0].value)\n      : 1 < debugValueHooksNodes.length &&\n        (parentHooksNode.value = debugValueHooksNodes.map(function (_ref) {\n          return _ref.value;\n        })));\n}\nfunction handleRenderFunctionError(error) {\n  if (error !== SuspenseException) {\n    if (\n      error instanceof Error &&\n      \"ReactDebugToolsUnsupportedHookError\" === error.name\n    )\n      throw error;\n    var wrapperError = Error(\"Error rendering inspected component\", {\n      cause: error\n    });\n    wrapperError.name = \"ReactDebugToolsRenderError\";\n    wrapperError.cause = error;\n    throw wrapperError;\n  }\n}\nfunction inspectHooks(renderFunction, props, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  var previousDispatcher = currentDispatcher.H;\n  currentDispatcher.H = DispatcherProxy;\n  try {\n    var ancestorStackError = Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    (renderFunction = hookLog),\n      (hookLog = []),\n      (currentDispatcher.H = previousDispatcher);\n  }\n  currentDispatcher = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(currentDispatcher, renderFunction);\n}\nfunction restoreContexts(contextMap) {\n  contextMap.forEach(function (value, context) {\n    return (context._currentValue = value);\n  });\n}\nexports.inspectHooks = inspectHooks;\nexports.inspectHooksOfFiber = function (fiber, currentDispatcher) {\n  null == currentDispatcher && (currentDispatcher = ReactSharedInternals);\n  if (0 !== fiber.tag && 15 !== fiber.tag && 11 !== fiber.tag)\n    throw Error(\n      \"Unknown Fiber. Needs to be a function component to inspect hooks.\"\n    );\n  getPrimitiveStackCache();\n  currentHook = fiber.memoizedState;\n  currentFiber = fiber;\n  if (hasOwnProperty.call(currentFiber, \"dependencies\")) {\n    var dependencies = currentFiber.dependencies;\n    currentContextDependency =\n      null !== dependencies ? dependencies.firstContext : null;\n  } else if (hasOwnProperty.call(currentFiber, \"dependencies_old\"))\n    (dependencies = currentFiber.dependencies_old),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"dependencies_new\"))\n    (dependencies = currentFiber.dependencies_new),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.firstContext : null);\n  else if (hasOwnProperty.call(currentFiber, \"contextDependencies\"))\n    (dependencies = currentFiber.contextDependencies),\n      (currentContextDependency =\n        null !== dependencies ? dependencies.first : null);\n  else\n    throw Error(\n      \"Unsupported React version. This is a bug in React Debug Tools.\"\n    );\n  dependencies = fiber.type;\n  var props = fiber.memoizedProps;\n  if (\n    dependencies !== fiber.elementType &&\n    dependencies &&\n    dependencies.defaultProps\n  ) {\n    props = assign({}, props);\n    var defaultProps = dependencies.defaultProps;\n    for (propName in defaultProps)\n      void 0 === props[propName] && (props[propName] = defaultProps[propName]);\n  }\n  var propName = new Map();\n  try {\n    if (\n      null !== currentContextDependency &&\n      !hasOwnProperty.call(currentContextDependency, \"memoizedValue\")\n    )\n      for (defaultProps = fiber; defaultProps; ) {\n        if (10 === defaultProps.tag) {\n          var context = defaultProps.type;\n          void 0 !== context._context && (context = context._context);\n          propName.has(context) ||\n            (propName.set(context, context._currentValue),\n            (context._currentValue = defaultProps.memoizedProps.value));\n        }\n        defaultProps = defaultProps.return;\n      }\n    if (11 === fiber.tag) {\n      var renderFunction = dependencies.render;\n      context = props;\n      var ref = fiber.ref;\n      fiber = currentDispatcher;\n      var previousDispatcher = fiber.H;\n      fiber.H = DispatcherProxy;\n      try {\n        var ancestorStackError = Error();\n        renderFunction(context, ref);\n      } catch (error) {\n        handleRenderFunctionError(error);\n      } finally {\n        var readHookLog = hookLog;\n        hookLog = [];\n        fiber.H = previousDispatcher;\n      }\n      var rootStack = ErrorStackParser.parse(ancestorStackError);\n      return buildTree(rootStack, readHookLog);\n    }\n    return inspectHooks(dependencies, props, currentDispatcher);\n  } finally {\n    (currentContextDependency = currentHook = currentFiber = null),\n      restoreContexts(propName);\n  }\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-debug-tools.production.js');\n} else {\n  module.exports = require('./cjs/react-debug-tools.development.js');\n}\n","/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n  REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n  REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\"),\n  REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n  REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n  REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n  REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n  REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n  REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n  REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n  REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\"),\n  REACT_POSTPONE_TYPE = Symbol.for(\"react.postpone\"),\n  REACT_VIEW_TRANSITION_TYPE = Symbol.for(\"react.view_transition\"),\n  MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nfunction getIteratorFn(maybeIterable) {\n  if (null === maybeIterable || \"object\" !== typeof maybeIterable) return null;\n  maybeIterable =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[\"@@iterator\"];\n  return \"function\" === typeof maybeIterable ? maybeIterable : null;\n}\nvar ReactNoopUpdateQueue = {\n    isMounted: function () {\n      return !1;\n    },\n    enqueueForceUpdate: function () {},\n    enqueueReplaceState: function () {},\n    enqueueSetState: function () {}\n  },\n  assign = Object.assign,\n  emptyObject = {};\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nComponent.prototype.isReactComponent = {};\nComponent.prototype.setState = function (partialState, callback) {\n  if (\n    \"object\" !== typeof partialState &&\n    \"function\" !== typeof partialState &&\n    null != partialState\n  )\n    throw Error(\n      \"takes an object of state variables to update or a function which returns an object of state variables.\"\n    );\n  this.updater.enqueueSetState(this, partialState, callback, \"setState\");\n};\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, \"forceUpdate\");\n};\nfunction ComponentDummy() {}\nComponentDummy.prototype = Component.prototype;\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context;\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\nvar pureComponentPrototype = (PureComponent.prototype = new ComponentDummy());\npureComponentPrototype.constructor = PureComponent;\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = !0;\nvar isArrayImpl = Array.isArray,\n  ReactSharedInternals = { H: null, A: null, T: null, S: null },\n  hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction ReactElement(type, key, self, source, owner, props) {\n  self = props.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== self ? self : null,\n    props: props\n  };\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  return ReactElement(\n    oldElement.type,\n    newKey,\n    void 0,\n    void 0,\n    void 0,\n    oldElement.props\n  );\n}\nfunction isValidElement(object) {\n  return (\n    \"object\" === typeof object &&\n    null !== object &&\n    object.$$typeof === REACT_ELEMENT_TYPE\n  );\n}\nfunction escape(key) {\n  var escaperLookup = { \"=\": \"=0\", \":\": \"=2\" };\n  return (\n    \"$\" +\n    key.replace(/[=:]/g, function (match) {\n      return escaperLookup[match];\n    })\n  );\n}\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction getElementKey(element, index) {\n  return \"object\" === typeof element && null !== element && null != element.key\n    ? escape(\"\" + element.key)\n    : index.toString(36);\n}\nfunction noop$1() {}\nfunction resolveThenable(thenable) {\n  switch (thenable.status) {\n    case \"fulfilled\":\n      return thenable.value;\n    case \"rejected\":\n      throw thenable.reason;\n    default:\n      switch (\n        (\"string\" === typeof thenable.status\n          ? thenable.then(noop$1, noop$1)\n          : ((thenable.status = \"pending\"),\n            thenable.then(\n              function (fulfilledValue) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"fulfilled\"),\n                  (thenable.value = fulfilledValue));\n              },\n              function (error) {\n                \"pending\" === thenable.status &&\n                  ((thenable.status = \"rejected\"), (thenable.reason = error));\n              }\n            )),\n        thenable.status)\n      ) {\n        case \"fulfilled\":\n          return thenable.value;\n        case \"rejected\":\n          throw thenable.reason;\n      }\n  }\n  throw thenable;\n}\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n  if (\"undefined\" === type || \"boolean\" === type) children = null;\n  var invokeCallback = !1;\n  if (null === children) invokeCallback = !0;\n  else\n    switch (type) {\n      case \"bigint\":\n      case \"string\":\n      case \"number\":\n        invokeCallback = !0;\n        break;\n      case \"object\":\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = !0;\n            break;\n          case REACT_LAZY_TYPE:\n            return (\n              (invokeCallback = children._init),\n              mapIntoArray(\n                invokeCallback(children._payload),\n                array,\n                escapedPrefix,\n                nameSoFar,\n                callback\n              )\n            );\n        }\n    }\n  if (invokeCallback)\n    return (\n      (callback = callback(children)),\n      (invokeCallback =\n        \"\" === nameSoFar ? \".\" + getElementKey(children, 0) : nameSoFar),\n      isArrayImpl(callback)\n        ? ((escapedPrefix = \"\"),\n          null != invokeCallback &&\n            (escapedPrefix =\n              invokeCallback.replace(userProvidedKeyEscapeRegex, \"$&/\") + \"/\"),\n          mapIntoArray(callback, array, escapedPrefix, \"\", function (c) {\n            return c;\n          }))\n        : null != callback &&\n          (isValidElement(callback) &&\n            (callback = cloneAndReplaceKey(\n              callback,\n              escapedPrefix +\n                (null == callback.key ||\n                (children && children.key === callback.key)\n                  ? \"\"\n                  : (\"\" + callback.key).replace(\n                      userProvidedKeyEscapeRegex,\n                      \"$&/\"\n                    ) + \"/\") +\n                invokeCallback\n            )),\n          array.push(callback)),\n      1\n    );\n  invokeCallback = 0;\n  var nextNamePrefix = \"\" === nameSoFar ? \".\" : nameSoFar + \":\";\n  if (isArrayImpl(children))\n    for (var i = 0; i < children.length; i++)\n      (nameSoFar = children[i]),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (((i = getIteratorFn(children)), \"function\" === typeof i))\n    for (\n      children = i.call(children), i = 0;\n      !(nameSoFar = children.next()).done;\n\n    )\n      (nameSoFar = nameSoFar.value),\n        (type = nextNamePrefix + getElementKey(nameSoFar, i++)),\n        (invokeCallback += mapIntoArray(\n          nameSoFar,\n          array,\n          escapedPrefix,\n          type,\n          callback\n        ));\n  else if (\"object\" === type) {\n    if (\"function\" === typeof children.then)\n      return mapIntoArray(\n        resolveThenable(children),\n        array,\n        escapedPrefix,\n        nameSoFar,\n        callback\n      );\n    array = String(children);\n    throw Error(\n      \"Objects are not valid as a React child (found: \" +\n        (\"[object Object]\" === array\n          ? \"object with keys {\" + Object.keys(children).join(\", \") + \"}\"\n          : array) +\n        \"). If you meant to render a collection of children, use an array instead.\"\n    );\n  }\n  return invokeCallback;\n}\nfunction mapChildren(children, func, context) {\n  if (null == children) return children;\n  var result = [],\n    count = 0;\n  mapIntoArray(children, result, \"\", \"\", function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\nfunction lazyInitializer(payload) {\n  if (-1 === payload._status) {\n    var ctor = payload._result;\n    ctor = ctor();\n    ctor.then(\n      function (moduleObject) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 1), (payload._result = moduleObject);\n      },\n      function (error) {\n        if (0 === payload._status || -1 === payload._status)\n          (payload._status = 2), (payload._result = error);\n      }\n    );\n    -1 === payload._status && ((payload._status = 0), (payload._result = ctor));\n  }\n  if (1 === payload._status) return payload._result.default;\n  throw payload._result;\n}\nfunction useOptimistic(passthrough, reducer) {\n  return ReactSharedInternals.H.useOptimistic(passthrough, reducer);\n}\nvar reportGlobalError =\n  \"function\" === typeof reportError\n    ? reportError\n    : function (error) {\n        if (\n          \"object\" === typeof window &&\n          \"function\" === typeof window.ErrorEvent\n        ) {\n          var event = new window.ErrorEvent(\"error\", {\n            bubbles: !0,\n            cancelable: !0,\n            message:\n              \"object\" === typeof error &&\n              null !== error &&\n              \"string\" === typeof error.message\n                ? String(error.message)\n                : String(error),\n            error: error\n          });\n          if (!window.dispatchEvent(event)) return;\n        } else if (\n          \"object\" === typeof process &&\n          \"function\" === typeof process.emit\n        ) {\n          process.emit(\"uncaughtException\", error);\n          return;\n        }\n        console.error(error);\n      };\nfunction noop() {}\nexports.Children = {\n  map: mapChildren,\n  forEach: function (children, forEachFunc, forEachContext) {\n    mapChildren(\n      children,\n      function () {\n        forEachFunc.apply(this, arguments);\n      },\n      forEachContext\n    );\n  },\n  count: function (children) {\n    var n = 0;\n    mapChildren(children, function () {\n      n++;\n    });\n    return n;\n  },\n  toArray: function (children) {\n    return (\n      mapChildren(children, function (child) {\n        return child;\n      }) || []\n    );\n  },\n  only: function (children) {\n    if (!isValidElement(children))\n      throw Error(\n        \"React.Children.only expected to receive a single React element child.\"\n      );\n    return children;\n  }\n};\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE =\n  ReactSharedInternals;\nexports.__COMPILER_RUNTIME = {\n  c: function (size) {\n    return ReactSharedInternals.H.useMemoCache(size);\n  }\n};\nexports.act = function () {\n  throw Error(\"act(...) is not supported in production builds of React.\");\n};\nexports.cache = function (fn) {\n  return function () {\n    return fn.apply(null, arguments);\n  };\n};\nexports.captureOwnerStack = function () {\n  return null;\n};\nexports.cloneElement = function (element, config, children) {\n  if (null === element || void 0 === element)\n    throw Error(\n      \"The argument must be a React element, but you passed \" + element + \".\"\n    );\n  var props = assign({}, element.props),\n    key = element.key,\n    owner = void 0;\n  if (null != config)\n    for (propName in (void 0 !== config.ref && (owner = void 0),\n    void 0 !== config.key && (key = \"\" + config.key),\n    config))\n      !hasOwnProperty.call(config, propName) ||\n        \"key\" === propName ||\n        \"__self\" === propName ||\n        \"__source\" === propName ||\n        (\"ref\" === propName && void 0 === config.ref) ||\n        (props[propName] = config[propName]);\n  var propName = arguments.length - 2;\n  if (1 === propName) props.children = children;\n  else if (1 < propName) {\n    for (var childArray = Array(propName), i = 0; i < propName; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  return ReactElement(element.type, key, void 0, void 0, owner, props);\n};\nexports.createContext = function (defaultValue) {\n  defaultValue = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    _threadCount: 0,\n    Provider: null,\n    Consumer: null\n  };\n  defaultValue.Provider = defaultValue;\n  defaultValue.Consumer = {\n    $$typeof: REACT_CONSUMER_TYPE,\n    _context: defaultValue\n  };\n  return defaultValue;\n};\nexports.createElement = function (type, config, children) {\n  var propName,\n    props = {},\n    key = null;\n  if (null != config)\n    for (propName in (void 0 !== config.key && (key = \"\" + config.key), config))\n      hasOwnProperty.call(config, propName) &&\n        \"key\" !== propName &&\n        \"__self\" !== propName &&\n        \"__source\" !== propName &&\n        (props[propName] = config[propName]);\n  var childrenLength = arguments.length - 2;\n  if (1 === childrenLength) props.children = children;\n  else if (1 < childrenLength) {\n    for (var childArray = Array(childrenLength), i = 0; i < childrenLength; i++)\n      childArray[i] = arguments[i + 2];\n    props.children = childArray;\n  }\n  if (type && type.defaultProps)\n    for (propName in ((childrenLength = type.defaultProps), childrenLength))\n      void 0 === props[propName] &&\n        (props[propName] = childrenLength[propName]);\n  return ReactElement(type, key, void 0, void 0, null, props);\n};\nexports.createRef = function () {\n  return { current: null };\n};\nexports.experimental_useEffectEvent = function (callback) {\n  return ReactSharedInternals.H.useEffectEvent(callback);\n};\nexports.experimental_useOptimistic = function (passthrough, reducer) {\n  return useOptimistic(passthrough, reducer);\n};\nexports.experimental_useResourceEffect = void 0;\nexports.forwardRef = function (render) {\n  return { $$typeof: REACT_FORWARD_REF_TYPE, render: render };\n};\nexports.isValidElement = isValidElement;\nexports.lazy = function (ctor) {\n  return {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: { _status: -1, _result: ctor },\n    _init: lazyInitializer\n  };\n};\nexports.memo = function (type, compare) {\n  return {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: void 0 === compare ? null : compare\n  };\n};\nexports.startTransition = function (scope) {\n  var prevTransition = ReactSharedInternals.T,\n    currentTransition = {};\n  ReactSharedInternals.T = currentTransition;\n  try {\n    var returnValue = scope(),\n      onStartTransitionFinish = ReactSharedInternals.S;\n    null !== onStartTransitionFinish &&\n      onStartTransitionFinish(currentTransition, returnValue);\n    \"object\" === typeof returnValue &&\n      null !== returnValue &&\n      \"function\" === typeof returnValue.then &&\n      returnValue.then(noop, reportGlobalError);\n  } catch (error) {\n    reportGlobalError(error);\n  } finally {\n    ReactSharedInternals.T = prevTransition;\n  }\n};\nexports.unstable_Activity = REACT_OFFSCREEN_TYPE;\nexports.unstable_SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nexports.unstable_ViewTransition = REACT_VIEW_TRANSITION_TYPE;\nexports.unstable_getCacheForType = function (resourceType) {\n  var dispatcher = ReactSharedInternals.A;\n  return dispatcher ? dispatcher.getCacheForType(resourceType) : resourceType();\n};\nexports.unstable_postpone = function (reason) {\n  reason = Error(reason);\n  reason.$$typeof = REACT_POSTPONE_TYPE;\n  throw reason;\n};\nexports.unstable_useCacheRefresh = function () {\n  return ReactSharedInternals.H.useCacheRefresh();\n};\nexports.use = function (usable) {\n  return ReactSharedInternals.H.use(usable);\n};\nexports.useActionState = function (action, initialState, permalink) {\n  return ReactSharedInternals.H.useActionState(action, initialState, permalink);\n};\nexports.useCallback = function (callback, deps) {\n  return ReactSharedInternals.H.useCallback(callback, deps);\n};\nexports.useContext = function (Context) {\n  return ReactSharedInternals.H.useContext(Context);\n};\nexports.useDebugValue = function () {};\nexports.useDeferredValue = function (value, initialValue) {\n  return ReactSharedInternals.H.useDeferredValue(value, initialValue);\n};\nexports.useEffect = function (create, deps) {\n  return ReactSharedInternals.H.useEffect(create, deps);\n};\nexports.useId = function () {\n  return ReactSharedInternals.H.useId();\n};\nexports.useImperativeHandle = function (ref, create, deps) {\n  return ReactSharedInternals.H.useImperativeHandle(ref, create, deps);\n};\nexports.useInsertionEffect = function (create, deps) {\n  return ReactSharedInternals.H.useInsertionEffect(create, deps);\n};\nexports.useLayoutEffect = function (create, deps) {\n  return ReactSharedInternals.H.useLayoutEffect(create, deps);\n};\nexports.useMemo = function (create, deps) {\n  return ReactSharedInternals.H.useMemo(create, deps);\n};\nexports.useOptimistic = useOptimistic;\nexports.useReducer = function (reducer, initialArg, init) {\n  return ReactSharedInternals.H.useReducer(reducer, initialArg, init);\n};\nexports.useRef = function (initialValue) {\n  return ReactSharedInternals.H.useRef(initialValue);\n};\nexports.useState = function (initialState) {\n  return ReactSharedInternals.H.useState(initialState);\n};\nexports.useSyncExternalStore = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot\n) {\n  return ReactSharedInternals.H.useSyncExternalStore(\n    subscribe,\n    getSnapshot,\n    getServerSnapshot\n  );\n};\nexports.useTransition = function () {\n  return ReactSharedInternals.H.useTransition();\n};\nexports.version = \"19.1.0-experimental-3bc46151-20250117\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict'\n\nmodule.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nvar MAX = makeSymbol('max')\nvar LENGTH = makeSymbol('length')\nvar LENGTH_CALCULATOR = makeSymbol('lengthCalculator')\nvar ALLOW_STALE = makeSymbol('allowStale')\nvar MAX_AGE = makeSymbol('maxAge')\nvar DISPOSE = makeSymbol('dispose')\nvar NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')\nvar LRU_LIST = makeSymbol('lruList')\nvar CACHE = makeSymbol('cache')\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = this[MAX] = options.max\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    this[MAX] = Infinity\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  this[LENGTH_CALCULATOR] = lc\n\n  this[ALLOW_STALE] = options.stale || false\n  this[MAX_AGE] = options.maxAge || 0\n  this[DISPOSE] = options.dispose\n  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    this[MAX] = mL\n    trim(this)\n  },\n  get: function () {\n    return this[MAX]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  },\n  get: function () {\n    return this[ALLOW_STALE]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    this[MAX_AGE] = mA\n    trim(this)\n  },\n  get: function () {\n    return this[MAX_AGE]\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(function (hit) {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return this[LENGTH_CALCULATOR] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return this[LENGTH] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return this[LRU_LIST].length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE]) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (this[DISPOSE] &&\n      this[LRU_LIST] &&\n      this[LRU_LIST].length) {\n    this[LRU_LIST].forEach(function (hit) {\n      this[DISPOSE](hit.key, hit.value)\n    }, this)\n  }\n\n  this[CACHE] = new Map() // hash of items by key\n  this[LRU_LIST] = new Yallist() // list of items in order of use recency\n  this[LENGTH] = 0 // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return this[LRU_LIST].map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return this[LRU_LIST]\n}\n\n/* istanbul ignore next */\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = this[ALLOW_STALE]\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = this[MAX]\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = this[MAX_AGE]\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = this[LENGTH_CALCULATOR]\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(this[LENGTH], opts)\n    extras = true\n  }\n\n  var didFirst = false\n  this[LRU_LIST].forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || this[MAX_AGE]\n\n  var now = maxAge ? Date.now() : 0\n  var len = this[LENGTH_CALCULATOR](value, key)\n\n  if (this[CACHE].has(key)) {\n    if (len > this[MAX]) {\n      del(this, this[CACHE].get(key))\n      return false\n    }\n\n    var node = this[CACHE].get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    // split out into 2 ifs for better coverage tracking\n    if (this[DISPOSE]) {\n      if (!this[NO_DISPOSE_ON_SET]) {\n        this[DISPOSE](key, item.value)\n      }\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    this[LENGTH] += len - item.length\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > this[MAX]) {\n    if (this[DISPOSE]) {\n      this[DISPOSE](key, value)\n    }\n    return false\n  }\n\n  this[LENGTH] += hit.length\n  this[LRU_LIST].unshift(hit)\n  this[CACHE].set(key, this[LRU_LIST].head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!this[CACHE].has(key)) return false\n  var hit = this[CACHE].get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = this[LRU_LIST].tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, this[CACHE].get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  this[CACHE].forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = self[CACHE].get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE]) hit = undefined\n    } else {\n      if (doUse) {\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = self[MAX_AGE] && (diff > self[MAX_AGE])\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (self[DISPOSE]) {\n      self[DISPOSE](hit.key, hit.value)\n    }\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\nexport const SESSION_STORAGE_RECORD_TIMELINE_KEY =\n  'React::DevTools::recordTimeline';\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n\nexport const FIREFOX_CONSOLE_DIMMING_COLOR = 'color: rgba(124, 124, 124, 0.75)';\nexport const ANSI_STYLE_DIMMING_TEMPLATE = '\\x1b[2;38;2;124;124;124m%s\\x1b[0m';\nexport const ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK =\n  '\\x1b[2;38;2;124;124;124m%s %o\\x1b[0m';\n",null,"/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n */\n\n// -----------------------------------------------------------------------------\n// Land or remove (zero effort)\n//\n// Flags that can likely be deleted or landed without consequences\n// -----------------------------------------------------------------------------\n\n// None\n\n// -----------------------------------------------------------------------------\n// Killswitch\n//\n// Flags that exist solely to turn off a change in case it causes a regression\n// when it rolls out to prod. We should remove these as soon as possible.\n// -----------------------------------------------------------------------------\n\nexport const enableHydrationLaneScheduling = true;\n\n// -----------------------------------------------------------------------------\n// Land or remove (moderate effort)\n//\n// Flags that can be probably deleted or landed, but might require extra effort\n// like migrating internal callers or performance testing.\n// -----------------------------------------------------------------------------\n\n// TODO: Finish rolling out in www\nexport const favorSafetyOverHydrationPerf = true;\n\n// Need to remove didTimeout argument from Scheduler before landing\nexport const disableSchedulerTimeoutInWorkLoop = false;\n\n// TODO: Land at Meta before removing.\nexport const disableDefaultPropsExceptForClasses = true;\n\n// -----------------------------------------------------------------------------\n// Slated for removal in the future (significant effort)\n//\n// These are experiments that didn't work out, and never shipped, but we can't\n// delete from the codebase until we migrate internal callers.\n// -----------------------------------------------------------------------------\n\n// Add a callback property to suspense to notify which promises are currently\n// in the update queue. This allows reporting and tracing of what is causing\n// the user to see a loading state.\n//\n// Also allows hydration callbacks to fire when a dehydrated boundary gets\n// hydrated or deleted.\n//\n// This will eventually be replaced by the Transition Tracing proposal.\nexport const enableSuspenseCallback = false;\n\n// Experimental Scope support.\nexport const enableScopeAPI = false;\n\n// Experimental Create Event Handle API.\nexport const enableCreateEventHandleAPI = false;\n\n// Support legacy Primer support on internal FB www\nexport const enableLegacyFBSupport = false;\n\n// -----------------------------------------------------------------------------\n// Ongoing experiments\n//\n// These are features that we're either actively exploring or are reasonably\n// likely to include in an upcoming release.\n// -----------------------------------------------------------------------------\n\n// Yield to the browser event loop and not just the scheduler event loop before passive effects.\n// Fix gated tests that fail with this flag enabled before turning it back on.\nexport const enableYieldingBeforePassive = false;\n\n// Experiment to intentionally yield less to block high framerate animations.\nexport const enableThrottledScheduling = false;\n\nexport const enableLegacyCache = __EXPERIMENTAL__;\n\nexport const enableAsyncIterableChildren = __EXPERIMENTAL__;\n\nexport const enableTaint = __EXPERIMENTAL__;\n\nexport const enablePostpone = __EXPERIMENTAL__;\n\nexport const enableHalt = __EXPERIMENTAL__;\n\nexport const enableViewTransition = __EXPERIMENTAL__;\n\n/**\n * Switches the Fabric API from doing layout in commit work instead of complete work.\n */\nexport const enableFabricCompleteRootInCommitPhase = false;\n\n/**\n * Switches Fiber creation to a simple object instead of a constructor.\n */\nexport const enableObjectFiber = false;\n\nexport const enableTransitionTracing = false;\n\n// FB-only usage. The new API has different semantics.\nexport const enableLegacyHidden = false;\n\n// Enables unstable_avoidThisFallback feature in Fiber\nexport const enableSuspenseAvoidThisFallback = false;\n\nexport const enableCPUSuspense = __EXPERIMENTAL__;\n\n// Test this at Meta before enabling.\nexport const enableNoCloningMemoCache = false;\n\nexport const enableUseEffectEventHook = __EXPERIMENTAL__;\n\n// Test in www before enabling in open source.\n// Enables DOM-server to stream its instruction set as data-attributes\n// (handled with an MutationObserver) instead of inline-scripts\nexport const enableFizzExternalRuntime = __EXPERIMENTAL__;\n\nexport const alwaysThrottleRetries = true;\n\nexport const passChildrenWhenCloningPersistedNodes = false;\n\n/**\n * Enables a new Fiber flag used in persisted mode to reduce the number\n * of cloned host components.\n */\nexport const enablePersistedModeClonedFlag = false;\n\nexport const enableOwnerStacks = __EXPERIMENTAL__;\n\nexport const enableShallowPropDiffing = false;\n\nexport const enableSiblingPrerendering = true;\n\n/**\n * Enables an expiration time for retry lanes to avoid starvation.\n */\nexport const enableRetryLaneExpiration = false;\nexport const retryLaneExpirationMs = 5000;\nexport const syncLaneExpirationMs = 250;\nexport const transitionLaneExpirationMs = 5000;\n\n/**\n * Enables a new error detection for infinite render loops from updates caused\n * by setState or similar outside of the component owning the state.\n */\nexport const enableInfiniteRenderLoopDetection = false;\n\n/**\n * Experimental new hook for better managing resources in effects.\n */\nexport const enableUseResourceEffectHook = false;\n\n// -----------------------------------------------------------------------------\n// Ready for next major.\n//\n// Alias __NEXT_MAJOR__ to __EXPERIMENTAL__ for easier skimming.\n// -----------------------------------------------------------------------------\n\n// TODO: Anything that's set to `true` in this section should either be cleaned\n// up (if it's on everywhere, including Meta and RN builds) or moved to a\n// different section of this file.\n\n// const __NEXT_MAJOR__ = __EXPERIMENTAL__;\n\n// Renames the internal symbol for elements since they have changed signature/constructor\nexport const renameElementSymbol = true;\n\n/**\n * Enables a fix to run insertion effect cleanup on hidden subtrees.\n */\nexport const enableHiddenSubtreeInsertionEffectCleanup = false;\n\n/**\n * Removes legacy style context defined using static `contextTypes` and consumed with static `childContextTypes`.\n */\nexport const disableLegacyContext = true;\n/**\n * Removes legacy style context just from function components.\n */\nexport const disableLegacyContextForFunctionComponents = true;\n\n// Enable the moveBefore() alternative to insertBefore(). This preserves states of moves.\nexport const enableMoveBefore = false;\n\n// Disabled caching behavior of `react/cache` in client runtimes.\nexport const disableClientCache = true;\n\n// Warn on any usage of ReactTestRenderer\nexport const enableReactTestRendererWarning = true;\n\n// Disables legacy mode\n// This allows us to land breaking changes to remove legacy mode APIs in experimental builds\n// before removing them in stable in the next Major\nexport const disableLegacyMode = true;\n\n// Make <Context> equivalent to <Context.Provider> instead of <Context.Consumer>\nexport const enableRenderableContext = true;\n\n// -----------------------------------------------------------------------------\n// Chopping Block\n//\n// Planned feature deprecations and breaking changes. Sorted roughly in order of\n// when we plan to enable them.\n// -----------------------------------------------------------------------------\n\n// -----------------------------------------------------------------------------\n// React DOM Chopping Block\n//\n// Similar to main Chopping Block but only flags related to React DOM. These are\n// grouped because we will likely batch all of them into a single major release.\n// -----------------------------------------------------------------------------\n\n// Disable support for comment nodes as React DOM containers. Already disabled\n// in open source, but www codebase still relies on it. Need to remove.\nexport const disableCommentsAsDOMContainers = true;\n\nexport const enableTrustedTypesIntegration = false;\n\n// Prevent the value and checked attributes from syncing with their related\n// DOM properties\nexport const disableInputAttributeSyncing = false;\n\n// Disables children for <textarea> elements\nexport const disableTextareaChildren = false;\n\n// -----------------------------------------------------------------------------\n// Debugging and DevTools\n// -----------------------------------------------------------------------------\n\n// Gather advanced timing metrics for Profiler subtrees.\nexport const enableProfilerTimer = __PROFILE__;\n\n// Adds performance.measure() marks using Chrome extensions to allow formatted\n// Component rendering tracks to show up in the Performance tab.\n// This flag will be used for both Server Component and Client Component tracks.\n// All calls should also be gated on enableProfilerTimer.\nexport const enableComponentPerformanceTrack = __EXPERIMENTAL__;\n\n// Adds user timing marks for e.g. state updates, suspense, and work loop stuff,\n// for an experimental timeline tool.\nexport const enableSchedulingProfiler: boolean =\n  !enableComponentPerformanceTrack && __PROFILE__;\n\n// Record durations for commit and passive effects phases.\nexport const enableProfilerCommitHooks = __PROFILE__;\n\n// Phase param passed to onRender callback differentiates between an \"update\" and a \"cascading-update\".\nexport const enableProfilerNestedUpdatePhase = __PROFILE__;\n\nexport const enableAsyncDebugInfo = __EXPERIMENTAL__;\n\n// Track which Fiber(s) schedule render work.\nexport const enableUpdaterTracking = __PROFILE__;\n\n// Internal only.\nexport const enableDO_NOT_USE_disableStrictPassiveEffect = false;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {renameElementSymbol} from 'shared/ReactFeatureFlags';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_LEGACY_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_ELEMENT_TYPE: symbol = renameElementSymbol\n  ? Symbol.for('react.transitional.element')\n  : REACT_LEGACY_ELEMENT_TYPE;\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\nexport const REACT_CONSUMER_TYPE: symbol = Symbol.for('react.consumer');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nexport const REACT_VIEW_TRANSITION_TYPE: symbol = Symbol.for(\n  'react.view_transition',\n);\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n\nexport const ASYNC_ITERATOR = Symbol.asyncIterator;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\nexport const ElementTypeVirtual = 15;\nexport const ElementTypeViewTransition = 16;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType =\n  | 1\n  | 2\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\nexport const ComponentFilterEnvironmentName = 5;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4 | 5;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type EnvironmentNameComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 5,\n  value: string,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter\n  | EnvironmentNameComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to an ElementID (e.g. a Fiber) on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n\n  // If component is compiled with Forget, the backend will send its name as Forget(...)\n  // Later, on the frontend side, we will strip HOC names and Forget prefix.\n  compiledWithForget: boolean,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n\n  // Can view component source location.\n  canViewSource: boolean,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Location of component in source code.\n  source: Source | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  REACT_CONSUMER_TYPE,\n  REACT_CONTEXT_TYPE,\n  REACT_FORWARD_REF_TYPE,\n  REACT_FRAGMENT_TYPE,\n  REACT_LAZY_TYPE,\n  REACT_ELEMENT_TYPE,\n  REACT_LEGACY_ELEMENT_TYPE,\n  REACT_MEMO_TYPE,\n  REACT_PORTAL_TYPE,\n  REACT_PROFILER_TYPE,\n  REACT_PROVIDER_TYPE,\n  REACT_STRICT_MODE_TYPE,\n  REACT_SUSPENSE_LIST_TYPE,\n  REACT_SUSPENSE_TYPE,\n  REACT_TRACING_MARKER_TYPE,\n  REACT_VIEW_TRANSITION_TYPE,\n} from 'shared/ReactSymbols';\nimport {enableRenderableContext} from 'shared/ReactFeatureFlags';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  SESSION_STORAGE_RECORD_TIMELINE_KEY,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ComponentFilterLocation,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n  ElementTypeVirtual,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  localStorageGetItem,\n  localStorageSetItem,\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  SerializedElement as SerializedElementFrontend,\n  LRUCache,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  ProfilingSettings,\n  SerializedElement as SerializedElementBackend,\n} from 'react-devtools-shared/src/backend/types';\nimport {isSynchronousXHRSupported} from './backend/utils';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any)?.displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeStringWithRanges(\n  array: Array<number>,\n  left: number,\n  right: number,\n): string {\n  let string = '';\n  for (let i = left; i <= right; i++) {\n    string += String.fromCodePoint(array[i]);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeStringWithRanges(\n      operations,\n      i,\n      i + nextLength - 1,\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      const parsedFilters: Array<ComponentFilter> = JSON.parse(raw);\n      return filterOutLocationComponentFilters(parsedFilters);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(filterOutLocationComponentFilters(componentFilters)),\n  );\n}\n\n// Following __debugSource removal from Fiber, the new approach for finding the source location\n// of a component, represented by the Fiber, is based on lazily generating and parsing component stack frames\n// To find the original location, React DevTools will perform symbolication, source maps are required for that.\n// In order to start filtering Fibers, we need to find location for all of them, which can't be done lazily.\n// Eager symbolication can become quite expensive for large applications.\nexport function filterOutLocationComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): Array<ComponentFilter> {\n  // This is just an additional check to preserve the previous state\n  // Filters can be stored on the backend side or in user land (in a window object)\n  if (!Array.isArray(componentFilters)) {\n    return componentFilters;\n  }\n\n  return componentFilters.filter(f => f.type !== ComponentFilterLocation);\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\ntype ParseElementDisplayNameFromBackendReturn = {\n  formattedDisplayName: string | null,\n  hocDisplayNames: Array<string> | null,\n  compiledWithForget: boolean,\n};\nexport function parseElementDisplayNameFromBackend(\n  displayName: string | null,\n  type: ElementType,\n): ParseElementDisplayNameFromBackendReturn {\n  if (displayName === null) {\n    return {\n      formattedDisplayName: null,\n      hocDisplayNames: null,\n      compiledWithForget: false,\n    };\n  }\n\n  if (displayName.startsWith('Forget(')) {\n    const displayNameWithoutForgetWrapper = displayName.slice(\n      7,\n      displayName.length - 1,\n    );\n\n    const {formattedDisplayName, hocDisplayNames} =\n      parseElementDisplayNameFromBackend(displayNameWithoutForgetWrapper, type);\n    return {formattedDisplayName, hocDisplayNames, compiledWithForget: true};\n  }\n\n  let hocDisplayNames = null;\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n    case ElementTypeVirtual:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          // $FlowFixMe[incompatible-type]\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return {\n    // $FlowFixMe[incompatible-return]\n    formattedDisplayName: displayName,\n    hocDisplayNames,\n    compiledWithForget: false,\n  };\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (\n        data.$$typeof === REACT_ELEMENT_TYPE ||\n        data.$$typeof === REACT_LEGACY_ELEMENT_TYPE\n      ) {\n        return 'react_element';\n      }\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\n// Fork of packages/react-is/src/ReactIs.js:30, but with legacy element type\n// Which has been changed in https://github.com/facebook/react/pull/28813\nfunction typeOfWithLegacyElementSymbol(object: any): mixed {\n  if (typeof object === 'object' && object !== null) {\n    const $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n      case REACT_LEGACY_ELEMENT_TYPE:\n        const type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n          case REACT_VIEW_TRANSITION_TYPE:\n            return type;\n          default:\n            const $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n                return $$typeofType;\n              case REACT_CONSUMER_TYPE:\n                if (enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              case REACT_PROVIDER_TYPE:\n                if (!enableRenderableContext) {\n                  return $$typeofType;\n                }\n              // Fall through\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOfWithLegacyElementSymbol(element);\n  switch (elementType) {\n    case REACT_CONSUMER_TYPE:\n      return 'ContextConsumer';\n    case REACT_PROVIDER_TYPE:\n      return 'ContextProvider';\n    case REACT_CONTEXT_TYPE:\n      return 'Context';\n    case REACT_FORWARD_REF_TYPE:\n      return 'ForwardRef';\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n    case REACT_LAZY_TYPE:\n      return 'Lazy';\n    case REACT_MEMO_TYPE:\n      return 'Memo';\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n    case REACT_VIEW_TRANSITION_TYPE:\n      return 'ViewTransition';\n    case REACT_TRACING_MARKER_TYPE:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      if (typeof data.name === 'function' || data.name === '') {\n        return '() => {}';\n      }\n      return `${truncateForDisplay(data.name)}() {}`;\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n\nexport function backendToFrontendSerializedElementMapper(\n  element: SerializedElementBackend,\n): SerializedElementFrontend {\n  const {formattedDisplayName, hocDisplayNames, compiledWithForget} =\n    parseElementDisplayNameFromBackend(element.displayName, element.type);\n\n  return {\n    ...element,\n    displayName: formattedDisplayName,\n    hocDisplayNames,\n    compiledWithForget,\n  };\n}\n\n// Chrome normalizes urls like webpack-internals:// but new URL don't, so cannot use new URL here.\nexport function normalizeUrl(url: string): string {\n  return url.replace('/./', '/');\n}\n\nexport function getIsReloadAndProfileSupported(): boolean {\n  // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n  // If not, features like reload-and-profile will not work correctly and must be disabled.\n  let isBackendStorageAPISupported = false;\n  try {\n    localStorage.getItem('test');\n    isBackendStorageAPISupported = true;\n  } catch (error) {}\n\n  return isBackendStorageAPISupported && isSynchronousXHRSupported();\n}\n\n// Expected to be used only by browser extension and react-devtools-inline\nexport function getIfReloadedAndProfiling(): boolean {\n  return (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  );\n}\n\nexport function getProfilingSettings(): ProfilingSettings {\n  return {\n    recordChangeDescriptions:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n      'true',\n    recordTimeline:\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_TIMELINE_KEY) === 'true',\n  };\n}\n\nexport function onReloadAndProfile(\n  recordChangeDescriptions: boolean,\n  recordTimeline: boolean,\n): void {\n  sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n    recordChangeDescriptions ? 'true' : 'false',\n  );\n  sessionStorageSetItem(\n    SESSION_STORAGE_RECORD_TIMELINE_KEY,\n    recordTimeline ? 'true' : 'false',\n  );\n}\n\nexport function onReloadAndProfileFlagsReset(): void {\n  sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n  sessionStorageRemoveItem(SESSION_STORAGE_RECORD_TIMELINE_KEY);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      typeof data.constructor !== 'function' ||\n      typeof data.constructor.name !== 'string' ||\n      data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      const arr: Array<Object> = [];\n      for (let i = 0; i < data.length; i++) {\n        arr[i] = dehydrateKey(\n          data,\n          i,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      }\n      return arr;\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            typeof data.constructor !== 'function' ||\n            typeof data.constructor.name !== 'string' ||\n            data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrateKey(\n            data,\n            key,\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.constructor !== 'function' ||\n          typeof data.constructor.name !== 'string'\n            ? ''\n            : data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nfunction dehydrateKey(\n  parent: Object,\n  key: number | string | symbol,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  try {\n    return dehydrate(\n      parent[key],\n      cleaned,\n      unserializable,\n      path,\n      isPathAllowed,\n      level,\n    );\n  } catch (error) {\n    let preview = '';\n    if (\n      typeof error === 'object' &&\n      error !== null &&\n      typeof error.stack === 'string'\n    ) {\n      preview = error.stack;\n    } else if (typeof error === 'string') {\n      preview = error;\n    }\n    cleaned.push(path);\n    return {\n      inspectable: false,\n      preview_short: '[Exception]',\n      preview_long: preview ? '[Exception: ' + preview + ']' : '[Exception]',\n      name: preview,\n      type: 'unknown',\n    };\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from 'react-devtools-shared/src/hydration';\nimport isArray from 'shared/isArray';\n\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\nexport {default as formatWithStyles} from './formatWithStyles';\nexport {default as formatConsoleArguments} from './formatConsoleArguments';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof data === 'function') {\n    return data.toString();\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key: string, value: any) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\nfunction safeToString(val: any): string {\n  try {\n    return String(val);\n  } catch (err) {\n    if (typeof val === 'object') {\n      // An object with no prototype and no `[Symbol.toPrimitive]()`, `toString()`, and `valueOf()` methods would throw.\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#string_coercion\n      return '[object Object]';\n    }\n    throw err;\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\nexport function formatConsoleArgumentsToSingleString(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = safeToString(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      // $FlowFixMe[incompatible-call]\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            // $FlowFixMe[unsafe-addition]\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + safeToString(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n\nexport const isReactNativeEnvironment = (): boolean => {\n  // We've been relying on this for such a long time\n  // We should probably define the client for DevTools on the backend side and share it with the frontend\n  return window.document == null;\n};\n\nfunction extractLocation(\n  url: string,\n): null | {sourceURL: string, line?: string, column?: string} {\n  if (url.indexOf(':') === -1) {\n    return null;\n  }\n\n  // remove any parentheses from start and end\n  const withoutParentheses = url.replace(/^\\(+/, '').replace(/\\)+$/, '');\n  const locationParts = /(at )?(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(\n    withoutParentheses,\n  );\n\n  if (locationParts == null) {\n    return null;\n  }\n\n  const [, , sourceURL, line, column] = locationParts;\n  return {sourceURL, line, column};\n}\n\nconst CHROME_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nfunction parseSourceFromChromeStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n\n    const locationInParenthesesMatch = sanitizedFrame.match(/ (\\(.+\\)$)/);\n    const possibleLocation = locationInParenthesesMatch\n      ? locationInParenthesesMatch[1]\n      : sanitizedFrame;\n\n    const location = extractLocation(possibleLocation);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nfunction parseSourceFromFirefoxStack(stack: string): Source | null {\n  const frames = stack.split('\\n');\n  // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n  for (const frame of frames) {\n    const sanitizedFrame = frame.trim();\n    const frameWithoutFunctionName = sanitizedFrame.replace(\n      /((.*\".+\"[^@]*)?[^@]*)(?:@)/,\n      '',\n    );\n\n    const location = extractLocation(frameWithoutFunctionName);\n    // Continue the search until at least sourceURL is found\n    if (location == null) {\n      continue;\n    }\n\n    const {sourceURL, line = '1', column = '1'} = location;\n\n    return {\n      sourceURL,\n      line: parseInt(line, 10),\n      column: parseInt(column, 10),\n    };\n  }\n\n  return null;\n}\n\nexport function parseSourceFromComponentStack(\n  componentStack: string,\n): Source | null {\n  if (componentStack.match(CHROME_STACK_REGEXP)) {\n    return parseSourceFromChromeStack(componentStack);\n  }\n\n  return parseSourceFromFirefoxStack(componentStack);\n}\n\n// 0.123456789 => 0.123\n// Expects high-resolution timestamp in milliseconds, like from performance.now()\n// Mainly used for optimizing the size of serialized profiling payload\nexport function formatDurationToMicrosecondsGranularity(\n  duration: number,\n): number {\n  return Math.round(duration * 1000) / 1000;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: HTMLElement): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n\nexport function extractHOCNames(displayName: string): {\n  baseComponentName: string,\n  hocNames: string[],\n} {\n  if (!displayName) return {baseComponentName: '', hocNames: []};\n\n  const hocRegex = /([A-Z][a-zA-Z0-9]*?)\\((.*)\\)/g;\n  const hocNames: string[] = [];\n  let baseComponentName = displayName;\n  let match;\n\n  while ((match = hocRegex.exec(baseComponentName)) != null) {\n    if (Array.isArray(match)) {\n      const [, hocName, inner] = match;\n      hocNames.push(hocName);\n      baseComponentName = inner;\n    }\n  }\n\n  return {\n    baseComponentName,\n    hocNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: $ReadOnlyArray<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      // $FlowFixMe[incompatible-use]\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const ownerName = this.agent.getComponentNameForHostInstance(node);\n      if (ownerName) {\n        name += ' (in ' + ownerName + ')';\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\nimport type {HostInstance} from '../../types';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nfunction hideOverlayNative(agent: Agent): void {\n  agent.emit('hideNativeHighlight');\n}\n\nfunction hideOverlayWeb(): void {\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function hideOverlay(agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? hideOverlayNative(agent)\n    : hideOverlayWeb();\n}\n\nfunction showOverlayNative(\n  elements: $ReadOnlyArray<HostInstance>,\n  agent: Agent,\n): void {\n  agent.emit('showNativeHighlight', elements);\n}\n\nfunction showOverlayWeb(\n  elements: $ReadOnlyArray<HTMLElement>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n\nexport function showOverlay(\n  elements: $ReadOnlyArray<HostInstance>,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n): void {\n  return isReactNativeEnvironment()\n    ? showOverlayNative(elements, agent)\n    : showOverlayWeb(\n        (elements: $ReadOnlyArray<any>),\n        componentName,\n        agent,\n        hideAfterTimeout,\n      );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nconst DATA_PATH_ATTRIBUTE = 'cs-data-component-path';\nconst DATA_COMPONENT_NAME_ATTRIBUTE = 'cs-data-component-name';\nconst DATA_LINE_ATTRIBUTE = 'cs-data-component-line';\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener('clearHostInstanceHighlight', clearHostInstanceHighlight);\n  bridge.addListener('highlightHostInstance', highlightHostInstance);\n  bridge.addListener('shutdown', stopInspectingHost);\n  bridge.addListener('startInspectingHost', startInspectingHost);\n  bridge.addListener('stopInspectingHost', stopInspectingHost);\n  bridge.addListener('inspectingClearOverlays', inspectingClearOverlays);\n\n  function startInspectingHost() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingHost() {\n    // hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function inspectingClearOverlays() {\n    hideOverlay();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearHostInstanceHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightHostInstance({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openBuiltinElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openBuiltinElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasElementWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes = renderer.findHostInstancesForElementID(id);\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openBuiltinElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToBuiltinElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingHost();\n\n    bridge.send('stopInspectingHost', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectElementForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectElementForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectElementForNode = (node: HTMLElement) => {\n    const id = agent.getIDForHostInstance(node);\n    if (id !== null) {\n      bridge.send('selectElement', id);\n      if (node.hasAttribute(DATA_PATH_ATTRIBUTE) && node.hasAttribute(DATA_COMPONENT_NAME_ATTRIBUTE) && node.hasAttribute(DATA_LINE_ATTRIBUTE)) {\n        const path = node.getAttribute(DATA_PATH_ATTRIBUTE);\n        const componentName = node.getAttribute(DATA_COMPONENT_NAME_ATTRIBUTE);\n        const lineAttribute = node.getAttribute(DATA_LINE_ATTRIBUTE);\n        if (!path || !componentName || !lineAttribute) {\n          throw new Error('Tagged data not defined');\n        }\n        const line = +lineAttribute;\n\n        bridge.send('taggedData', {id, data: { path, componentName, line}})\n      }\n    }\n  };\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {HostInstance} from '../../types';\nimport type Agent from '../../agent';\n\nimport {isReactNativeEnvironment} from 'react-devtools-shared/src/backend/utils';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nfunction drawNative(nodeToData: Map<HostInstance, Data>, agent: Agent) {\n  const nodesToDraw = [];\n  iterateNodes(nodeToData, ({color, node}) => {\n    nodesToDraw.push({node, color});\n  });\n\n  agent.emit('drawTraceUpdates', nodesToDraw);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n  agent.emit('drawGroupedTraceUpdatesWithNames', mergedNodes);\n}\n\nfunction drawWeb(nodeToData: Map<HostInstance, Data>) {\n  if (canvas === null) {\n    initialize();\n  }\n\n  const dpr = window.devicePixelRatio || 1;\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth * dpr;\n  canvasFlow.height = window.innerHeight * dpr;\n  canvasFlow.style.width = `${window.innerWidth}px`;\n  canvasFlow.style.height = `${window.innerHeight}px`;\n\n  const context = canvasFlow.getContext('2d');\n  context.scale(dpr, dpr);\n\n  context.clearRect(0, 0, canvasFlow.width / dpr, canvasFlow.height / dpr);\n\n  const mergedNodes = groupAndSortNodes(nodeToData);\n\n  mergedNodes.forEach(group => {\n    drawGroupBorders(context, group);\n    drawGroupLabel(context, group);\n  });\n}\n\ntype GroupItem = {\n  rect: Rect,\n  color: string,\n  displayName: string | null,\n  count: number,\n};\n\nexport type {GroupItem};\n\nexport function groupAndSortNodes(\n  nodeToData: Map<HostInstance, Data>,\n): Array<Array<GroupItem>> {\n  const positionGroups: Map<string, Array<GroupItem>> = new Map();\n\n  iterateNodes(nodeToData, ({rect, color, displayName, count}) => {\n    if (!rect) return;\n    const key = `${rect.left},${rect.top}`;\n    if (!positionGroups.has(key)) positionGroups.set(key, []);\n    positionGroups.get(key)?.push({rect, color, displayName, count});\n  });\n\n  return Array.from(positionGroups.values()).sort((groupA, groupB) => {\n    const maxCountA = Math.max(...groupA.map(item => item.count));\n    const maxCountB = Math.max(...groupB.map(item => item.count));\n    return maxCountA - maxCountB;\n  });\n}\n\nfunction drawGroupBorders(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  group.forEach(({color, rect}) => {\n    context.beginPath();\n    context.strokeStyle = color;\n    context.rect(rect.left, rect.top, rect.width - 1, rect.height - 1);\n    context.stroke();\n  });\n}\n\nfunction drawGroupLabel(\n  context: CanvasRenderingContext2D,\n  group: Array<GroupItem>,\n) {\n  const mergedName = group\n    .map(({displayName, count}) =>\n      displayName ? `${displayName}${count > 1 ? ` x${count}` : ''}` : '',\n    )\n    .filter(Boolean)\n    .join(', ');\n\n  if (mergedName) {\n    drawLabel(context, group[0].rect, mergedName, group[0].color);\n  }\n}\n\nexport function draw(nodeToData: Map<HostInstance, Data>, agent: Agent): void {\n  return isReactNativeEnvironment()\n    ? drawNative(nodeToData, agent)\n    : drawWeb(nodeToData);\n}\n\ntype DataWithColorAndNode = {\n  ...Data,\n  color: string,\n  node: HostInstance,\n};\n\nfunction iterateNodes(\n  nodeToData: Map<HostInstance, Data>,\n  execute: (data: DataWithColorAndNode) => void,\n) {\n  nodeToData.forEach((data, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, data.count - 1);\n    const color = COLORS[colorIndex];\n    execute({\n      color,\n      node,\n      count: data.count,\n      displayName: data.displayName,\n      expirationTime: data.expirationTime,\n      lastMeasuredAt: data.lastMeasuredAt,\n      rect: data.rect,\n    });\n  });\n}\n\nfunction drawLabel(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  text: string,\n  color: string,\n): void {\n  const {left, top} = rect;\n  context.font = '10px monospace';\n  context.textBaseline = 'middle';\n  context.textAlign = 'center';\n\n  const padding = 2;\n  const textHeight = 14;\n\n  const metrics = context.measureText(text);\n  const backgroundWidth = metrics.width + padding * 2;\n  const backgroundHeight = textHeight;\n  const labelX = left;\n  const labelY = top - backgroundHeight;\n\n  context.fillStyle = color;\n  context.fillRect(labelX, labelY, backgroundWidth, backgroundHeight);\n\n  context.fillStyle = '#000000';\n  context.fillText(\n    text,\n    labelX + backgroundWidth / 2,\n    labelY + backgroundHeight / 2,\n  );\n}\n\nfunction destroyNative(agent: Agent) {\n  agent.emit('disableTraceUpdates');\n}\n\nfunction destroyWeb() {\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nexport function destroy(agent: Agent): void {\n  return isReactNativeEnvironment() ? destroyNative(agent) : destroyWeb();\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {extractHOCNames, getNestedBoundingClientRect} from '../utils';\n\nimport type {HostInstance} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Markers for different types of HOCs\nconst HOC_MARKERS = new Map([\n  ['Forget', ''],\n  ['Memo', ''],\n]);\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n  displayName: string | null,\n};\n\nconst nodeToData: Map<HostInstance, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<HostInstance>): void {\n  if (!isEnabled) return;\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    let displayName = agent.getComponentNameForHostInstance(node);\n    if (displayName) {\n      const {baseComponentName, hocNames} = extractHOCNames(displayName);\n\n      const markers = hocNames.map(hoc => HOC_MARKERS.get(hoc) || '').join('');\n\n      const enhancedDisplayName = markers\n        ? `${markers}${baseComponentName}`\n        : baseComponentName;\n\n      displayName = enhancedDisplayName;\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n      displayName,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\nimport type { TaggedData } from './backend/types';\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightHostInstance = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openBuiltinElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  componentFilters: Array<ComponentFilter>,\n};\n\nexport type BackendEvents = {\n  backendInitialized: [],\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isReloadAndProfileSupportedByBackend: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  environmentNames: [Array<string>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectElement: [number],\n  taggedData: [{id: number, data: TaggedData}],\n  shutdown: [],\n  stopInspectingHost: [boolean],\n  syncSelectionFromBuiltinElementsPanel: [],\n  syncSelectionToBuiltinElementsPanel: [],\n  unsupportedRendererVersion: [],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n\n  hookSettings: [$ReadOnly<DevToolsHookSettings>],\n};\n\ntype StartProfilingParams = ProfilingSettings;\ntype ReloadAndProfilingParams = ProfilingSettings;\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForElementID: [ElementAndRendererID],\n  clearHostInstanceHighlight: [],\n  clearWarningsForElementID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getIfHasUnsupportedRendererVersion: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightHostInstance: [HighlightHostInstance],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [ReloadAndProfilingParams],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingHost: [],\n  startProfiling: [StartProfilingParams],\n  stopInspectingHost: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  getEnvironmentNames: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n\n  getHookSettings: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _scheduledFlush: boolean = false;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._scheduledFlush) {\n      this._scheduledFlush = true;\n      // $FlowFixMe\n      if (typeof devtoolsJestTestScheduler === 'function') {\n        // This exists just for our own jest tests.\n        // They're written in such a way that we can neither mock queueMicrotask\n        // because then we break React DOM and we can't not mock it because then\n        // we can't synchronously flush it. So they need to be rewritten.\n        // $FlowFixMe\n        devtoolsJestTestScheduler(this._flush); // eslint-disable-line no-undef\n      } else {\n        queueMicrotask(this._flush);\n      }\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n    try {\n      if (this._messageQueue.length) {\n        for (let i = 0; i < this._messageQueue.length; i += 2) {\n          this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n        }\n        this._messageQueue.length = 0;\n      }\n    } finally {\n      // We set this at the end in case new messages are added synchronously above.\n      // They're already handled so they shouldn't queue more flushes.\n      this._scheduledFlush = false;\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport {SESSION_STORAGE_LAST_SELECTION_KEY, __DEBUG__} from '../constants';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  HostInstance,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  DevToolsHookSettings,\n} from './types';\nimport type {ComponentFilter} from 'react-devtools-shared/src/frontend/types';\nimport type {GroupItem} from './views/TraceUpdates/canvas';\nimport {isReactNativeEnvironment} from './utils';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from '../storage';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [HostInstance],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<HostInstance>],\n  drawTraceUpdates: [Array<HostInstance>],\n  drawGroupedTraceUpdatesWithNames: [Array<Array<GroupItem>>],\n  disableTraceUpdates: [],\n  getIfHasUnsupportedRendererVersion: [],\n  updateHookSettings: [$ReadOnly<DevToolsHookSettings>],\n  getHookSettings: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n  _onReloadAndProfile:\n    | ((recordChangeDescriptions: boolean, recordTimeline: boolean) => void)\n    | void;\n\n  constructor(\n    bridge: BackendBridge,\n    isProfiling: boolean = false,\n    onReloadAndProfile?: (\n      recordChangeDescriptions: boolean,\n      recordTimeline: boolean,\n    ) => void,\n  ) {\n    super();\n\n    this._isProfiling = isProfiling;\n    this._onReloadAndProfile = onReloadAndProfile;\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForElementID', this.clearErrorsForElementID);\n    bridge.addListener(\n      'clearWarningsForElementID',\n      this.clearWarningsForElementID,\n    );\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromBuiltinElementsPanel',\n      this.syncSelectionFromBuiltinElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n\n    bridge.addListener('updateHookSettings', this.updateHookSettings);\n    bridge.addListener('getHookSettings', this.getHookSettings);\n\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('getEnvironmentNames', this.getEnvironmentNames);\n    bridge.addListener(\n      'getIfHasUnsupportedRendererVersion',\n      this.getIfHasUnsupportedRendererVersion,\n    );\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n\n    // By this time, Store should already be initialized and intercept events\n    bridge.send('backendInitialized');\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForElementID(id);\n    }\n  };\n\n  clearWarningsForElementID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForElementID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getIDForHostInstance(target: HostInstance): number | null {\n    if (isReactNativeEnvironment() || typeof target.nodeType !== 'number') {\n      // In React Native or non-DOM we simply pick any renderer that has a match.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        try {\n          const match = renderer.getElementIDForHostInstance(target);\n          if (match != null) {\n            return match;\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    } else {\n      // In the DOM we use a smarter mechanism to find the deepest a DOM node\n      // that is registered if there isn't an exact match.\n      let bestMatch: null | Element = null;\n      let bestRenderer: null | RendererInterface = null;\n      // Find the nearest ancestor which is mounted by a React.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        const nearestNode: null | Element = renderer.getNearestMountedDOMNode(\n          (target: any),\n        );\n        if (nearestNode !== null) {\n          if (nearestNode === target) {\n            // Exact match we can exit early.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            break;\n          }\n          if (bestMatch === null || bestMatch.contains(nearestNode)) {\n            // If this is the first match or the previous match contains the new match,\n            // so the new match is a deeper and therefore better match.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n          }\n        }\n      }\n      if (bestRenderer != null && bestMatch != null) {\n        try {\n          return bestRenderer.getElementIDForHostInstance(bestMatch);\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    }\n  }\n\n  getComponentNameForHostInstance(target: HostInstance): string | null {\n    // We duplicate this code from getIDForHostInstance to avoid an object allocation.\n    if (isReactNativeEnvironment() || typeof target.nodeType !== 'number') {\n      // In React Native or non-DOM we simply pick any renderer that has a match.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        try {\n          const id = renderer.getElementIDForHostInstance(target);\n          if (id) {\n            return renderer.getDisplayNameForElementID(id);\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    } else {\n      // In the DOM we use a smarter mechanism to find the deepest a DOM node\n      // that is registered if there isn't an exact match.\n      let bestMatch: null | Element = null;\n      let bestRenderer: null | RendererInterface = null;\n      // Find the nearest ancestor which is mounted by a React.\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        const nearestNode: null | Element = renderer.getNearestMountedDOMNode(\n          (target: any),\n        );\n        if (nearestNode !== null) {\n          if (nearestNode === target) {\n            // Exact match we can exit early.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n            break;\n          }\n          if (bestMatch === null || bestMatch.contains(nearestNode)) {\n            // If this is the first match or the previous match contains the new match,\n            // so the new match is a deeper and therefore better match.\n            bestMatch = nearestNode;\n            bestRenderer = renderer;\n          }\n        }\n      }\n      if (bestRenderer != null && bestMatch != null) {\n        try {\n          const id = bestRenderer.getElementIDForHostInstance(bestMatch);\n          if (id) {\n            return bestRenderer.getDisplayNameForElementID(id);\n          }\n        } catch (error) {\n          // Some old React versions might throw if they can't find a match.\n          // If so we should ignore it...\n        }\n      }\n      return null;\n    }\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        // Throttle persisting the selection.\n        this._lastSelectedElementID = id;\n        this._lastSelectedRendererID = rendererID;\n        if (!this._persistSelectionTimerScheduled) {\n          this._persistSelectionTimerScheduled = true;\n          setTimeout(this._persistSelection, 1000);\n        }\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in built-in Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  onReloadAndProfileSupportedByHost: () => void = () => {\n    this._bridge.send('isReloadAndProfileSupportedByBackend', true);\n  };\n\n  reloadAndProfile: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    if (typeof this._onReloadAndProfile === 'function') {\n      this._onReloadAndProfile(recordChangeDescriptions, recordTimeline);\n    }\n\n    // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n    // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n    // The agent can't do this in a way that is renderer agnostic.\n    this._bridge.send('reloadAppForProfiling');\n  };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: HostInstance): void {\n    const id = this.getIDForHostInstance(target);\n    if (id !== null) {\n      this._bridge.send('selectElement', id);\n    }\n  }\n\n  registerRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromBuiltinElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n\n    this._bridge.removeAllListeners();\n    this.removeAllListeners();\n  };\n\n  startProfiling: ({\n    recordChangeDescriptions: boolean,\n    recordTimeline: boolean,\n  }) => void = ({recordChangeDescriptions, recordTimeline}) => {\n    this._isProfiling = true;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.startProfiling(recordChangeDescriptions, recordTimeline);\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingHost', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      // Propagate the settings, so Backend can subscribe to it and modify hook\n      this.emit('updateHookSettings', settings);\n    };\n\n  getHookSettings: () => void = () => {\n    this.emit('getHookSettings');\n  };\n\n  onHookSettings: (settings: $ReadOnly<DevToolsHookSettings>) => void =\n    settings => {\n      this._bridge.send('hookSettings', settings);\n    };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererIDString in this._rendererInterfaces) {\n        const rendererID = +rendererIDString;\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        if (this._lastSelectedRendererID === rendererID) {\n          // Changing component filters will unmount and remount the DevTools tree.\n          // Track the last selection's path so we can restore the selection.\n          const path = renderer.getPathForElement(this._lastSelectedElementID);\n          if (path !== null) {\n            renderer.setTrackedPath(path);\n            this._persistedSelection = {\n              rendererID,\n              path,\n            };\n          }\n        }\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  getEnvironmentNames: () => void = () => {\n    let accumulatedNames = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = this._rendererInterfaces[+rendererID];\n      const names = renderer.getEnvironmentNames();\n      if (accumulatedNames === null) {\n        accumulatedNames = names;\n      } else {\n        for (let i = 0; i < names.length; i++) {\n          if (accumulatedNames.indexOf(names[i]) === -1) {\n            accumulatedNames.push(names[i]);\n          }\n        }\n      }\n    }\n    this._bridge.send('environmentNames', accumulatedNames || []);\n  };\n\n  onTraceUpdates: (nodes: Set<HostInstance>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectElement', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  getIfHasUnsupportedRendererVersion: () => void = () => {\n    this.emit('getIfHasUnsupportedRendererVersion');\n  };\n\n  onUnsupportedRenderer() {\n    this._bridge.send('unsupportedRendererVersion');\n  }\n\n  _persistSelectionTimerScheduled: boolean = false;\n  _lastSelectedRendererID: number = -1;\n  _lastSelectedElementID: number = -1;\n  _persistSelection: any = () => {\n    this._persistSelectionTimerScheduled = false;\n    const rendererID = this._lastSelectedRendererID;\n    const id = this._lastSelectedElementID;\n    // This is throttled, so both renderer and selected ID\n    // might not be available by the time we read them.\n    // This is why we need the defensive checks here.\n    const renderer = this._rendererInterfaces[rendererID];\n    const path = renderer != null ? renderer.getPathForElement(id) : null;\n    if (path !== null) {\n      sessionStorageSetItem(\n        SESSION_STORAGE_LAST_SELECTION_KEY,\n        JSON.stringify(({rendererID, path}: PersistedSelection)),\n      );\n    } else {\n      sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n    }\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {CurrentDispatcherRef} from '../types';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(name: string): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  let suffix = '';\n  if (__IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__) {\n    suffix = ' (<anonymous>)';\n  } else if (__IS_FIREFOX__) {\n    suffix = '@unknown:0:0';\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  // We use a suffix to ensure it gets parsed natively.\n  return '\\n' + prefix + name + suffix;\n}\n\nexport function describeDebugInfoFrame(name: string, env: ?string): string {\n  return describeBuiltInComponentFrame(name + (env ? ' [' + env + ']' : ''));\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.H;\n  currentDispatcherRef.H = null;\n  disableLogs();\n  try {\n    // NOTE: keep in sync with the implementation in ReactComponentStackFrame\n\n    /**\n     * Finding a common stack frame between sample and control errors can be\n     * tricky given the different types and levels of stack trace truncation from\n     * different JS VMs. So instead we'll attempt to control what that common\n     * frame should be through this object method:\n     * Having both the sample and control errors be in the function under the\n     * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n     * `displayName` properties of the function ensures that a stack\n     * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n     * it for both control and sample stacks.\n     */\n    const RunInRootFrame = {\n      DetermineComponentFrameRoot(): [?string, ?string] {\n        let control;\n        try {\n          // This should throw.\n          if (construct) {\n            // Something should be setting the props in the constructor.\n            const Fake = function () {\n              throw Error();\n            };\n            // $FlowFixMe[prop-missing]\n            Object.defineProperty(Fake.prototype, 'props', {\n              set: function () {\n                // We use a throwing setter instead of frozen or non-writable props\n                // because that won't throw in a non-strict mode function.\n                throw Error();\n              },\n            });\n            if (typeof Reflect === 'object' && Reflect.construct) {\n              // We construct a different control for this case to include any extra\n              // frames added by the construct call.\n              try {\n                Reflect.construct(Fake, []);\n              } catch (x) {\n                control = x;\n              }\n              Reflect.construct(fn, [], Fake);\n            } else {\n              try {\n                Fake.call();\n              } catch (x) {\n                control = x;\n              }\n              // $FlowFixMe[prop-missing] found when upgrading Flow\n              fn.call(Fake.prototype);\n            }\n          } else {\n            try {\n              throw Error();\n            } catch (x) {\n              control = x;\n            }\n            // TODO(luna): This will currently only throw if the function component\n            // tries to access React/ReactDOM/props. We should probably make this throw\n            // in simple components too\n            const maybePromise = fn();\n\n            // If the function component returns a promise, it's likely an async\n            // component, which we don't yet support. Attach a noop catch handler to\n            // silence the error.\n            // TODO: Implement component stacks for async client components?\n            if (maybePromise && typeof maybePromise.catch === 'function') {\n              maybePromise.catch(() => {});\n            }\n          }\n        } catch (sample) {\n          // This is inlined manually because closure doesn't do it for us.\n          if (sample && control && typeof sample.stack === 'string') {\n            return [sample.stack, control.stack];\n          }\n        }\n        return [null, null];\n      },\n    };\n    // $FlowFixMe[prop-missing]\n    RunInRootFrame.DetermineComponentFrameRoot.displayName =\n      'DetermineComponentFrameRoot';\n    const namePropDescriptor = Object.getOwnPropertyDescriptor(\n      RunInRootFrame.DetermineComponentFrameRoot,\n      'name',\n    );\n    // Before ES6, the `name` property was not configurable.\n    if (namePropDescriptor && namePropDescriptor.configurable) {\n      // V8 utilizes a function's `name` property when generating a stack trace.\n      Object.defineProperty(\n        RunInRootFrame.DetermineComponentFrameRoot,\n        // Configurable properties can be updated even if its writable descriptor\n        // is set to `false`.\n        // $FlowFixMe[cannot-write]\n        'name',\n        {value: 'DetermineComponentFrameRoot'},\n      );\n    }\n\n    const [sampleStack, controlStack] =\n      RunInRootFrame.DetermineComponentFrameRoot();\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sampleStack.split('\\n');\n      const controlLines = controlStack.split('\\n');\n      let s = 0;\n      let c = 0;\n      while (\n        s < sampleLines.length &&\n        !sampleLines[s].includes('DetermineComponentFrameRoot')\n      ) {\n        s++;\n      }\n      while (\n        c < controlLines.length &&\n        !controlLines[c].includes('DetermineComponentFrameRoot')\n      ) {\n        c++;\n      }\n      // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                let frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n\n                // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n                if (fn.displayName && frame.includes('<anonymous>')) {\n                  frame = frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.H = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ReactOwnerStackFrames.\n\nexport function formatOwnerStack(error: Error): string {\n  const prevPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n  let stack = error.stack;\n  Error.prepareStackTrace = prevPrepareStackTrace;\n  if (stack.startsWith('Error: react-stack-top-frame\\n')) {\n    // V8's default formatting prefixes with the error message which we\n    // don't want/need.\n    stack = stack.slice(29);\n  }\n  let idx = stack.indexOf('\\n');\n  if (idx !== -1) {\n    // Pop the JSX frame.\n    stack = stack.slice(idx + 1);\n  }\n  idx = stack.indexOf('react-stack-bottom-frame');\n  if (idx !== -1) {\n    idx = stack.lastIndexOf('\\n', idx);\n  }\n  if (idx !== -1) {\n    // Cut off everything after the bottom frame since it'll be internals.\n    stack = stack.slice(0, idx);\n  } else {\n    // We didn't find any internal callsite out to user space.\n    // This means that this was called outside an owner or the owner is fully internal.\n    // To keep things light we exclude the entire trace in this case.\n    return '';\n  }\n  return stack;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentInfoStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {describeBuiltInComponentFrame} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function getOwnerStackByComponentInfoInDev(\n  componentInfo: ReactComponentInfo,\n): string {\n  try {\n    let info = '';\n\n    // The owner stack of the current component will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, if there is no owner at all, then\n    // there's no stack frame so we add the name of the root component to the stack to know which\n    // component is currently executing.\n    if (!componentInfo.owner && typeof componentInfo.name === 'string') {\n      return describeBuiltInComponentFrame(componentInfo.name);\n    }\n\n    let owner: void | null | ReactComponentInfo = componentInfo;\n\n    while (owner) {\n      const ownerStack: ?Error = owner.debugStack;\n      if (ownerStack != null) {\n        // Server Component\n        owner = owner.owner;\n        if (owner) {\n          // TODO: Should we stash this somewhere for caching purposes?\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This keeps track of Server Component logs which may come from.\n// This is in a shared module because Server Component logs don't come from a specific renderer\n// but can become associated with a Virtual Instance of any renderer.\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\ntype ComponentLogs = {\n  errors: Map<string, number>,\n  errorsCount: number,\n  warnings: Map<string, number>,\n  warningsCount: number,\n};\n\n// This keeps it around as long as the ComponentInfo is alive which\n// lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n// Unless we explicitly clear the logs from a Fiber.\nexport const componentInfoToComponentLogsMap: WeakMap<\n  ReactComponentInfo,\n  ComponentLogs,\n> = new WeakMap();\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from '../types';\n\nimport {getOwnerStackByComponentInfoInDev} from './DevToolsComponentInfoStack';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport {formatConsoleArgumentsToSingleString} from 'react-devtools-shared/src/backend/utils';\n\nfunction supportsConsoleTasks(componentInfo: ReactComponentInfo): boolean {\n  // If this ReactComponentInfo supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!componentInfo.debugTask;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  const {getCurrentComponentInfo} = renderer;\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentComponentInfo();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const enableOwnerStacks = current.debugStack != null;\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByComponentInfoInDev(current);\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentComponentInfo === undefined) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const componentInfo = getCurrentComponentInfo();\n    if (componentInfo === null) {\n      // Outside of our render scope.\n      return;\n    }\n\n    if (\n      args.length > 3 &&\n      typeof args[0] === 'string' &&\n      args[0].startsWith('%c%s%c ') &&\n      typeof args[1] === 'string' &&\n      typeof args[2] === 'string' &&\n      typeof args[3] === 'string'\n    ) {\n      // This looks like the badge we prefixed to the log. Our UI doesn't support formatted logs.\n      // We remove the formatting. If the environment of the log is the same as the environment of\n      // the component (the common case) we remove the badge completely otherwise leave it plain\n      const format = args[0].slice(7);\n      const env = args[2].trim();\n      args = args.slice(4);\n      if (env !== componentInfo.env) {\n        args.unshift('[' + env + '] ' + format);\n      } else {\n        args.unshift(format);\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0,\n        warnings: new Map(),\n        warningsCount: 0,\n      };\n      componentInfoToComponentLogsMap.set(componentInfo, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit this tree to Fiber.\n  }\n\n  return {\n    cleanup() {},\n    clearErrorsAndWarnings() {},\n    clearErrorsForElementID() {},\n    clearWarningsForElementID() {},\n    getSerializedElementValueByPath() {},\n    deletePath() {},\n    findHostInstancesForElementID() {\n      return null;\n    },\n    flushInitialOperations() {},\n    getBestMatchForTrackedPath() {\n      return null;\n    },\n    getComponentStack,\n    getDisplayNameForElementID() {\n      return null;\n    },\n    getNearestMountedDOMNode() {\n      return null;\n    },\n    getElementIDForHostInstance() {\n      return null;\n    },\n    getInstanceAndStyle() {\n      return {\n        instance: null,\n        style: null,\n      };\n    },\n    getOwnersList() {\n      return null;\n    },\n    getPathForElement() {\n      return null;\n    },\n    getProfilingData() {\n      throw new Error('getProfilingData not supported by this renderer');\n    },\n    handleCommitFiberRoot() {},\n    handleCommitFiberUnmount() {},\n    handlePostCommitFiberRoot() {},\n    hasElementWithId() {\n      return false;\n    },\n    inspectElement(\n      requestID: number,\n      id: number,\n      path: Array<string | number> | null,\n    ) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    },\n    logElementToConsole() {},\n    getElementAttributeByPath() {},\n    getElementSourceFunctionById() {},\n    onErrorOrWarning,\n    overrideError() {},\n    overrideSuspense() {},\n    overrideValueAtPath() {},\n    renamePath() {},\n    renderer,\n    setTraceUpdatesEnabled() {},\n    setTrackedPath() {},\n    startProfiling() {},\n    stopProfiling() {},\n    storeAsGlobal() {},\n    updateComponentFilters() {},\n    getEnvironmentNames() {\n      return [];\n    },\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.transitional.element)';\nexport const LEGACY_ELEMENT_NUMBER = 0xeac7;\nexport const LEGACY_ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const CONSUMER_SYMBOL_STRING = 'Symbol(react.consumer)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n\n/************************************************************************\n * Do not edit the code below.\n * It ensures this fork exports the same types as the default flags file.\n ************************************************************************/\n\nimport typeof * as FeatureFlagsType from './DevToolsFeatureFlags.default';\nimport typeof * as ExportsType from './DevToolsFeatureFlags.core-oss';\n\n// Flow magic to verify the exports of this file match the original version.\n((((null: any): ExportsType): FeatureFlagsType): ExportsType);\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from '../types';\n\nimport type {ReactComponentInfo} from 'shared/ReactTypes';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n  describeDebugInfoFrame,\n} from '../shared/DevToolsComponentStackFrame';\n\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n    ViewTransitionComponent,\n  } = workTagMap;\n\n  switch (workInProgress.tag) {\n    case HostHoistable:\n    case HostSingleton:\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type);\n    case LazyComponent:\n      // TODO: When we support Thenables as component types we should rename this.\n      return describeBuiltInComponentFrame('Lazy');\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense');\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList');\n    case ViewTransitionComponent:\n      return describeBuiltInComponentFrame('ViewTransition');\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // Add any Server Component stack frames in reverse order.\n      const debugInfo = node._debugInfo;\n      if (debugInfo) {\n        for (let i = debugInfo.length - 1; i >= 0; i--) {\n          const entry = debugInfo[i];\n          if (typeof entry.name === 'string') {\n            info += describeDebugInfoFrame(entry.name, entry.env);\n          }\n        }\n      }\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n\nexport function getSourceLocationByFiber(\n  workTagMap: WorkTagMap,\n  fiber: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): null | string {\n  // This is like getStackByFiberInDevAndProd but just the first stack frame.\n  try {\n    const info = describeFiber(workTagMap, fiber, currentDispatcherRef);\n    if (info !== '') {\n      return info.slice(1); // skip the leading newline\n    }\n  } catch (x) {\n    console.error(x);\n  }\n  return null;\n}\n\nexport function supportsConsoleTasks(fiber: Fiber): boolean {\n  // If this Fiber supports native console.createTask then we are already running\n  // inside a native async stack trace if it's active - meaning the DevTools is open.\n  // Ideally we'd detect if this task was created while the DevTools was open or not.\n  return !!fiber._debugTask;\n}\n\nexport function supportsOwnerStacks(fiber: Fiber): boolean {\n  // If this Fiber supports owner stacks then it'll have the _debugStack field.\n  // It might be null but that still means we should use the owner stack logic.\n  return fiber._debugStack !== undefined;\n}\n\nexport function getOwnerStackByFiberInDev(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostHoistable,\n    HostSingleton,\n    HostText,\n    HostComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    ViewTransitionComponent,\n  } = workTagMap;\n  try {\n    let info = '';\n\n    if (workInProgress.tag === HostText) {\n      // Text nodes never have an owner/stack because they're not created through JSX.\n      // We use the parent since text nodes are always created through a host parent.\n      workInProgress = (workInProgress.return: any);\n    }\n\n    // The owner stack of the current fiber will be where it was created, i.e. inside its owner.\n    // There's no actual name of the currently executing component. Instead, that is available\n    // on the regular stack that's currently executing. However, for built-ins there is no such\n    // named stack frame and it would be ignored as being internal anyway. Therefore we add\n    // add one extra frame just to describe the \"current\" built-in component by name.\n    switch (workInProgress.tag) {\n      case HostHoistable:\n      case HostSingleton:\n      case HostComponent:\n        info += describeBuiltInComponentFrame(workInProgress.type);\n        break;\n      case SuspenseComponent:\n        info += describeBuiltInComponentFrame('Suspense');\n        break;\n      case SuspenseListComponent:\n        info += describeBuiltInComponentFrame('SuspenseList');\n        break;\n      case ViewTransitionComponent:\n        info += describeBuiltInComponentFrame('ViewTransition');\n        break;\n    }\n\n    let owner: void | null | Fiber | ReactComponentInfo = workInProgress;\n\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const fiber: Fiber = (owner: any);\n        owner = fiber._debugOwner;\n        let debugStack = fiber._debugStack;\n        // If we don't actually print the stack if there is no owner of this JSX element.\n        // In a real app it's typically not useful since the root app is always controlled\n        // by the framework. These also tend to have noisy stacks because they're not rooted\n        // in a React render but in some imperative bootstrapping code. It could be useful\n        // if the element was created in module scope. E.g. hoisted. We could add a a single\n        // stack frame for context for example but it doesn't say much if that's a wrapper.\n        if (owner && debugStack) {\n          if (typeof debugStack !== 'string') {\n            debugStack = formatOwnerStack(debugStack);\n          }\n          if (debugStack !== '') {\n            info += '\\n' + debugStack;\n          }\n        }\n      } else if (owner.debugStack != null) {\n        // Server Component\n        const ownerStack: Error = owner.debugStack;\n        owner = owner.owner;\n        if (owner && ownerStack) {\n          info += '\\n' + formatOwnerStack(ownerStack);\n        }\n      } else {\n        break;\n      }\n    }\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': '#e6e6e6',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': '#5e6167',\n    '--color-component-badge-background-inverted': '#46494e',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.85)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-forget-badge-background': '#2683e2',\n    '--color-forget-badge-background-inverted': '#1a6bbc',\n    '--color-forget-text': '#fff',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './fiber/DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (\n  value: boolean,\n  recordTimeline?: boolean,\n) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    // $FlowFixMe[incompatible-type]\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        // $FlowFixMe[incompatible-use]\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    // $FlowFixMe[incompatible-use]\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(\n    value: boolean,\n    recordTimeline: boolean = false,\n  ) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        if (recordTimeline) {\n          currentTimelineData = {\n            // Session wide metadata; only collected once.\n            internalModuleSourceToRanges,\n            laneToLabelMap: laneToLabelMap || new Map(),\n            reactVersion,\n\n            // Data logged by React during profiling session.\n            componentMeasures: [],\n            schedulingEvents: [],\n            suspenseEvents: [],\n            thrownErrors: [],\n\n            // Data inferred based on what React logs.\n            batchUIDToMeasuresMap: new Map(),\n            duration: 0,\n            laneToReactMeasureMap,\n            startTime: 0,\n\n            // Data only available in Chrome profiles.\n            flamechart: [],\n            nativeEvents: [],\n            networkMeasures: [],\n            otherUserTimingMarks: [],\n            snapshots: [],\n            snapshotHeight: 0,\n          };\n        }\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // This is __EXPENSIVE__.\n        // We could end up with hundreds of state updated, and for each one of them\n        // would try to create a component stack with possibly hundreds of Fibers.\n        // Creating a cache of component stacks won't help, generating a single stack is already expensive enough.\n        // We should find a way to lazily generate component stacks on demand, when user inspects a specific event.\n        // If we succeed with moving React DevTools Timeline Profiler to Performance panel, then Timeline Profiler would probably be removed.\n        // If not, then once enableOwnerStacks is adopted, revisit this again and cache component stacks per Fiber,\n        // but only return them when needed, sending hundreds of component stacks is beyond the Bridge's bandwidth.\n\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {ReactComponentInfo, ReactDebugInfo} from 'shared/ReactTypes';\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ComponentFilterEnvironmentName,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  ElementTypeViewTransition,\n  ElementTypeVirtual,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n  filterOutLocationComponentFilters,\n} from 'react-devtools-shared/src/utils';\nimport {\n  formatConsoleArgumentsToSingleString,\n  formatDurationToMicrosecondsGranularity,\n  gt,\n  gte,\n  parseSourceFromComponentStack,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from '../utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  CONSUMER_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  REACT_MEMO_CACHE_SENTINEL,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from '../shared/ReactSymbols';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\n\nimport {componentInfoToComponentLogsMap} from '../shared/DevToolsServerComponentLogs';\n\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\n\nimport {\n  getStackByFiberInDevAndProd,\n  getOwnerStackByFiberInDev,\n  supportsOwnerStacks,\n  supportsConsoleTasks,\n} from './DevToolsFiberComponentStack';\n\n// $FlowFixMe[method-unbinding]\nconst toString = Object.prototype.toString;\n\nfunction isError(object: mixed) {\n  return toString.call(object) === '[object Error]';\n}\n\nimport {getStyleXData} from '../StyleX/utils';\nimport {createProfilingHooks} from '../profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from '../profilingHooks';\nimport type {Fiber, FiberRoot} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n  CurrentDispatcherRef,\n  LegacyDispatcherRef,\n  ProfilingSettings,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {Source} from 'react-devtools-shared/src/shared/types';\nimport {getSourceLocationByFiber} from './DevToolsFiberComponentStack';\nimport {formatOwnerStack} from '../shared/DevToolsOwnerStack';\n\n// Kinds\nconst FIBER_INSTANCE = 0;\nconst VIRTUAL_INSTANCE = 1;\nconst FILTERED_FIBER_INSTANCE = 2;\n\n// This type represents a stateful instance of a Client Component i.e. a Fiber pair.\n// These instances also let us track stateful DevTools meta data like id and warnings.\ntype FiberInstance = {\n  kind: 0,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // source location of this component function, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  data: Fiber, // one of a Fiber pair\n};\n\nfunction createFiberInstance(fiber: Fiber): FiberInstance {\n  return {\n    kind: FIBER_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: fiber,\n  };\n}\n\ntype FilteredFiberInstance = {\n  kind: 2,\n  // We exclude id from the type to get errors if we try to access it.\n  // However it is still in the object to preserve hidden class.\n  // id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // always null here.\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  data: Fiber, // one of a Fiber pair\n};\n\n// This is used to represent a filtered Fiber but still lets us find its host instance.\nfunction createFilteredFiberInstance(fiber: Fiber): FilteredFiberInstance {\n  return ({\n    kind: FILTERED_FIBER_INSTANCE,\n    id: 0,\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: fiber,\n  }: any);\n}\n\n// This type represents a stateful instance of a Server Component or a Component\n// that gets optimized away - e.g. call-through without creating a Fiber.\n// It's basically a virtual Fiber. This is not a semantic concept in React.\n// It only exists as a virtual concept to let the same Element in the DevTools\n// persist. To be selectable separately from all ReactComponentInfo and overtime.\ntype VirtualInstance = {\n  kind: 1,\n  id: number,\n  parent: null | DevToolsInstance,\n  firstChild: null | DevToolsInstance,\n  nextSibling: null | DevToolsInstance,\n  source: null | string | Error | Source, // source location of this server component, or owned child stack\n  logCount: number, // total number of errors/warnings last seen\n  treeBaseDuration: number, // the profiled time of the last render of this subtree\n  // The latest info for this instance. This can be updated over time and the\n  // same info can appear in more than once ServerComponentInstance.\n  data: ReactComponentInfo,\n};\n\nfunction createVirtualInstance(\n  debugEntry: ReactComponentInfo,\n): VirtualInstance {\n  return {\n    kind: VIRTUAL_INSTANCE,\n    id: getUID(),\n    parent: null,\n    firstChild: null,\n    nextSibling: null,\n    source: null,\n    logCount: 0,\n    treeBaseDuration: 0,\n    data: debugEntry,\n  };\n}\n\ntype DevToolsInstance = FiberInstance | VirtualInstance | FilteredFiberInstance;\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nexport function getDispatcherRef(renderer: {\n  +currentDispatcherRef?: LegacyDispatcherRef | CurrentDispatcherRef,\n  ...\n}): void | CurrentDispatcherRef {\n  if (renderer.currentDispatcherRef === undefined) {\n    return undefined;\n  }\n  const injectedRef = renderer.currentDispatcherRef;\n  if (\n    typeof injectedRef.H === 'undefined' &&\n    typeof injectedRef.current !== 'undefined'\n  ) {\n    // We got a legacy dispatcher injected, let's create a wrapper proxy to translate.\n    return {\n      get H() {\n        return (injectedRef: any).current;\n      },\n      set H(value) {\n        (injectedRef: any).current = value;\n      },\n    };\n  }\n  return (injectedRef: any);\n}\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: 28,\n      IndeterminateComponent: 2, // removed in 19.0.0\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n      Throw: 29,\n      ViewTransitionComponent: 30, // Experimental\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IncompleteFunctionComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n      Throw: -1, // Doesn't exist yet\n      ViewTransitionComponent: -1, // Doesn't exist yet\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(\n    fiber: Fiber,\n    shouldSkipForgetCheck: boolean = false,\n  ): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n    if (\n      !shouldSkipForgetCheck &&\n      // $FlowFixMe[incompatible-type] fiber.updateQueue is mixed\n      (fiber.updateQueue?.memoCache != null ||\n        (Array.isArray(fiber.memoizedState?.memoizedState) &&\n          fiber.memoizedState.memoizedState[0]?.[REACT_MEMO_CACHE_SENTINEL]) ||\n        fiber.memoizedState?.memoizedState?.[REACT_MEMO_CACHE_SENTINEL])\n    ) {\n      const displayNameWithoutForgetWrapper = getDisplayNameForFiber(\n        fiber,\n        true,\n      );\n      if (displayNameWithoutForgetWrapper == null) {\n        return null;\n      }\n\n      return `Forget(${displayNameWithoutForgetWrapper})`;\n    }\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      case ViewTransitionComponent:\n        return 'ViewTransition';\n      case Throw:\n        // This should really never be visible.\n        return 'Error';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            if (\n              fiber.type._context === undefined &&\n              fiber.type.Provider === fiber.type\n            ) {\n              // In 19+, Context.Provider === Context, so this is a provider.\n              resolvedContext = fiber.type;\n              return `${resolvedContext.displayName || 'Context'}.Provider`;\n            }\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case CONSUMER_SYMBOL_STRING:\n            // 19+\n            resolvedContext = fiber.type._context;\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// All environment names we've seen so far. This lets us create a list of filters to apply.\n// This should ideally include env of filtered Components too so that you can add those as\n// filters at the same time as removing some other filter.\nconst knownEnvironmentNames: Set<string> = new Set();\n\n// Map of FiberRoot to their root FiberInstance.\nconst rootToFiberInstanceMap: Map<FiberRoot, FiberInstance> = new Map();\n\n// Map of id to FiberInstance or VirtualInstance.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToDevToolsInstanceMap: Map<number, FiberInstance | VirtualInstance> =\n  new Map();\n\n// Map of canonical HostInstances to the nearest parent DevToolsInstance.\nconst publicInstanceToDevToolsInstanceMap: Map<HostInstance, DevToolsInstance> =\n  new Map();\n// Map of resource DOM nodes to all the nearest DevToolsInstances that depend on it.\nconst hostResourceToDevToolsInstanceMap: Map<\n  HostInstance,\n  Set<DevToolsInstance>,\n> = new Map();\n\n// Ideally, this should be injected from Reconciler config\nfunction getPublicInstance(instance: HostInstance): HostInstance {\n  // Typically the PublicInstance and HostInstance is the same thing but not in Fabric.\n  // So we need to detect this and use that as the public instance.\n\n  // React Native. Modern. Fabric.\n  if (typeof instance === 'object' && instance !== null) {\n    if (typeof instance.canonical === 'object' && instance.canonical !== null) {\n      if (\n        typeof instance.canonical.publicInstance === 'object' &&\n        instance.canonical.publicInstance !== null\n      ) {\n        return instance.canonical.publicInstance;\n      }\n    }\n\n    // React Native. Legacy. Paper.\n    if (typeof instance._nativeTag === 'number') {\n      return instance._nativeTag;\n    }\n  }\n\n  // React Web. Usually a DOM element.\n  return instance;\n}\n\nfunction aquireHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n}\n\nfunction releaseHostInstance(\n  nearestInstance: DevToolsInstance,\n  hostInstance: HostInstance,\n): void {\n  const publicInstance = getPublicInstance(hostInstance);\n  if (\n    publicInstanceToDevToolsInstanceMap.get(publicInstance) === nearestInstance\n  ) {\n    publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n  }\n}\n\nfunction aquireHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    let resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances === undefined) {\n      resourceInstances = new Set();\n      hostResourceToDevToolsInstanceMap.set(publicInstance, resourceInstances);\n      // Store the first match in the main map for quick access when selecting DOM node.\n      publicInstanceToDevToolsInstanceMap.set(publicInstance, nearestInstance);\n    }\n    resourceInstances.add(nearestInstance);\n  }\n}\n\nfunction releaseHostResource(\n  nearestInstance: DevToolsInstance,\n  resource: ?{instance?: HostInstance},\n): void {\n  const hostInstance = resource && resource.instance;\n  if (hostInstance) {\n    const publicInstance = getPublicInstance(hostInstance);\n    const resourceInstances =\n      hostResourceToDevToolsInstanceMap.get(publicInstance);\n    if (resourceInstances !== undefined) {\n      resourceInstances.delete(nearestInstance);\n      if (resourceInstances.size === 0) {\n        hostResourceToDevToolsInstanceMap.delete(publicInstance);\n        publicInstanceToDevToolsInstanceMap.delete(publicInstance);\n      } else if (\n        publicInstanceToDevToolsInstanceMap.get(publicInstance) ===\n        nearestInstance\n      ) {\n        // This was the first one. Store the next first one in the main map for easy access.\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const firstInstance of resourceInstances) {\n          publicInstanceToDevToolsInstanceMap.set(\n            firstInstance,\n            nearestInstance,\n          );\n          break;\n        }\n      }\n    }\n  }\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IncompleteFunctionComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n    Throw,\n    ViewTransitionComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n    getCurrentFiber,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: getDispatcherRef(renderer),\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  type ComponentLogs = {\n    errors: Map<string, number>,\n    errorsCount: number,\n    warnings: Map<string, number>,\n    warningsCount: number,\n  };\n  // Tracks Errors/Warnings logs added to a Fiber. They are added before the commit and get\n  // picked up a FiberInstance. This keeps it around as long as the Fiber is alive which\n  // lets the Fiber get reparented/remounted and still observe the previous errors/warnings.\n  // Unless we explicitly clear the logs from a Fiber.\n  const fiberToComponentLogsMap: WeakMap<Fiber, ComponentLogs> = new WeakMap();\n  // Tracks whether we've performed a commit since the last log. This is used to know\n  // whether we received any new logs between the commit and post commit phases. I.e.\n  // if any passive effects called console.warn / console.error.\n  let needsToFlushComponentLogs = false;\n\n  function bruteForceFlushErrorsAndWarnings() {\n    // Refresh error/warning count for all mounted unfiltered Fibers.\n    let hasChanges = false;\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        const componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          hasChanges = true;\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      } else {\n        // Virtual Instances cannot log in passive effects and so never appear here.\n      }\n    }\n    if (hasChanges) {\n      flushPendingEvents();\n    }\n  }\n\n  function clearErrorsAndWarnings() {\n    // Note, this only clears logs for Fibers that have instances. If they're filtered\n    // and then mount, the logs are there. Ensuring we only clear what you've seen.\n    // If we wanted to clear the whole set, we'd replace fiberToComponentLogsMap with a\n    // new WeakMap. It's unclear whether we should clear componentInfoToComponentLogsMap\n    // since it's shared by other renderers but presumably it would.\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const devtoolsInstance of idToDevToolsInstanceMap.values()) {\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        fiberToComponentLogsMap.delete(fiber);\n        if (fiber.alternate) {\n          fiberToComponentLogsMap.delete(fiber.alternate);\n        }\n      } else {\n        componentInfoToComponentLogsMap.delete(devtoolsInstance.data);\n      }\n      const changed = recordConsoleLogs(devtoolsInstance, undefined);\n      if (changed) {\n        updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n      }\n    }\n    flushPendingEvents();\n  }\n\n  function clearConsoleLogsHelper(instanceID: number, type: 'error' | 'warn') {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(instanceID);\n    if (devtoolsInstance !== undefined) {\n      let componentLogsEntry;\n      if (devtoolsInstance.kind === FIBER_INSTANCE) {\n        const fiber = devtoolsInstance.data;\n        componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n\n        if (componentLogsEntry === undefined && fiber.alternate !== null) {\n          componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n        }\n      } else {\n        const componentInfo = devtoolsInstance.data;\n        componentLogsEntry = componentInfoToComponentLogsMap.get(componentInfo);\n      }\n      if (componentLogsEntry !== undefined) {\n        if (type === 'error') {\n          componentLogsEntry.errors.clear();\n          componentLogsEntry.errorsCount = 0;\n        } else {\n          componentLogsEntry.warnings.clear();\n          componentLogsEntry.warningsCount = 0;\n        }\n        const changed = recordConsoleLogs(devtoolsInstance, componentLogsEntry);\n        if (changed) {\n          flushPendingEvents();\n          updateMostRecentlyInspectedElementIfNecessary(devtoolsInstance.id);\n        }\n      }\n    }\n  }\n\n  function clearErrorsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'error');\n  }\n\n  function clearWarningsForElementID(instanceID: number) {\n    clearConsoleLogsHelper(instanceID, 'warn');\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  function getComponentStack(\n    topFrame: Error,\n  ): null | {enableOwnerStacks: boolean, componentStack: string} {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return null;\n    }\n    const current = getCurrentFiber();\n    if (current === null) {\n      // Outside of our render scope.\n      return null;\n    }\n\n    if (supportsConsoleTasks(current)) {\n      // This will be handled natively by console.createTask. No need for\n      // DevTools to add it.\n      return null;\n    }\n\n    const dispatcherRef = getDispatcherRef(renderer);\n    if (dispatcherRef === undefined) {\n      return null;\n    }\n\n    const enableOwnerStacks = supportsOwnerStacks(current);\n    let componentStack = '';\n    if (enableOwnerStacks) {\n      // Prefix the owner stack with the current stack. I.e. what called\n      // console.error. While this will also be part of the native stack,\n      // it is hidden and not presented alongside this argument so we print\n      // them all together.\n      const topStackFrames = formatOwnerStack(topFrame);\n      if (topStackFrames) {\n        componentStack += '\\n' + topStackFrames;\n      }\n      componentStack += getOwnerStackByFiberInDev(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    } else {\n      componentStack = getStackByFiberInDevAndProd(\n        ReactTypeOfWork,\n        current,\n        dispatcherRef,\n      );\n    }\n    return {enableOwnerStacks, componentStack};\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (getCurrentFiber == null) {\n      // Expected this to be part of the renderer. Ignore.\n      return;\n    }\n    const fiber = getCurrentFiber();\n    if (fiber === null) {\n      // Outside of our render scope.\n      return;\n    }\n    if (type === 'error') {\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true)\n      ) {\n        return;\n      }\n    }\n\n    // We can't really use this message as a unique key, since we can't distinguish\n    // different objects in this implementation. We have to delegate displaying of the objects\n    // to the environment, the browser console, for example, so this is why this should be kept\n    // as an array of arguments, instead of the plain string.\n    // [Warning: %o, {...}] and [Warning: %o, {...}] will be considered as the same message,\n    // even if objects are different\n    const message = formatConsoleArgumentsToSingleString(...args);\n\n    // Track the warning/error for later.\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n      if (componentLogsEntry !== undefined) {\n        // Use the same set for both Fibers.\n        fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n      }\n    }\n    if (componentLogsEntry === undefined) {\n      componentLogsEntry = {\n        errors: new Map(),\n        errorsCount: 0,\n        warnings: new Map(),\n        warningsCount: 0,\n      };\n      fiberToComponentLogsMap.set(fiber, componentLogsEntry);\n    }\n\n    const messageMap =\n      type === 'error'\n        ? componentLogsEntry.errors\n        : componentLogsEntry.warnings;\n    const count = messageMap.get(message) || 0;\n    messageMap.set(message, count + 1);\n    if (type === 'error') {\n      componentLogsEntry.errorsCount++;\n    } else {\n      componentLogsEntry.warningsCount++;\n    }\n\n    // The changes will be flushed later when we commit.\n\n    // If the log happened in a passive effect, then this happens after we've\n    // already committed the new tree so the change won't show up until we rerender\n    // that component again. We need to visit a Component with passive effects in\n    // handlePostCommitFiberRoot again to ensure that we flush the changes after passive.\n    needsToFlushComponentLogs = true;\n  }\n\n  function debug(\n    name: string,\n    instance: DevToolsInstance,\n    parentInstance: null | DevToolsInstance,\n    extraString: string = '',\n  ): void {\n    if (__DEBUG__) {\n      const displayName =\n        instance.kind === VIRTUAL_INSTANCE\n          ? instance.data.name || 'null'\n          : instance.data.tag +\n            ':' +\n            (getDisplayNameForFiber(instance.data) || 'null');\n\n      const maybeID =\n        instance.kind === FILTERED_FIBER_INSTANCE ? '<no id>' : instance.id;\n\n      const parentDisplayName =\n        parentInstance === null\n          ? ''\n          : parentInstance.kind === VIRTUAL_INSTANCE\n            ? parentInstance.data.name || 'null'\n            : parentInstance.data.tag +\n              ':' +\n              (getDisplayNameForFiber(parentInstance.data) || 'null');\n\n      const maybeParentID =\n        parentInstance === null ||\n        parentInstance.kind === FILTERED_FIBER_INSTANCE\n          ? '<no id>'\n          : parentInstance.id;\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentInstance ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function debugTree(instance: DevToolsInstance, indent: number = 0) {\n    if (__DEBUG__) {\n      const name =\n        (instance.kind !== VIRTUAL_INSTANCE\n          ? getDisplayNameForFiber(instance.data)\n          : instance.data.name) || '';\n      console.log(\n        '  '.repeat(indent) +\n          '- ' +\n          (instance.kind === FILTERED_FIBER_INSTANCE ? 0 : instance.id) +\n          ' (' +\n          name +\n          ')',\n        'parent',\n        instance.parent === null\n          ? ' '\n          : instance.parent.kind === FILTERED_FIBER_INSTANCE\n            ? 0\n            : instance.parent.id,\n        'next',\n        instance.nextSibling === null ? ' ' : instance.nextSibling.id,\n      );\n      let child = instance.firstChild;\n      while (child !== null) {\n        debugTree(child, indent + 1);\n        child = child.nextSibling;\n      }\n    }\n  }\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n  const hideElementsWithEnvs: Set<string> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<HostInstance> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n    hideElementsWithEnvs.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        case ComponentFilterEnvironmentName:\n          hideElementsWithEnvs.add(componentFilter.value);\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    const componentFiltersWithoutLocationBasedOnes =\n      filterOutLocationComponentFilters(\n        window.__REACT_DEVTOOLS_COMPONENT_FILTERS__,\n      );\n    applyComponentFilters(componentFiltersWithoutLocationBasedOnes);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when applying filters',\n        );\n      }\n      currentRoot = rootInstance;\n      unmountInstanceRecursively(rootInstance);\n      rootToFiberInstanceMap.delete(root);\n      flushPendingEvents(root);\n      currentRoot = (null: any);\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const current = root.current;\n      const newRoot = createFiberInstance(current);\n      rootToFiberInstanceMap.set(root, newRoot);\n      idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n\n      currentRoot = newRoot;\n      setRootPseudoKey(currentRoot.id, root.current);\n      mountFiberRecursively(root.current, false);\n      flushPendingEvents(root);\n      currentRoot = (null: any);\n    });\n\n    flushPendingEvents();\n\n    needsToFlushComponentLogs = false;\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    return Array.from(knownEnvironmentNames);\n  }\n\n  function shouldFilterVirtual(\n    data: ReactComponentInfo,\n    secondaryEnv: null | string,\n  ): boolean {\n    // For purposes of filtering Server Components are always Function Components.\n    // Environment will be used to filter Server vs Client.\n    // Technically they can be forwardRef and memo too but those filters will go away\n    // as those become just plain user space function components like any HoC.\n    if (hideElementsWithTypes.has(ElementTypeFunction)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = data.name;\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (\n      (data.env == null || hideElementsWithEnvs.has(data.env)) &&\n      (secondaryEnv === null || hideElementsWithEnvs.has(secondaryEnv))\n    ) {\n      // If a Component has two environments, you have to filter both for it not to appear.\n      return true;\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n      case Throw:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (hideElementsWithEnvs.has('Client')) {\n      // If we're filtering out the Client environment we should filter out all\n      // \"Client Components\". Technically that also includes the built-ins but\n      // since that doesn't actually include any additional code loading it's\n      // useful to not filter out the built-ins. Those can be filtered separately.\n      // There's no other way to filter out just Function components on the Client.\n      // Therefore, this only filters Class and Function components.\n      switch (tag) {\n        case ClassComponent:\n        case IncompleteClassComponent:\n        case IncompleteFunctionComponent:\n        case FunctionComponent:\n        case IndeterminateComponent:\n        case ForwardRef:\n        case MemoComponent:\n        case SimpleMemoComponent:\n          return true;\n      }\n    }\n\n    /* DISABLED: https://github.com/facebook/react/pull/28417\n    if (hideElementsWithPaths.size > 0) {\n      const source = getSourceForFiber(fiber);\n\n      if (source != null) {\n        const {fileName} = source;\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const pathRegExp of hideElementsWithPaths) {\n          if (pathRegExp.test(fileName)) {\n            return true;\n          }\n        }\n      }\n    }\n    */\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      case ViewTransitionComponent:\n        return ElementTypeViewTransition;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRoot: FiberInstance = (null: any);\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiber(nearestInstance: DevToolsInstance, fiber: Fiber) {\n    if (forceErrorForFibers.size > 0) {\n      forceErrorForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceErrorForFibers.delete(fiber.alternate);\n      }\n      if (forceErrorForFibers.size === 0 && setErrorHandler != null) {\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n    }\n\n    if (forceFallbackForFibers.size > 0) {\n      forceFallbackForFibers.delete(fiber);\n      if (fiber.alternate) {\n        forceFallbackForFibers.delete(fiber.alternate);\n      }\n      if (forceFallbackForFibers.size === 0 && setSuspenseHandler != null) {\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n\n    // TODO: Consider using a WeakMap instead. The only thing where that doesn't work\n    // is React Native Paper which tracks tags but that support is eventually going away\n    // and can use the old findFiberByHostInstance strategy.\n\n    if (fiber.tag === HostHoistable) {\n      releaseHostResource(nearestInstance, fiber.memoizedState);\n    } else if (\n      fiber.tag === HostComponent ||\n      fiber.tag === HostText ||\n      fiber.tag === HostSingleton\n    ) {\n      releaseHostInstance(nearestInstance, fiber.stateNode);\n    }\n\n    // Recursively clean up any filtered Fibers below this one as well since\n    // we won't recordUnmount on those.\n    for (let child = fiber.child; child !== null; child = child.sibling) {\n      if (shouldFilterFiber(child)) {\n        untrackFiber(nearestInstance, child);\n      }\n    }\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n          return data;\n        }\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n      case IndeterminateComponent:\n      case ForwardRef:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          const data: ChangeDescription = {\n            context: getContextChanged(prevFiber, nextFiber),\n            didHooksChange: indices !== null && indices.length > 0,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: null,\n            hooks: indices,\n          };\n          // Only traverse the hooks list once, depending on what info we're returning.\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function getContextChanged(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    let prevContext =\n      prevFiber.dependencies && prevFiber.dependencies.firstContext;\n    let nextContext =\n      nextFiber.dependencies && nextFiber.dependencies.firstContext;\n\n    while (prevContext && nextContext) {\n      // Note this only works for versions of React that support this key (e.v. 18+)\n      // For older versions, there's no good way to read the current context value after render has completed.\n      // This is because React maintains a stack of context values during render,\n      // but by the time DevTools is called, render has finished and the stack is empty.\n      if (prevContext.context !== nextContext.context) {\n        // If the order of context has changed, then the later context values might have\n        // changed too but the main reason it rerendered was earlier. Either an earlier\n        // context changed value but then we would have exited already. If we end up here\n        // it's because a state or props change caused the order of contexts used to change.\n        // So the main cause is not the contexts themselves.\n        return false;\n      }\n      if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n        return true;\n      }\n\n      prevContext = prevContext.next;\n      nextContext = nextContext.next;\n    }\n    return false;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    while (next !== null) {\n      if (didStatefulHookChange(prev, next)) {\n        indices.push(index);\n      }\n      next = next.next;\n      prev = prev.next;\n      index++;\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  function recordConsoleLogs(\n    instance: FiberInstance | VirtualInstance,\n    componentLogsEntry: void | ComponentLogs,\n  ): boolean {\n    if (componentLogsEntry === undefined) {\n      if (instance.logCount === 0) {\n        // Nothing has changed.\n        return false;\n      }\n      // Reset to zero.\n      instance.logCount = 0;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(0);\n      pushOperation(0);\n      return true;\n    } else {\n      const totalCount =\n        componentLogsEntry.errorsCount + componentLogsEntry.warningsCount;\n      if (instance.logCount === totalCount) {\n        // Nothing has changed.\n        return false;\n      }\n      // Update counts.\n      instance.logCount = totalCount;\n      pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n      pushOperation(instance.id);\n      pushOperation(componentLogsEntry.errorsCount);\n      pushOperation(componentLogsEntry.warningsCount);\n      return true;\n    }\n  }\n\n  function flushPendingEvents(root: Object): void {\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    if (currentRoot === null) {\n      // TODO: This is not always safe so this field is probably not needed.\n      operations[i++] = -1;\n    } else {\n      operations[i++] = currentRoot.id;\n    }\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = 0; j < pendingRealUnmountedIDs.length; j++) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(\n    fiber: Fiber,\n    parentInstance: DevToolsInstance | null,\n  ): FiberInstance {\n    const isRoot = fiber.tag === HostRoot;\n    let fiberInstance;\n    if (isRoot) {\n      const entry = rootToFiberInstanceMap.get(fiber.stateNode);\n      if (entry === undefined) {\n        throw new Error('The root should have been registered at this point');\n      }\n      fiberInstance = entry;\n    } else {\n      fiberInstance = createFiberInstance(fiber);\n    }\n    idToDevToolsInstanceMap.set(fiberInstance.id, fiberInstance);\n\n    const id = fiberInstance.id;\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiberInstance, parentInstance);\n    }\n\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    if (isRoot) {\n      const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n\n      // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n      // Instead let's re-purpose a pre-existing field to carry more information.\n      let profilingFlags = 0;\n      if (isProfilingSupported) {\n        profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n        if (typeof injectProfilingHooks === 'function') {\n          profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n        }\n      }\n\n      // Set supportsStrictMode to false for production renderer builds\n      const isProductionBuildOfRenderer = renderer.bundleType === 0;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(\n        !isProductionBuildOfRenderer && StrictModeBits !== 0 ? 1 : 0,\n      );\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n\n      // Finding the owner instance might require traversing the whole parent path which\n      // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n      // need it but we have some synchronous operations in the front end like Alt+Left\n      // which selects the owner immediately. Typically most owners are only a few parents\n      // away so maybe it's not so bad.\n      const debugOwner = getUnfilteredOwner(fiber);\n      const ownerInstance = findNearestOwnerInstance(\n        parentInstance,\n        debugOwner,\n      );\n      if (\n        ownerInstance !== null &&\n        debugOwner === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        ownerInstance.source === null\n      ) {\n        // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n        // the debugStack will be a stack frame inside the ownerInstance's source.\n        ownerInstance.source = fiber._debugStack;\n      }\n      const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n      const parentID = parentInstance\n        ? parentInstance.kind === FILTERED_FIBER_INSTANCE\n          ? // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n            ((parentInstance.parent: any): VirtualInstance).id\n          : parentInstance.id\n        : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if ((fiber.mode & StrictModeBits) !== 0) {\n        let parentFiber = null;\n        let parentFiberInstance = parentInstance;\n        while (parentFiberInstance !== null) {\n          if (parentFiberInstance.kind === FIBER_INSTANCE) {\n            parentFiber = parentFiberInstance.data;\n            break;\n          }\n          parentFiberInstance = parentFiberInstance.parent;\n        }\n        if (parentFiber === null || (parentFiber.mode & StrictModeBits) === 0) {\n          pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n          pushOperation(id);\n          pushOperation(StrictMode);\n        }\n      }\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n    recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n    if (isProfilingSupported) {\n      recordProfilingDurations(fiberInstance, null);\n    }\n    return fiberInstance;\n  }\n\n  function recordVirtualMount(\n    instance: VirtualInstance,\n    parentInstance: DevToolsInstance | null,\n    secondaryEnv: null | string,\n  ): void {\n    const id = instance.id;\n\n    idToDevToolsInstanceMap.set(id, instance);\n\n    const componentInfo = instance.data;\n\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const env = componentInfo.env;\n    let displayName = componentInfo.name || '';\n    if (typeof env === 'string') {\n      // We model environment as an HoC name for now.\n      if (secondaryEnv !== null) {\n        displayName = secondaryEnv + '(' + displayName + ')';\n      }\n      displayName = env + '(' + displayName + ')';\n    }\n    const elementType = ElementTypeVirtual;\n\n    // Finding the owner instance might require traversing the whole parent path which\n    // doesn't have great big O notation. Ideally we'd lazily fetch the owner when we\n    // need it but we have some synchronous operations in the front end like Alt+Left\n    // which selects the owner immediately. Typically most owners are only a few parents\n    // away so maybe it's not so bad.\n    const debugOwner = getUnfilteredOwner(componentInfo);\n    const ownerInstance = findNearestOwnerInstance(parentInstance, debugOwner);\n    if (\n      ownerInstance !== null &&\n      debugOwner === componentInfo.owner &&\n      componentInfo.debugStack != null &&\n      ownerInstance.source === null\n    ) {\n      // The new Fiber is directly owned by the ownerInstance. Therefore somewhere on\n      // the debugStack will be a stack frame inside the ownerInstance's source.\n      ownerInstance.source = componentInfo.debugStack;\n    }\n    const ownerID = ownerInstance === null ? 0 : ownerInstance.id;\n    const parentID = parentInstance\n      ? parentInstance.kind === FILTERED_FIBER_INSTANCE\n        ? // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n          ((parentInstance.parent: any): VirtualInstance).id\n        : parentInstance.id\n      : 0;\n\n    const displayNameStringID = getStringID(displayName);\n\n    // This check is a guard to handle a React element that has been modified\n    // in such a way as to bypass the default stringification of the \"key\" property.\n    const keyString = key === null ? null : String(key);\n    const keyStringID = getStringID(keyString);\n\n    pushOperation(TREE_OPERATION_ADD);\n    pushOperation(id);\n    pushOperation(elementType);\n    pushOperation(parentID);\n    pushOperation(ownerID);\n    pushOperation(displayNameStringID);\n    pushOperation(keyStringID);\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n    recordConsoleLogs(instance, componentLogsEntry);\n  }\n\n  function recordUnmount(fiberInstance: FiberInstance): void {\n    const fiber = fiberInstance.data;\n    if (__DEBUG__) {\n      debug('recordUnmount()', fiberInstance, reconcilingParent);\n    }\n\n    if (trackedPathMatchInstance === fiberInstance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = fiberInstance.id;\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      pendingRealUnmountedIDs.push(id);\n    }\n\n    idToDevToolsInstanceMap.delete(fiberInstance.id);\n\n    untrackFiber(fiberInstance, fiber);\n  }\n\n  // Running state of the remaining children from the previous version of this parent that\n  // we haven't yet added back. This should be reset anytime we change parent.\n  // Any remaining ones at the end will be deleted.\n  let remainingReconcilingChildren: null | DevToolsInstance = null;\n  // The previously placed child.\n  let previouslyReconciledSibling: null | DevToolsInstance = null;\n  // To save on stack allocation and ensure that they are updated as a pair, we also store\n  // the current parent here as well.\n  let reconcilingParent: null | DevToolsInstance = null;\n\n  function insertChild(instance: DevToolsInstance): void {\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      // This instance is at the root.\n      return;\n    }\n    // Place it in the parent.\n    instance.parent = parentInstance;\n    if (previouslyReconciledSibling === null) {\n      previouslyReconciledSibling = instance;\n      parentInstance.firstChild = instance;\n    } else {\n      previouslyReconciledSibling.nextSibling = instance;\n      previouslyReconciledSibling = instance;\n    }\n    instance.nextSibling = null;\n  }\n\n  function moveChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    removeChild(instance, previousSibling);\n    insertChild(instance);\n  }\n\n  function removeChild(\n    instance: DevToolsInstance,\n    previousSibling: null | DevToolsInstance,\n  ): void {\n    if (instance.parent === null) {\n      if (remainingReconcilingChildren === instance) {\n        throw new Error(\n          'Remaining children should not have items with no parent',\n        );\n      } else if (instance.nextSibling !== null) {\n        throw new Error('A deleted instance should not have next siblings');\n      }\n      // Already deleted.\n      return;\n    }\n    const parentInstance = reconcilingParent;\n    if (parentInstance === null) {\n      throw new Error('Should not have a parent if we are at the root');\n    }\n    if (instance.parent !== parentInstance) {\n      throw new Error(\n        'Cannot remove a node from a different parent than is being reconciled.',\n      );\n    }\n    // Remove an existing child from its current position, which we assume is in the\n    // remainingReconcilingChildren set.\n    if (previousSibling === null) {\n      // We're first in the remaining set. Remove us.\n      if (remainingReconcilingChildren !== instance) {\n        throw new Error(\n          'Expected a placed child to be moved from the remaining set.',\n        );\n      }\n      remainingReconcilingChildren = instance.nextSibling;\n    } else {\n      previousSibling.nextSibling = instance.nextSibling;\n    }\n    instance.nextSibling = null;\n    instance.parent = null;\n  }\n\n  function unmountRemainingChildren() {\n    let child = remainingReconcilingChildren;\n    while (child !== null) {\n      unmountInstanceRecursively(child);\n      child = remainingReconcilingChildren;\n    }\n  }\n\n  function mountVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // If we have the tree selection from previous reload, try to match this Instance.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath =\n      updateVirtualTrackedPathStateBeforeMount(\n        virtualInstance,\n        reconcilingParent,\n      );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    remainingReconcilingChildren = null;\n    try {\n      mountVirtualChildrenRecursively(\n        firstChild,\n        lastChild,\n        traceNearestHostComponentUpdate,\n        virtualLevel + 1,\n      );\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n    }\n  }\n\n  function recordVirtualUnmount(instance: VirtualInstance) {\n    if (trackedPathMatchInstance === instance) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      setTrackedPath(null);\n    }\n\n    const id = instance.id;\n    pendingRealUnmountedIDs.push(id);\n  }\n\n  function getSecondaryEnvironmentName(\n    debugInfo: ?ReactDebugInfo,\n    index: number,\n  ): null | string {\n    if (debugInfo != null) {\n      const componentInfo: ReactComponentInfo = (debugInfo[index]: any);\n      for (let i = index + 1; i < debugInfo.length; i++) {\n        const debugEntry = debugInfo[i];\n        if (typeof debugEntry.env === 'string') {\n          // If the next environment is different then this component was the boundary\n          // and it changed before entering the next component. So we assign this\n          // component a secondary environment.\n          return componentInfo.env !== debugEntry.env ? debugEntry.env : null;\n        }\n      }\n    }\n    return null;\n  }\n\n  function mountVirtualChildrenRecursively(\n    firstChild: Fiber,\n    lastChild: null | Fiber, // non-inclusive\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceFirstFiber: Fiber = firstChild;\n    while (fiber !== null && fiber !== lastChild) {\n      let level = 0;\n      if (fiber._debugInfo) {\n        for (let i = 0; i < fiber._debugInfo.length; i++) {\n          const debugEntry = fiber._debugInfo[i];\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          // Scan up until the next Component to see if this component changed environment.\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(fiber._debugInfo, i);\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            // Skip.\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== debugEntry\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                mountVirtualInstanceRecursively(\n                  previousVirtualInstance,\n                  previousVirtualInstanceFirstFiber,\n                  fiber,\n                  traceNearestHostComponentUpdate,\n                  virtualLevel,\n                );\n              }\n              previousVirtualInstance = createVirtualInstance(componentInfo);\n              recordVirtualMount(\n                previousVirtualInstance,\n                reconcilingParent,\n                secondaryEnv,\n              );\n              insertChild(previousVirtualInstance);\n              previousVirtualInstanceFirstFiber = fiber;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and mount any previous children\n          // that should go into the previous virtual instance.\n          mountVirtualInstanceRecursively(\n            previousVirtualInstance,\n            previousVirtualInstanceFirstFiber,\n            fiber,\n            traceNearestHostComponentUpdate,\n            virtualLevel,\n          );\n          previousVirtualInstance = null;\n        }\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n        mountFiberRecursively(fiber, traceNearestHostComponentUpdate);\n      }\n      fiber = fiber.sibling;\n    }\n    if (previousVirtualInstance !== null) {\n      // Mount any previous children that should go into the previous parent.\n      mountVirtualInstanceRecursively(\n        previousVirtualInstance,\n        previousVirtualInstanceFirstFiber,\n        null,\n        traceNearestHostComponentUpdate,\n        virtualLevel,\n      );\n    }\n  }\n\n  function mountChildrenRecursively(\n    firstChild: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    mountVirtualChildrenRecursively(\n      firstChild,\n      null,\n      traceNearestHostComponentUpdate,\n      0, // first level\n    );\n  }\n\n  function mountFiberRecursively(\n    fiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): void {\n    const shouldIncludeInTree = !shouldFilterFiber(fiber);\n    let newInstance = null;\n    if (shouldIncludeInTree) {\n      newInstance = recordMount(fiber, reconcilingParent);\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    } else if (\n      reconcilingParent !== null &&\n      reconcilingParent.kind === VIRTUAL_INSTANCE\n    ) {\n      // If the parent is a Virtual Instance and we filtered this Fiber we include a\n      // hidden node.\n\n      if (\n        reconcilingParent.data === fiber._debugOwner &&\n        fiber._debugStack != null &&\n        reconcilingParent.source === null\n      ) {\n        // The new Fiber is directly owned by the parent. Therefore somewhere on the\n        // debugStack will be a stack frame inside parent that we can use as its soruce.\n        reconcilingParent.source = fiber._debugStack;\n      }\n\n      newInstance = createFilteredFiberInstance(fiber);\n      insertChild(newInstance);\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', newInstance, reconcilingParent);\n      }\n    }\n\n    // If we have the tree selection from previous reload, try to match this Fiber.\n    // Also remember whether to do the same for siblings.\n    const mightSiblingsBeOnTrackedPath = updateTrackedPathStateBeforeMount(\n      fiber,\n      newInstance,\n    );\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    if (newInstance !== null) {\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = newInstance;\n      previouslyReconciledSibling = null;\n      remainingReconcilingChildren = null;\n    }\n    try {\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      if (fiber.tag === HostHoistable) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostResource(nearestInstance, fiber.memoizedState);\n      } else if (\n        fiber.tag === HostComponent ||\n        fiber.tag === HostText ||\n        fiber.tag === HostSingleton\n      ) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        aquireHostInstance(nearestInstance, fiber.stateNode);\n      }\n\n      if (fiber.tag === SuspenseComponent) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          if (fallbackChildFragment) {\n            const fallbackChild = fallbackChildFragment.child;\n            if (fallbackChild !== null) {\n              updateTrackedPathStateBeforeMount(fallbackChildFragment, null);\n              mountChildrenRecursively(\n                fallbackChild,\n                traceNearestHostComponentUpdate,\n              );\n            }\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n            updateTrackedPathStateBeforeMount(fiber.child, null);\n          }\n          if (primaryChild !== null) {\n            mountChildrenRecursively(\n              primaryChild,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountChildrenRecursively(\n            fiber.child,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n    } finally {\n      if (newInstance !== null) {\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n      }\n    }\n\n    // We're exiting this Fiber now, and entering its siblings.\n    // If we have selection to restore, we might need to re-activate tracking.\n    updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback, or deleting a subtree.\n  function unmountInstanceRecursively(instance: DevToolsInstance) {\n    if (__DEBUG__) {\n      debug('unmountInstanceRecursively()', instance, reconcilingParent);\n    }\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = instance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    remainingReconcilingChildren = instance.firstChild;\n    instance.firstChild = null;\n    try {\n      // Unmount the remaining set.\n      unmountRemainingChildren();\n    } finally {\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n    }\n    if (instance.kind === FIBER_INSTANCE) {\n      recordUnmount(instance);\n    } else if (instance.kind === VIRTUAL_INSTANCE) {\n      recordVirtualUnmount(instance);\n    } else {\n      untrackFiber(instance, instance.data);\n    }\n    removeChild(instance, null);\n  }\n\n  function recordProfilingDurations(\n    fiberInstance: FiberInstance,\n    prevFiber: null | Fiber,\n  ) {\n    const id = fiberInstance.id;\n    const fiber = fiberInstance.data;\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    fiberInstance.treeBaseDuration = treeBaseDuration || 0;\n\n    if (isProfiling) {\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        prevFiber == null ||\n        treeBaseDuration !== prevFiber.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (prevFiber == null || didFiberRender(prevFiber, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(prevFiber, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n          }\n        }\n      }\n\n      // If this Fiber was in the set of memoizedUpdaters we need to record\n      // it to be included in the description of the commit.\n      const fiberRoot: FiberRoot = currentRoot.data.stateNode;\n      const updaters = fiberRoot.memoizedUpdaters;\n      if (\n        updaters != null &&\n        (updaters.has(fiber) ||\n          // We check the alternate here because we're matching identity and\n          // prevFiber might be same as fiber.\n          (fiber.alternate !== null && updaters.has(fiber.alternate)))\n      ) {\n        const metadata =\n          ((currentCommitProfilingMetadata: any): CommitProfilingData);\n        if (metadata.updaters === null) {\n          metadata.updaters = [];\n        }\n        metadata.updaters.push(instanceToSerializedElement(fiberInstance));\n      }\n    }\n  }\n\n  function recordVirtualProfilingDurations(virtualInstance: VirtualInstance) {\n    const id = virtualInstance.id;\n\n    let treeBaseDuration = 0;\n    // Add up the base duration of the child instances. The virtual base duration\n    // will be the same as children's duration since we don't take up any render\n    // time in the virtual instance.\n    for (\n      let child = virtualInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      treeBaseDuration += child.treeBaseDuration;\n    }\n\n    if (isProfiling) {\n      const previousTreeBaseDuration = virtualInstance.treeBaseDuration;\n      if (treeBaseDuration !== previousTreeBaseDuration) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n    }\n\n    virtualInstance.treeBaseDuration = treeBaseDuration;\n  }\n\n  function recordResetChildren(\n    parentInstance: FiberInstance | VirtualInstance,\n  ) {\n    if (__DEBUG__) {\n      if (parentInstance.firstChild !== null) {\n        debug(\n          'recordResetChildren()',\n          parentInstance.firstChild,\n          parentInstance,\n        );\n      }\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    let child: null | DevToolsInstance = parentInstance.firstChild;\n    while (child !== null) {\n      if (child.kind === FILTERED_FIBER_INSTANCE) {\n        for (\n          let innerChild: null | DevToolsInstance = parentInstance.firstChild;\n          innerChild !== null;\n          innerChild = innerChild.nextSibling\n        ) {\n          nextChildren.push((innerChild: any).id);\n        }\n      } else {\n        nextChildren.push(child.id);\n      }\n      child = child.nextSibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(parentInstance.id);\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function updateVirtualInstanceRecursively(\n    virtualInstance: VirtualInstance,\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): void {\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    // Push a new DevTools instance parent while reconciling this subtree.\n    reconcilingParent = virtualInstance;\n    previouslyReconciledSibling = null;\n    // Move all the children of this instance to the remaining set.\n    // We'll move them back one by one, and anything that remains is deleted.\n    remainingReconcilingChildren = virtualInstance.firstChild;\n    virtualInstance.firstChild = null;\n    try {\n      if (\n        updateVirtualChildrenRecursively(\n          nextFirstChild,\n          nextLastChild,\n          prevFirstChild,\n          traceNearestHostComponentUpdate,\n          virtualLevel + 1,\n        )\n      ) {\n        recordResetChildren(virtualInstance);\n      }\n      // Update the errors/warnings count. If this Instance has switched to a different\n      // ReactComponentInfo instance, such as when refreshing Server Components, then\n      // we replace all the previous logs with the ones associated with the new ones rather\n      // than merging. Because deduping is expected to happen at the request level.\n      const componentLogsEntry = componentInfoToComponentLogsMap.get(\n        virtualInstance.data,\n      );\n      recordConsoleLogs(virtualInstance, componentLogsEntry);\n      // Must be called after all children have been appended.\n      recordVirtualProfilingDurations(virtualInstance);\n    } finally {\n      unmountRemainingChildren();\n      reconcilingParent = stashedParent;\n      previouslyReconciledSibling = stashedPrevious;\n      remainingReconcilingChildren = stashedRemaining;\n    }\n  }\n\n  function updateVirtualChildrenRecursively(\n    nextFirstChild: Fiber,\n    nextLastChild: null | Fiber, // non-inclusive\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n    virtualLevel: number, // the nth level of virtual instances\n  ): boolean {\n    let shouldResetChildren = false;\n    // If the first child is different, we need to traverse them.\n    // Each next child will be either a new child (mount) or an alternate (update).\n    let nextChild: null | Fiber = nextFirstChild;\n    let prevChildAtSameIndex = prevFirstChild;\n    let previousVirtualInstance: null | VirtualInstance = null;\n    let previousVirtualInstanceWasMount: boolean = false;\n    let previousVirtualInstanceNextFirstFiber: Fiber = nextFirstChild;\n    let previousVirtualInstancePrevFirstFiber: null | Fiber = prevFirstChild;\n    while (nextChild !== null && nextChild !== nextLastChild) {\n      let level = 0;\n      if (nextChild._debugInfo) {\n        for (let i = 0; i < nextChild._debugInfo.length; i++) {\n          const debugEntry = nextChild._debugInfo[i];\n          if (typeof debugEntry.name !== 'string') {\n            // Not a Component. Some other Debug Info.\n            continue;\n          }\n          const componentInfo: ReactComponentInfo = (debugEntry: any);\n          const secondaryEnv = getSecondaryEnvironmentName(\n            nextChild._debugInfo,\n            i,\n          );\n          if (componentInfo.env != null) {\n            knownEnvironmentNames.add(componentInfo.env);\n          }\n          if (secondaryEnv !== null) {\n            knownEnvironmentNames.add(secondaryEnv);\n          }\n          if (shouldFilterVirtual(componentInfo, secondaryEnv)) {\n            continue;\n          }\n          if (level === virtualLevel) {\n            if (\n              previousVirtualInstance === null ||\n              // Consecutive children with the same debug entry as a parent gets\n              // treated as if they share the same virtual instance.\n              previousVirtualInstance.data !== componentInfo\n            ) {\n              if (previousVirtualInstance !== null) {\n                // Mount any previous children that should go into the previous parent.\n                if (previousVirtualInstanceWasMount) {\n                  mountVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                } else {\n                  updateVirtualInstanceRecursively(\n                    previousVirtualInstance,\n                    previousVirtualInstanceNextFirstFiber,\n                    nextChild,\n                    previousVirtualInstancePrevFirstFiber,\n                    traceNearestHostComponentUpdate,\n                    virtualLevel,\n                  );\n                }\n              }\n              let previousSiblingOfBestMatch = null;\n              let bestMatch = remainingReconcilingChildren;\n              if (componentInfo.key != null) {\n                // If there is a key try to find a matching key in the set.\n                bestMatch = remainingReconcilingChildren;\n                while (bestMatch !== null) {\n                  if (\n                    bestMatch.kind === VIRTUAL_INSTANCE &&\n                    bestMatch.data.key === componentInfo.key\n                  ) {\n                    break;\n                  }\n                  previousSiblingOfBestMatch = bestMatch;\n                  bestMatch = bestMatch.nextSibling;\n                }\n              }\n              if (\n                bestMatch !== null &&\n                bestMatch.kind === VIRTUAL_INSTANCE &&\n                bestMatch.data.name === componentInfo.name &&\n                bestMatch.data.env === componentInfo.env &&\n                bestMatch.data.key === componentInfo.key\n              ) {\n                // If the previous children had a virtual instance in the same slot\n                // with the same name, then we claim it and reuse it for this update.\n                // Update it with the latest entry.\n                bestMatch.data = componentInfo;\n                moveChild(bestMatch, previousSiblingOfBestMatch);\n                previousVirtualInstance = bestMatch;\n                previousVirtualInstanceWasMount = false;\n              } else {\n                // Otherwise we create a new instance.\n                const newVirtualInstance = createVirtualInstance(componentInfo);\n                recordVirtualMount(\n                  newVirtualInstance,\n                  reconcilingParent,\n                  secondaryEnv,\n                );\n                insertChild(newVirtualInstance);\n                previousVirtualInstance = newVirtualInstance;\n                previousVirtualInstanceWasMount = true;\n                shouldResetChildren = true;\n              }\n              // Existing children might be reparented into this new virtual instance.\n              // TODO: This will cause the front end to error which needs to be fixed.\n              previousVirtualInstanceNextFirstFiber = nextChild;\n              previousVirtualInstancePrevFirstFiber = prevChildAtSameIndex;\n            }\n            level++;\n            break;\n          } else {\n            level++;\n          }\n        }\n      }\n      if (level === virtualLevel) {\n        if (previousVirtualInstance !== null) {\n          // If we were working on a virtual instance and this is not a virtual\n          // instance, then we end the sequence and update any previous children\n          // that should go into the previous virtual instance.\n          if (previousVirtualInstanceWasMount) {\n            mountVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n          } else {\n            updateVirtualInstanceRecursively(\n              previousVirtualInstance,\n              previousVirtualInstanceNextFirstFiber,\n              nextChild,\n              previousVirtualInstancePrevFirstFiber,\n              traceNearestHostComponentUpdate,\n              virtualLevel,\n            );\n          }\n          previousVirtualInstance = null;\n        }\n\n        // We've reached the end of the virtual levels, but not beyond,\n        // and now continue with the regular fiber.\n\n        // Do a fast pass over the remaining children to find the previous instance.\n        // TODO: This doesn't have the best O(n) for a large set of children that are\n        // reordered. Consider using a temporary map if it's not the very next one.\n        let prevChild;\n        if (prevChildAtSameIndex === nextChild) {\n          // This set is unchanged. We're just going through it to place all the\n          // children again.\n          prevChild = nextChild;\n        } else {\n          // We don't actually need to rely on the alternate here. We could also\n          // reconcile against stateNode, key or whatever. Doesn't have to be same\n          // Fiber pair.\n          prevChild = nextChild.alternate;\n        }\n        let previousSiblingOfExistingInstance = null;\n        let existingInstance = null;\n        if (prevChild !== null) {\n          existingInstance = remainingReconcilingChildren;\n          while (existingInstance !== null) {\n            if (existingInstance.data === prevChild) {\n              break;\n            }\n            previousSiblingOfExistingInstance = existingInstance;\n            existingInstance = existingInstance.nextSibling;\n          }\n        }\n        if (existingInstance !== null) {\n          // Common case. Match in the same parent.\n          const fiberInstance: FiberInstance = (existingInstance: any); // Only matches if it's a Fiber.\n\n          // We keep track if the order of the children matches the previous order.\n          // They are always different referentially, but if the instances line up\n          // conceptually we'll want to know that.\n          if (prevChild !== prevChildAtSameIndex) {\n            shouldResetChildren = true;\n          }\n\n          moveChild(fiberInstance, previousSiblingOfExistingInstance);\n\n          if (\n            updateFiberRecursively(\n              fiberInstance,\n              nextChild,\n              (prevChild: any),\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            // If a nested tree child order changed but it can't handle its own\n            // child order invalidation (e.g. because it's filtered out like host nodes),\n            // propagate the need to reset child order upwards to this Fiber.\n            shouldResetChildren = true;\n          }\n        } else if (prevChild !== null && shouldFilterFiber(nextChild)) {\n          // If this Fiber should be filtered, we need to still update its children.\n          // This relies on an alternate since we don't have an Instance with the previous\n          // child on it. Ideally, the reconciliation wouldn't need previous Fibers that\n          // are filtered from the tree.\n          if (\n            updateFiberRecursively(\n              null,\n              nextChild,\n              prevChild,\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            shouldResetChildren = true;\n          }\n        } else {\n          // It's possible for a FiberInstance to be reparented when virtual parents\n          // get their sequence split or change structure with the same render result.\n          // In this case we unmount the and remount the FiberInstances.\n          // This might cause us to lose the selection but it's an edge case.\n\n          // We let the previous instance remain in the \"remaining queue\" it is\n          // in to be deleted at the end since it'll have no match.\n\n          mountFiberRecursively(nextChild, traceNearestHostComponentUpdate);\n          // Need to mark the parent set to remount the new instance.\n          shouldResetChildren = true;\n        }\n      }\n      // Try the next child.\n      nextChild = nextChild.sibling;\n      // Advance the pointer in the previous list so that we can\n      // keep comparing if they line up.\n      if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n        prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n      }\n    }\n    if (previousVirtualInstance !== null) {\n      if (previousVirtualInstanceWasMount) {\n        mountVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n      } else {\n        updateVirtualInstanceRecursively(\n          previousVirtualInstance,\n          previousVirtualInstanceNextFirstFiber,\n          null,\n          previousVirtualInstancePrevFirstFiber,\n          traceNearestHostComponentUpdate,\n          virtualLevel,\n        );\n      }\n    }\n    // If we have no more children, but used to, they don't line up.\n    if (prevChildAtSameIndex !== null) {\n      shouldResetChildren = true;\n    }\n    return shouldResetChildren;\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateChildrenRecursively(\n    nextFirstChild: null | Fiber,\n    prevFirstChild: null | Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    if (nextFirstChild === null) {\n      return prevFirstChild !== null;\n    }\n    return updateVirtualChildrenRecursively(\n      nextFirstChild,\n      null,\n      prevFirstChild,\n      traceNearestHostComponentUpdate,\n      0,\n    );\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    fiberInstance: null | FiberInstance, // null if this should be filtered\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    if (__DEBUG__) {\n      if (fiberInstance !== null) {\n        debug('updateFiberRecursively()', fiberInstance, reconcilingParent);\n      }\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    const stashedParent = reconcilingParent;\n    const stashedPrevious = previouslyReconciledSibling;\n    const stashedRemaining = remainingReconcilingChildren;\n    if (fiberInstance !== null) {\n      // Update the Fiber so we that we always keep the current Fiber on the data.\n      fiberInstance.data = nextFiber;\n      if (\n        mostRecentlyInspectedElement !== null &&\n        mostRecentlyInspectedElement.id === fiberInstance.id &&\n        didFiberRender(prevFiber, nextFiber)\n      ) {\n        // If this Fiber has updated, clear cached inspected data.\n        // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n        hasElementUpdatedSinceLastInspected = true;\n      }\n      // Push a new DevTools instance parent while reconciling this subtree.\n      reconcilingParent = fiberInstance;\n      previouslyReconciledSibling = null;\n      // Move all the children of this instance to the remaining set.\n      // We'll move them back one by one, and anything that remains is deleted.\n      remainingReconcilingChildren = fiberInstance.firstChild;\n      fiberInstance.firstChild = null;\n    }\n    try {\n      if (nextFiber.tag === HostHoistable) {\n        const nearestInstance = reconcilingParent;\n        if (nearestInstance === null) {\n          throw new Error('Did not expect a host hoistable to be the root');\n        }\n        releaseHostResource(nearestInstance, prevFiber.memoizedState);\n        aquireHostResource(nearestInstance, nextFiber.memoizedState);\n      }\n\n      const isSuspense = nextFiber.tag === SuspenseComponent;\n      let shouldResetChildren = false;\n      // The behavior of timed-out Suspense trees is unique.\n      // Rather than unmount the timed out content (and possibly lose important state),\n      // React re-parents this content within a hidden Fragment while the fallback is showing.\n      // This behavior doesn't need to be observable in the DevTools though.\n      // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n      // The easiest fix is to strip out the intermediate Fragment fibers,\n      // so the Elements panel and Profiler don't need to special case them.\n      // Suspense components only have a non-null memoizedState if they're timed-out.\n      const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n      const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n      // The logic below is inspired by the code paths in updateSuspenseComponent()\n      // inside ReactFiberBeginWork in the React source code.\n      if (prevDidTimeout && nextDidTimeOut) {\n        // Fallback -> Fallback:\n        // 1. Reconcile fallback set.\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        // Note: We can't use nextFiber.child.sibling.alternate\n        // because the set is special and alternate may not exist.\n        const prevFiberChild = prevFiber.child;\n        const prevFallbackChildSet = prevFiberChild\n          ? prevFiberChild.sibling\n          : null;\n\n        if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n\n          shouldResetChildren = true;\n        }\n\n        if (\n          nextFallbackChildSet != null &&\n          prevFallbackChildSet != null &&\n          updateChildrenRecursively(\n            nextFallbackChildSet,\n            prevFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          )\n        ) {\n          shouldResetChildren = true;\n        }\n      } else if (prevDidTimeout && !nextDidTimeOut) {\n        // Fallback -> Primary:\n        // 1. Unmount fallback set\n        // Note: don't emulate fallback unmount because React actually did it.\n        // 2. Mount primary set\n        const nextPrimaryChildSet = nextFiber.child;\n        if (nextPrimaryChildSet !== null) {\n          mountChildrenRecursively(\n            nextPrimaryChildSet,\n            traceNearestHostComponentUpdate,\n          );\n        }\n        shouldResetChildren = true;\n      } else if (!prevDidTimeout && nextDidTimeOut) {\n        // Primary -> Fallback:\n        // 1. Hide primary set\n        // We simply don't re-add the fallback children and let\n        // unmountRemainingChildren() handle it.\n        // 2. Mount fallback set\n        const nextFiberChild = nextFiber.child;\n        const nextFallbackChildSet = nextFiberChild\n          ? nextFiberChild.sibling\n          : null;\n        if (nextFallbackChildSet != null) {\n          mountChildrenRecursively(\n            nextFallbackChildSet,\n            traceNearestHostComponentUpdate,\n          );\n          shouldResetChildren = true;\n        }\n      } else {\n        // Common case: Primary -> Primary.\n        // This is the same code path as for non-Suspense fibers.\n        if (nextFiber.child !== prevFiber.child) {\n          if (\n            updateChildrenRecursively(\n              nextFiber.child,\n              prevFiber.child,\n              traceNearestHostComponentUpdate,\n            )\n          ) {\n            shouldResetChildren = true;\n          }\n        } else {\n          // Children are unchanged.\n          if (fiberInstance !== null) {\n            // All the remaining children will be children of this same fiber so we can just reuse them.\n            // I.e. we just restore them by undoing what we did above.\n            fiberInstance.firstChild = remainingReconcilingChildren;\n            remainingReconcilingChildren = null;\n\n            if (traceUpdatesEnabled) {\n              // If we're tracing updates and we've bailed out before reaching a host node,\n              // we should fall back to recursively marking the nearest host descendants for highlight.\n              if (traceNearestHostComponentUpdate) {\n                const hostInstances =\n                  findAllCurrentHostInstances(fiberInstance);\n                hostInstances.forEach(hostInstance => {\n                  traceUpdatesForNodes.add(hostInstance);\n                });\n              }\n            }\n          } else {\n            // If this fiber is filtered there might be changes to this set elsewhere so we have\n            // to visit each child to place it back in the set. We let the child bail out instead.\n            if (\n              updateChildrenRecursively(nextFiber.child, prevFiber.child, false)\n            ) {\n              throw new Error(\n                'The children should not have changed if we pass in the same set.',\n              );\n            }\n          }\n        }\n      }\n\n      if (fiberInstance !== null) {\n        let componentLogsEntry = fiberToComponentLogsMap.get(\n          fiberInstance.data,\n        );\n        if (componentLogsEntry === undefined && fiberInstance.data.alternate) {\n          componentLogsEntry = fiberToComponentLogsMap.get(\n            fiberInstance.data.alternate,\n          );\n        }\n        recordConsoleLogs(fiberInstance, componentLogsEntry);\n\n        const isProfilingSupported =\n          nextFiber.hasOwnProperty('treeBaseDuration');\n        if (isProfilingSupported) {\n          recordProfilingDurations(fiberInstance, prevFiber);\n        }\n      }\n      if (shouldResetChildren) {\n        // We need to crawl the subtree for closest non-filtered Fibers\n        // so that we can display them in a flat children set.\n        if (fiberInstance !== null) {\n          recordResetChildren(fiberInstance);\n          // We've handled the child order change for this Fiber.\n          // Since it's included, there's no need to invalidate parent child order.\n          return false;\n        } else {\n          // Let the closest unfiltered parent Fiber reset its child order instead.\n          return true;\n        }\n      } else {\n        return false;\n      }\n    } finally {\n      if (fiberInstance !== null) {\n        unmountRemainingChildren();\n        reconcilingParent = stashedParent;\n        previouslyReconciledSibling = stashedPrevious;\n        remainingReconcilingChildren = stashedRemaining;\n      }\n    }\n  }\n\n  function cleanup() {\n    isProfiling = false;\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        const current = root.current;\n        const newRoot = createFiberInstance(current);\n        rootToFiberInstanceMap.set(root, newRoot);\n        idToDevToolsInstanceMap.set(newRoot.id, newRoot);\n        currentRoot = newRoot;\n        setRootPseudoKey(currentRoot.id, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: null,\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, false);\n\n        flushPendingEvents(root);\n\n        needsToFlushComponentLogs = false;\n        currentRoot = (null: any);\n      });\n    }\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // This Hook is no longer used. After having shipped DevTools everywhere it is\n    // safe to stop calling it from Fiber.\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n\n    if (needsToFlushComponentLogs) {\n      // We received new logs after commit. I.e. in a passive effect. We need to\n      // traverse the tree to find the affected ones. If we just moved the whole\n      // tree traversal from handleCommitFiberRoot to handlePostCommitFiberRoot\n      // this wouldn't be needed. For now we just brute force check all instances.\n      // This is not that common of a case.\n      bruteForceFlushErrorsAndWarnings();\n    }\n  }\n\n  function handleCommitFiberRoot(\n    root: FiberRoot,\n    priorityLevel: void | number,\n  ) {\n    const current = root.current;\n\n    let prevFiber: null | Fiber = null;\n    let rootInstance = rootToFiberInstanceMap.get(root);\n    if (!rootInstance) {\n      rootInstance = createFiberInstance(current);\n      rootToFiberInstanceMap.set(root, rootInstance);\n      idToDevToolsInstanceMap.set(rootInstance.id, rootInstance);\n    } else {\n      prevFiber = rootInstance.data;\n    }\n    currentRoot = rootInstance;\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n        updaters: null,\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (prevFiber !== null) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        prevFiber.memoizedState != null &&\n        prevFiber.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        prevFiber.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRoot.id, current);\n        mountFiberRecursively(current, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(rootInstance, current, prevFiber, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        unmountInstanceRecursively(rootInstance);\n        removeRootPseudoKey(currentRoot.id);\n        rootToFiberInstanceMap.delete(root);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRoot.id, current);\n      mountFiberRecursively(current, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRoot.id,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRoot.id,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    needsToFlushComponentLogs = false;\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRoot = (null: any);\n  }\n\n  function getResourceInstance(fiber: Fiber): HostInstance | null {\n    if (fiber.tag === HostHoistable) {\n      const resource = fiber.memoizedState;\n      // Feature Detect a DOM Specific Instance of a Resource\n      if (\n        typeof resource === 'object' &&\n        resource !== null &&\n        resource.instance != null\n      ) {\n        return resource.instance;\n      }\n    }\n    return null;\n  }\n\n  function appendHostInstancesByDevToolsInstance(\n    devtoolsInstance: DevToolsInstance,\n    hostInstances: Array<HostInstance>,\n  ) {\n    if (devtoolsInstance.kind !== VIRTUAL_INSTANCE) {\n      const fiber = devtoolsInstance.data;\n      appendHostInstancesByFiber(fiber, hostInstances);\n      return;\n    }\n    // Search the tree for the nearest child Fiber and add all its host instances.\n    // TODO: If the true nearest Fiber is filtered, we might skip it and instead include all\n    // the children below it. In the extreme case, searching the whole tree.\n    for (\n      let child = devtoolsInstance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      appendHostInstancesByDevToolsInstance(child, hostInstances);\n    }\n  }\n\n  function appendHostInstancesByFiber(\n    fiber: Fiber,\n    hostInstances: Array<HostInstance>,\n  ): void {\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (\n        node.tag === HostComponent ||\n        node.tag === HostText ||\n        node.tag === HostSingleton ||\n        node.tag === HostHoistable\n      ) {\n        const hostInstance = node.stateNode || getResourceInstance(node);\n        if (hostInstance) {\n          hostInstances.push(hostInstance);\n        }\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n  }\n\n  function findAllCurrentHostInstances(\n    devtoolsInstance: DevToolsInstance,\n  ): $ReadOnlyArray<HostInstance> {\n    const hostInstances: Array<HostInstance> = [];\n    appendHostInstancesByDevToolsInstance(devtoolsInstance, hostInstances);\n    return hostInstances;\n  }\n\n  function findHostInstancesForElementID(id: number) {\n    try {\n      const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n      if (devtoolsInstance === undefined) {\n        console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n        return null;\n      }\n      return findAllCurrentHostInstances(devtoolsInstance);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForElementID(id: number): null | string {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      return getDisplayNameForFiber(devtoolsInstance.data);\n    } else {\n      return devtoolsInstance.data.name || '';\n    }\n  }\n\n  function getNearestMountedDOMNode(publicInstance: Element): null | Element {\n    let domNode: null | Element = publicInstance;\n    while (domNode && !publicInstanceToDevToolsInstanceMap.has(domNode)) {\n      // $FlowFixMe: In practice this is either null or Element.\n      domNode = domNode.parentNode;\n    }\n    return domNode;\n  }\n\n  function getElementIDForHostInstance(\n    publicInstance: HostInstance,\n  ): number | null {\n    const instance = publicInstanceToDevToolsInstanceMap.get(publicInstance);\n    if (instance !== undefined) {\n      if (instance.kind === FILTERED_FIBER_INSTANCE) {\n        // A Filtered Fiber Instance will always have a Virtual Instance as a parent.\n        return ((instance.parent: any): VirtualInstance).id;\n      }\n      return instance.id;\n    }\n    return null;\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    if (isMostRecentlyInspectedElement(id)) {\n      return getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return null;\n    }\n    const fiber = devtoolsInstance.data;\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IncompleteFunctionComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        return type;\n      case ForwardRef:\n        return type.render;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return elementType != null && elementType.type != null\n          ? elementType.type\n          : type;\n      default:\n        return null;\n    }\n  }\n\n  function instanceToSerializedElement(\n    instance: FiberInstance | VirtualInstance,\n  ): SerializedElement {\n    if (instance.kind === FIBER_INSTANCE) {\n      const fiber = instance.data;\n      return {\n        displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n        id: instance.id,\n        key: fiber.key,\n        type: getElementTypeForFiber(fiber),\n      };\n    } else {\n      const componentInfo = instance.data;\n      return {\n        displayName: componentInfo.name || 'Anonymous',\n        id: instance.id,\n        key: componentInfo.key == null ? null : componentInfo.key,\n        type: ElementTypeVirtual,\n      };\n    }\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    const self = instanceToSerializedElement(devtoolsInstance);\n    const owners = getOwnersListFromInstance(devtoolsInstance);\n    // This is particular API is prefixed with the current instance too for some reason.\n    if (owners === null) {\n      return [self];\n    }\n    owners.unshift(self);\n    owners.reverse();\n    return owners;\n  }\n\n  function getOwnersListFromInstance(\n    instance: DevToolsInstance,\n  ): Array<SerializedElement> | null {\n    let owner = getUnfilteredOwner(instance.data);\n    if (owner === null) {\n      return null;\n    }\n    const owners: Array<SerializedElement> = [];\n    let parentInstance: null | DevToolsInstance = instance.parent;\n    while (parentInstance !== null && owner !== null) {\n      const ownerInstance = findNearestOwnerInstance(parentInstance, owner);\n      if (ownerInstance !== null) {\n        owners.push(instanceToSerializedElement(ownerInstance));\n        // Get the next owner and keep searching from the previous match.\n        owner = getUnfilteredOwner(owner);\n        parentInstance = ownerInstance.parent;\n      } else {\n        break;\n      }\n    }\n    return owners;\n  }\n\n  function getUnfilteredOwner(\n    owner: ReactComponentInfo | Fiber | null | void,\n  ): ReactComponentInfo | Fiber | null {\n    if (owner == null) {\n      return null;\n    }\n    if (typeof owner.tag === 'number') {\n      const ownerFiber: Fiber = (owner: any); // Refined\n      owner = ownerFiber._debugOwner;\n    } else {\n      const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n      owner = ownerInfo.owner;\n    }\n    while (owner) {\n      if (typeof owner.tag === 'number') {\n        const ownerFiber: Fiber = (owner: any); // Refined\n        if (!shouldFilterFiber(ownerFiber)) {\n          return ownerFiber;\n        }\n        owner = ownerFiber._debugOwner;\n      } else {\n        const ownerInfo: ReactComponentInfo = (owner: any); // Refined\n        if (!shouldFilterVirtual(ownerInfo, null)) {\n          return ownerInfo;\n        }\n        owner = ownerInfo.owner;\n      }\n    }\n    return null;\n  }\n\n  function findNearestOwnerInstance(\n    parentInstance: null | DevToolsInstance,\n    owner: void | null | ReactComponentInfo | Fiber,\n  ): null | FiberInstance | VirtualInstance {\n    if (owner == null) {\n      return null;\n    }\n    // Search the parent path for any instance that matches this kind of owner.\n    while (parentInstance !== null) {\n      if (\n        parentInstance.data === owner ||\n        // Typically both owner and instance.data would refer to the current version of a Fiber\n        // but it is possible for memoization to ignore the owner on the JSX. Then the new Fiber\n        // isn't propagated down as the new owner. In that case we might match the alternate\n        // instead. This is a bit hacky but the fastest check since type casting owner to a Fiber\n        // needs a duck type check anyway.\n        parentInstance.data === (owner: any).alternate\n      ) {\n        if (parentInstance.kind === FILTERED_FIBER_INSTANCE) {\n          return null;\n        }\n        return parentInstance;\n      }\n      parentInstance = parentInstance.parent;\n    }\n    // It is technically possible to create an element and render it in a different parent\n    // but this is a weird edge case and it is worth not having to scan the tree or keep\n    // a register for every fiber/component info.\n    return null;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return {instance, style};\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return {instance, style};\n    }\n\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return null;\n    }\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      return inspectVirtualInstanceRaw(devtoolsInstance);\n    }\n    if (devtoolsInstance.kind === FIBER_INSTANCE) {\n      return inspectFiberInstanceRaw(devtoolsInstance);\n    }\n    (devtoolsInstance: FilteredFiberInstance); // assert exhaustive\n    throw new Error('Unsupported instance kind');\n  }\n\n  function inspectFiberInstanceRaw(\n    fiberInstance: FiberInstance,\n  ): InspectedElement | null {\n    const fiber = fiberInstance.data;\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IncompleteFunctionComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      // Detect pre-19 Context Consumers\n      (typeSymbol === CONTEXT_NUMBER || typeSymbol === CONTEXT_SYMBOL_STRING) &&\n      !(\n        // In 19+, CONTEXT_SYMBOL_STRING means a Provider instead.\n        // It will be handled in a different branch below.\n        // Eventually, this entire branch can be removed.\n        (type._context === undefined && type.Provider === type)\n      )\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    } else if (\n      // Detect 19+ Context Consumers\n      typeSymbol === CONSUMER_SYMBOL_STRING\n    ) {\n      // This branch is 19+ only, where Context.Provider === Context.\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          // In 19+, these are Context Providers\n          currentTypeSymbol === CONTEXT_SYMBOL_STRING\n        ) {\n          const providerResolvedContext = currentType;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(fiberInstance);\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          // $FlowFixMe[invalid-computed-prop]\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(fiber, getDispatcherRef(renderer));\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    while (current.return !== null) {\n      const temp = current;\n      current = current.return;\n      if (temp.tag === SuspenseComponent) {\n        hasSuspenseBoundary = true;\n      } else if (isErrorBoundary(temp)) {\n        hasErrorBoundary = true;\n      }\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let isErrored = false;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFibers.get(fiber) === true ||\n        (fiber.alternate !== null &&\n          forceErrorForFibers.get(fiber.alternate) === true);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    let source = null;\n    if (canViewSource) {\n      source = getSourceForFiberInstance(fiberInstance);\n    }\n\n    let componentLogsEntry = fiberToComponentLogsMap.get(fiber);\n    if (componentLogsEntry === undefined && fiber.alternate !== null) {\n      componentLogsEntry = fiberToComponentLogsMap.get(fiber.alternate);\n    }\n\n    return {\n      id: fiberInstance.id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      // Is this error boundary in error state.\n      isErrored,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        hasSuspenseBoundary &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForFibers.has(fiber) ||\n          (fiber.alternate !== null &&\n            forceFallbackForFibers.has(fiber.alternate))),\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  function inspectVirtualInstanceRaw(\n    virtualInstance: VirtualInstance,\n  ): InspectedElement | null {\n    const canViewSource = true;\n    const source = getSourceForInstance(virtualInstance);\n\n    const componentInfo = virtualInstance.data;\n    const key =\n      typeof componentInfo.key === 'string' ? componentInfo.key : null;\n    const props = componentInfo.props == null ? null : componentInfo.props;\n    const owners: null | Array<SerializedElement> =\n      getOwnersListFromInstance(virtualInstance);\n\n    let rootType = null;\n    let hasErrorBoundary = false;\n    let hasSuspenseBoundary = false;\n    const nearestFiber = getNearestFiber(virtualInstance);\n    if (nearestFiber !== null) {\n      let current = nearestFiber;\n      while (current.return !== null) {\n        const temp = current;\n        current = current.return;\n        if (temp.tag === SuspenseComponent) {\n          hasSuspenseBoundary = true;\n        } else if (isErrorBoundary(temp)) {\n          hasErrorBoundary = true;\n        }\n      }\n      const fiberRoot = current.stateNode;\n      if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n        rootType = fiberRoot._debugRootType;\n      }\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    const componentLogsEntry =\n      componentInfoToComponentLogsMap.get(componentInfo);\n\n    return {\n      id: virtualInstance.id,\n\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      canToggleError: supportsTogglingError && hasErrorBoundary,\n      isErrored: false,\n\n      canToggleSuspense: supportsTogglingSuspense && hasSuspenseBoundary,\n\n      // Can view component source location.\n      canViewSource,\n      source,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext: false,\n\n      key: key,\n\n      type: ElementTypeVirtual,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context: null,\n      hooks: null,\n      props: props,\n      state: null,\n      errors:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.errors.entries()),\n      warnings:\n        componentLogsEntry === undefined\n          ? []\n          : Array.from(componentLogsEntry.warnings.entries()),\n      // List of owners\n      owners,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n\n    const fiber = devtoolsInstance.data;\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case IncompleteFunctionComponent:\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const componentName = getDisplayNameForElementID(id);\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const hostInstances = findHostInstancesForElementID(id);\n    if (hostInstances !== null) {\n      console.log('Nodes:', hostInstances);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      console.warn(`Could not find DevToolsInstance with id \"${id}\"`);\n      return;\n    }\n    if (devtoolsInstance.kind !== FIBER_INSTANCE) {\n      // TODO: Handle VirtualInstance.\n      return;\n    }\n    const fiber = devtoolsInstance.data;\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let initialTreeBaseDurationsMap: Map<number, Array<[number, number]>> | null =\n    null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let recordTimeline: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        const initialTreeBaseDurations: Array<[number, number]> =\n          (initialTreeBaseDurationsMap !== null &&\n            initialTreeBaseDurationsMap.get(rootID)) ||\n          [];\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 1]),\n            ]);\n            fiberSelfDurations.push([\n              fiberID,\n              formatDurationToMicrosecondsGranularity(durations[i + 2]),\n            ]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration:\n              formatDurationToMicrosecondsGranularity(maxActualDuration),\n            effectDuration:\n              effectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(effectDuration)\n                : null,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration:\n              passiveEffectDuration !== null\n                ? formatDurationToMicrosecondsGranularity(passiveEffectDuration)\n                : null,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function snapshotTreeBaseDurations(\n    instance: DevToolsInstance,\n    target: Array<[number, number]>,\n  ) {\n    // We don't need to convert milliseconds to microseconds in this case,\n    // because the profiling summary is JSON serialized.\n    if (instance.kind !== FILTERED_FIBER_INSTANCE) {\n      target.push([instance.id, instance.treeBaseDuration]);\n    }\n    for (\n      let child = instance.firstChild;\n      child !== null;\n      child = child.nextSibling\n    ) {\n      snapshotTreeBaseDurations(child, target);\n    }\n  }\n\n  function startProfiling(\n    shouldRecordChangeDescriptions: boolean,\n    shouldRecordTimeline: boolean,\n  ) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n    recordTimeline = shouldRecordTimeline;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootInstance = rootToFiberInstanceMap.get(root);\n      if (rootInstance === undefined) {\n        throw new Error(\n          'Expected the root instance to already exist when starting profiling',\n        );\n      }\n      const rootID = rootInstance.id;\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n      const initialTreeBaseDurations: Array<[number, number]> = [];\n      snapshotTreeBaseDurations(rootInstance, initialTreeBaseDurations);\n      (initialTreeBaseDurationsMap: any).set(rootID, initialTreeBaseDurations);\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true, recordTimeline);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false, recordTimeline);\n    }\n\n    recordTimeline = false;\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (shouldStartProfilingNow) {\n    startProfiling(\n      profilingSettings.recordChangeDescriptions,\n      profilingSettings.recordTimeline,\n    );\n  }\n\n  function getNearestFiber(devtoolsInstance: DevToolsInstance): null | Fiber {\n    if (devtoolsInstance.kind === VIRTUAL_INSTANCE) {\n      let inst: DevToolsInstance = devtoolsInstance;\n      while (inst.kind === VIRTUAL_INSTANCE) {\n        // For virtual instances, we search deeper until we find a Fiber instance.\n        // Then we search upwards from that Fiber. That's because Virtual Instances\n        // will always have an Fiber child filtered or not. If we searched its parents\n        // we might skip through a filtered Error Boundary before we hit a FiberInstance.\n        if (inst.firstChild === null) {\n          return null;\n        }\n        inst = inst.firstChild;\n      }\n      return inst.data.return;\n    } else {\n      return devtoolsInstance.data;\n    }\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of Fiber and its force error status: true (error), false (toggled off)\n  const forceErrorForFibers = new Map<Fiber, boolean>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any): boolean {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    let status = forceErrorForFibers.get(fiber);\n    if (status === false) {\n      // TRICKY overrideError adds entries to this Map,\n      // so ideally it would be the method that clears them too,\n      // but that would break the functionality of the feature,\n      // since DevTools needs to tell React to act differently than it normally would\n      // (don't just re-render the failed boundary, but reset its errored state too).\n      // So we can only clear it after telling React to reset the state.\n      // Technically this is premature and we should schedule it for later,\n      // since the render could always fail without committing the updated error boundary,\n      // but since this is a DEV-only feature, the simplicity is worth the trade off.\n      forceErrorForFibers.delete(fiber);\n      if (forceErrorForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setErrorHandler(shouldErrorFiberAlwaysNull);\n      }\n      return false;\n    }\n    if (status === undefined && fiber.alternate !== null) {\n      status = forceErrorForFibers.get(fiber.alternate);\n      if (status === false) {\n        forceErrorForFibers.delete(fiber.alternate);\n        if (forceErrorForFibers.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    if (status === undefined) {\n      return false;\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (!isErrorBoundary(fiber)) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n    forceErrorForFibers.set(fiber, forceError);\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceErrorForFibers.delete(fiber.alternate);\n    }\n    if (forceErrorForFibers.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n    scheduleUpdate(fiber);\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForFibers = new Set<Fiber>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: Fiber): boolean {\n    return (\n      forceFallbackForFibers.has(fiber) ||\n      (fiber.alternate !== null && forceFallbackForFibers.has(fiber.alternate))\n    );\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return;\n    }\n    const nearestFiber = getNearestFiber(devtoolsInstance);\n    if (nearestFiber === null) {\n      return;\n    }\n    let fiber = nearestFiber;\n    while (fiber.tag !== SuspenseComponent) {\n      if (fiber.return === null) {\n        return;\n      }\n      fiber = fiber.return;\n    }\n\n    if (fiber.alternate !== null) {\n      // We only need one of the Fibers in the set.\n      forceFallbackForFibers.delete(fiber.alternate);\n    }\n    if (forceFallback) {\n      forceFallbackForFibers.add(fiber);\n      if (forceFallbackForFibers.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForFibers.delete(fiber);\n      if (forceFallbackForFibers.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    scheduleUpdate(fiber);\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null; // This is the deepest unfiltered match of a Fiber.\n  let trackedPathMatchInstance: FiberInstance | VirtualInstance | null = null; // This is the deepest matched filtered Instance.\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchInstance = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(\n    fiber: Fiber,\n    fiberInstance: null | FiberInstance | FilteredFiberInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        if (fiberInstance !== null && fiberInstance.kind === FIBER_INSTANCE) {\n          trackedPathMatchInstance = fiberInstance;\n        }\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber === null && fiberInstance === null) {\n      // We're now looking for a Virtual Instance. It might be inside filtered Fibers\n      // so we keep looking below.\n      return true;\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateVirtualTrackedPathStateBeforeMount(\n    virtualInstance: VirtualInstance,\n    parentInstance: null | DevToolsInstance,\n  ): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    // Check if we've matched our nearest unfiltered parent so far.\n    if (trackedPathMatchInstance === parentInstance) {\n      const actualFrame = getVirtualPathFrame(virtualInstance);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = null; // Don't bother looking in Fibers anymore. We're deeper now.\n        trackedPathMatchInstance = virtualInstance;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    if (trackedPathMatchFiber !== null) {\n      // We're still looking for a Fiber which might be underneath this instance.\n      return true;\n    }\n    // This Instance's parent is on the path, but this Instance itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const rootInstance = rootToFiberInstanceMap.get(fiber.stateNode);\n        if (rootInstance === undefined) {\n          throw new Error(\n            'Expected the root instance to exist when computing a path',\n          );\n        }\n        const pseudoKey = rootPseudoKeys.get(rootInstance.id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  function getVirtualPathFrame(virtualInstance: VirtualInstance): PathFrame {\n    return {\n      displayName: virtualInstance.data.name || '',\n      key: virtualInstance.data.key == null ? null : virtualInstance.data.key,\n      index: -1, // We use -1 to indicate that this is a virtual path frame.\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    const devtoolsInstance = idToDevToolsInstanceMap.get(id);\n    if (devtoolsInstance === undefined) {\n      return null;\n    }\n\n    const keyPath = [];\n\n    let inst: DevToolsInstance = devtoolsInstance;\n    while (inst.kind === VIRTUAL_INSTANCE) {\n      keyPath.push(getVirtualPathFrame(inst));\n      if (inst.parent === null) {\n        // This is a bug but non-essential. We should've found a root instance.\n        return null;\n      }\n      inst = inst.parent;\n    }\n\n    let fiber: null | Fiber = inst.data;\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchInstance === null) {\n      // We didn't find anything.\n      return null;\n    }\n    return {\n      id: trackedPathMatchInstance.id,\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToDevToolsInstanceMap.has(id);\n  }\n\n  function getSourceForFiberInstance(\n    fiberInstance: FiberInstance,\n  ): Source | null {\n    const unresolvedSource = fiberInstance.source;\n    if (\n      unresolvedSource !== null &&\n      typeof unresolvedSource === 'object' &&\n      !isError(unresolvedSource)\n    ) {\n      // $FlowFixMe: isError should have refined it.\n      return unresolvedSource;\n    }\n    const dispatcherRef = getDispatcherRef(renderer);\n    const stackFrame =\n      dispatcherRef == null\n        ? null\n        : getSourceLocationByFiber(\n            ReactTypeOfWork,\n            fiberInstance.data,\n            dispatcherRef,\n          );\n    if (stackFrame === null) {\n      // If we don't find a source location by throwing, try to get one\n      // from an owned child if possible. This is the same branch as\n      // for virtual instances.\n      return getSourceForInstance(fiberInstance);\n    }\n    const source = parseSourceFromComponentStack(stackFrame);\n    fiberInstance.source = source;\n    return source;\n  }\n\n  function getSourceForInstance(instance: DevToolsInstance): Source | null {\n    let unresolvedSource = instance.source;\n    if (unresolvedSource === null) {\n      // We don't have any source yet. We can try again later in case an owned child mounts later.\n      // TODO: We won't have any information here if the child is filtered.\n      return null;\n    }\n\n    // If we have the debug stack (the creation stack of the JSX) for any owned child of this\n    // component, then at the bottom of that stack will be a stack frame that is somewhere within\n    // the component's function body. Typically it would be the callsite of the JSX unless there's\n    // any intermediate utility functions. This won't point to the top of the component function\n    // but it's at least somewhere within it.\n    if (isError(unresolvedSource)) {\n      unresolvedSource = formatOwnerStack((unresolvedSource: any));\n    }\n    if (typeof unresolvedSource === 'string') {\n      const idx = unresolvedSource.lastIndexOf('\\n');\n      const lastLine =\n        idx === -1 ? unresolvedSource : unresolvedSource.slice(idx + 1);\n      return (instance.source = parseSourceFromComponentStack(lastLine));\n    }\n\n    // $FlowFixMe: refined.\n    return unresolvedSource;\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findHostInstancesForElementID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    getComponentStack,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    onErrorOrWarning,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n    getEnvironmentNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetElementIDForHostInstance,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  HostInstance,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getElementIDForHostInstance: GetElementIDForHostInstance =\n    ((null: any): GetElementIDForHostInstance);\n  let findHostInstanceForInternalID: (id: number) => ?HostInstance;\n  let getNearestMountedDOMNode = (node: Element): null | Element => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getElementIDForHostInstance = node => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getNearestMountedDOMNode = (node: Element): null | Element => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      if (internalInstance != null) {\n        return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n      }\n      return null;\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getElementIDForHostInstance = node => {\n      // Not implemented.\n      return null;\n    };\n    findHostInstanceForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForElementID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n      source: null,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const displayName = getDisplayNameForElementID(id);\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const hostInstance = findHostInstanceForInternalID(id);\n    if (hostInstance !== null) {\n      console.log('Node:', hostInstance);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function getElementAttributeByPath(\n    id: number,\n    path: Array<string | number>,\n  ): mixed {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      return getInObject(inspectedElement, path);\n    }\n    return undefined;\n  }\n\n  function getElementSourceFunctionById(id: number): null | Function {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return null;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return null;\n    }\n\n    return element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function getEnvironmentNames(): Array<string> {\n    // No RSC support.\n    return [];\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForElementID(id: number) {\n    // Not implemented\n  }\n\n  function hasElementWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForElementID,\n    clearWarningsForElementID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForElementID,\n    getNearestMountedDOMNode,\n    getElementIDForHostInstance,\n    getInstanceAndStyle,\n    findHostInstancesForElementID: (id: number) => {\n      const hostInstance = findHostInstanceForInternalID(id);\n      return hostInstance == null ? null : [hostInstance];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasElementWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    getElementAttributeByPath,\n    getElementSourceFunctionById,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    updateComponentFilters,\n    getEnvironmentNames,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  ReactRenderer,\n  RendererInterface,\n  DevToolsHook,\n  RendererID,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\n\nimport {attach as attachFlight} from 'react-devtools-shared/src/backend/flight/renderer';\nimport {attach as attachFiber} from 'react-devtools-shared/src/backend/fiber/renderer';\nimport {attach as attachLegacy} from 'react-devtools-shared/src/backend/legacy/renderer';\nimport {hasAssignedBackend} from 'react-devtools-shared/src/backend/utils';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport default function attachRenderer(\n  hook: DevToolsHook,\n  id: RendererID,\n  renderer: ReactRenderer,\n  global: Object,\n  shouldStartProfilingNow: boolean,\n  profilingSettings: ProfilingSettings,\n): RendererInterface | void {\n  // only attach if the renderer is compatible with the current version of the backend\n  if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n    return;\n  }\n  let rendererInterface = hook.rendererInterfaces.get(id);\n\n  // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n  if (rendererInterface == null) {\n    if (typeof renderer.getCurrentComponentInfo === 'function') {\n      // react-flight/client\n      rendererInterface = attachFlight(hook, id, renderer, global);\n    } else if (\n      // v16-19\n      typeof renderer.findFiberByHostInstance === 'function' ||\n      // v16.8+\n      renderer.currentDispatcherRef != null\n    ) {\n      // react-reconciler v16+\n      rendererInterface = attachFiber(\n        hook,\n        id,\n        renderer,\n        global,\n        shouldStartProfilingNow,\n        profilingSettings,\n      );\n    } else if (renderer.ComponentTree) {\n      // react-dom v15\n      rendererInterface = attachLegacy(hook, id, renderer, global);\n    } else {\n      // Older react-dom or other unsupported renderer version\n    }\n  }\n\n  return rendererInterface;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// Do not add / import anything to this file.\n// This function could be used from multiple places, including hook.\n\n// Skips CSS and object arguments, inlines other in the first argument as a template string\nexport default function formatConsoleArguments(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): $ReadOnlyArray<any> {\n  if (inputArgs.length === 0 || typeof maybeMessage !== 'string') {\n    return [maybeMessage, ...inputArgs];\n  }\n\n  const args = inputArgs.slice();\n\n  let template = '';\n  let argumentsPointer = 0;\n  for (let i = 0; i < maybeMessage.length; ++i) {\n    const currentChar = maybeMessage[i];\n    if (currentChar !== '%') {\n      template += currentChar;\n      continue;\n    }\n\n    const nextChar = maybeMessage[i + 1];\n    ++i;\n\n    // Only keep CSS and objects, inline other arguments\n    switch (nextChar) {\n      case 'c':\n      case 'O':\n      case 'o': {\n        ++argumentsPointer;\n        template += `%${nextChar}`;\n\n        break;\n      }\n      case 'd':\n      case 'i': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseInt(arg, 10).toString();\n\n        break;\n      }\n      case 'f': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += parseFloat(arg).toString();\n\n        break;\n      }\n      case 's': {\n        const [arg] = args.splice(argumentsPointer, 1);\n        template += arg.toString();\n\n        break;\n      }\n\n      default:\n        template += `%${nextChar}`;\n    }\n  }\n\n  return [template, ...args];\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from './backend/types';\n\nimport {\n  FIREFOX_CONSOLE_DIMMING_COLOR,\n  ANSI_STYLE_DIMMING_TEMPLATE,\n  ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK,\n} from 'react-devtools-shared/src/constants';\nimport attachRenderer from './attachRenderer';\nimport formatConsoleArguments from 'react-devtools-shared/src/backend/utils/formatConsoleArguments';\nimport formatWithStyles from 'react-devtools-shared/src/backend/utils/formatWithStyles';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nfunction isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\n// We add a suffix to some frames that older versions of React didn't do.\n// To compare if it's equivalent we strip out the suffix to see if they're\n// still equivalent. Similarly, we sometimes use [] and sometimes () so we\n// strip them to for the comparison.\nconst frameDiffs = / \\(\\<anonymous\\>\\)$|\\@unknown\\:0\\:0$|\\(|\\)|\\[|\\]/gm;\nfunction areStackTracesEqual(a: string, b: string): boolean {\n  return a.replace(frameDiffs, '') === b.replace(frameDiffs, '');\n}\n\nconst targetConsole: Object = console;\n\nconst defaultProfilingSettings: ProfilingSettings = {\n  recordChangeDescriptions: false,\n  recordTimeline: false,\n};\n\nexport function installHook(\n  target: any,\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings: ProfilingSettings = defaultProfilingSettings,\n): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://react.dev/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // TODO: isProfiling should be stateful, and we should update it once profiling is finished\n  const isProfiling = shouldStartProfilingNow;\n  let uidCounter = 0;\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    const rendererInterface = attachRenderer(\n      hook,\n      id,\n      renderer,\n      target,\n      isProfiling,\n      profilingSettings,\n    );\n    if (rendererInterface != null) {\n      hook.rendererInterfaces.set(id, rendererInterface);\n      hook.emit('renderer-attached', {id, rendererInterface});\n    } else {\n      hook.hasUnsupportedRendererAttached = true;\n      hook.emit('unsupported-renderer-version');\n    }\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  let isRunningDuringStrictModeInvocation = false;\n  function setStrictMode(rendererID: RendererID, isStrictMode: boolean) {\n    isRunningDuringStrictModeInvocation = isStrictMode;\n\n    if (isStrictMode) {\n      patchConsoleForStrictMode();\n    } else {\n      unpatchConsoleForStrictMode();\n    }\n  }\n\n  const unpatchConsoleCallbacks = [];\n  // For StrictMode we patch console once we are running in StrictMode and unpatch right after it\n  // So patching could happen multiple times during the runtime\n  // Notice how we don't patch error or warn methods, because they are already patched in patchConsoleForErrorsAndWarnings\n  // This will only happen once, when hook is installed\n  function patchConsoleForStrictMode() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    // Don't patch twice\n    if (unpatchConsoleCallbacks.length > 0) {\n      return;\n    }\n\n    // At this point 'error', 'warn', and 'trace' methods are already patched\n    // by React DevTools hook to append component stacks and other possible features.\n    const consoleMethodsToOverrideForStrictMode = [\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForStrictMode) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (\n        ...args: any[]\n      ) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (settings.hideConsoleLogsInStrictMode) {\n          return;\n        }\n\n        // Dim the text color of the double logs if we're not hiding them.\n        // Firefox doesn't support ANSI escape sequences\n        if (__IS_FIREFOX__) {\n          originalMethod(\n            ...formatWithStyles(args, FIREFOX_CONSOLE_DIMMING_COLOR),\n          );\n        } else {\n          originalMethod(\n            ANSI_STYLE_DIMMING_TEMPLATE,\n            ...formatConsoleArguments(...args),\n          );\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n      unpatchConsoleCallbacks.push(() => {\n        targetConsole[method] = originalMethod;\n      });\n    }\n  }\n\n  function unpatchConsoleForStrictMode() {\n    unpatchConsoleCallbacks.forEach(callback => callback());\n    unpatchConsoleCallbacks.length = 0;\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        // $FlowFixMe[incompatible-call]\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // For Errors and Warnings we only patch console once\n  function patchConsoleForErrorsAndWarnings() {\n    // Don't patch console in case settings were not injected\n    if (!hook.settings) {\n      return;\n    }\n\n    const consoleMethodsToOverrideForErrorsAndWarnings = [\n      'error',\n      'trace',\n      'warn',\n    ];\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const method of consoleMethodsToOverrideForErrorsAndWarnings) {\n      const originalMethod = targetConsole[method];\n      const overrideMethod: (...args: Array<any>) => void = (...args) => {\n        const settings = hook.settings;\n        // Something unexpected happened, fallback to just printing the console message.\n        if (settings == null) {\n          originalMethod(...args);\n          return;\n        }\n\n        if (\n          isRunningDuringStrictModeInvocation &&\n          settings.hideConsoleLogsInStrictMode\n        ) {\n          return;\n        }\n\n        let injectedComponentStackAsFakeError = false;\n        let alreadyHasComponentStack = false;\n        if (settings.appendComponentStack) {\n          const lastArg = args.length > 0 ? args[args.length - 1] : null;\n          alreadyHasComponentStack =\n            typeof lastArg === 'string' && isStringComponentStack(lastArg); // The last argument should be a component stack.\n        }\n\n        const shouldShowInlineWarningsAndErrors =\n          settings.showInlineWarningsAndErrors &&\n          (method === 'error' || method === 'warn');\n\n        // Search for the first renderer that has a current Fiber.\n        // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const rendererInterface of hook.rendererInterfaces.values()) {\n          const {onErrorOrWarning, getComponentStack} = rendererInterface;\n          try {\n            if (shouldShowInlineWarningsAndErrors) {\n              // patch() is called by two places: (1) the hook and (2) the renderer backend.\n              // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n              if (onErrorOrWarning != null) {\n                onErrorOrWarning(\n                  ((method: any): 'error' | 'warn'),\n                  args.slice(),\n                );\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n\n          try {\n            if (settings.appendComponentStack && getComponentStack != null) {\n              // This needs to be directly in the wrapper so we can pop exactly one frame.\n              const topFrame = Error('react-stack-top-frame');\n              const match = getComponentStack(topFrame);\n              if (match !== null) {\n                const {enableOwnerStacks, componentStack} = match;\n                // Empty string means we have a match but no component stack.\n                // We don't need to look in other renderers but we also don't add anything.\n                if (componentStack !== '') {\n                  // Create a fake Error so that when we print it we get native source maps. Every\n                  // browser will print the .stack property of the error and then parse it back for source\n                  // mapping. Rather than print the internal slot. So it doesn't matter that the internal\n                  // slot doesn't line up.\n                  const fakeError = new Error('');\n                  // In Chromium, only the stack property is printed but in Firefox the <name>:<message>\n                  // gets printed so to make the colon make sense, we name it so we print Stack:\n                  // and similarly Safari leave an expandable slot.\n                  if (__IS_CHROME__ || __IS_EDGE__) {\n                    // Before sending the stack to Chrome DevTools for formatting,\n                    // V8 will reconstruct this according to the template <name>: <message><stack-frames>\n                    // https://source.chromium.org/chromium/chromium/src/+/main:v8/src/inspector/value-mirror.cc;l=252-311;drc=bdc48d1b1312cc40c00282efb1c9c5f41dcdca9a\n                    // It has to start with ^[\\w.]*Error\\b to trigger stack formatting.\n                    fakeError.name = enableOwnerStacks\n                      ? 'Error Stack'\n                      : 'Error Component Stack'; // This gets printed\n                  } else {\n                    fakeError.name = enableOwnerStacks\n                      ? 'Stack'\n                      : 'Component Stack'; // This gets printed\n                  }\n                  // In Chromium, the stack property needs to start with ^[\\w.]*Error\\b to trigger stack\n                  // formatting. Otherwise it is left alone. So we prefix it. Otherwise we just override it\n                  // to our own stack.\n                  fakeError.stack =\n                    __IS_CHROME__ || __IS_EDGE__ || __IS_NATIVE__\n                      ? (enableOwnerStacks\n                          ? 'Error Stack:'\n                          : 'Error Component Stack:') + componentStack\n                      : componentStack;\n\n                  if (alreadyHasComponentStack) {\n                    // Only modify the component stack if it matches what we would've added anyway.\n                    // Otherwise we assume it was a non-React stack.\n                    if (\n                      areStackTracesEqual(args[args.length - 1], componentStack)\n                    ) {\n                      const firstArg = args[0];\n                      if (\n                        args.length > 1 &&\n                        typeof firstArg === 'string' &&\n                        firstArg.endsWith('%s')\n                      ) {\n                        args[0] = firstArg.slice(0, firstArg.length - 2); // Strip the %s param\n                      }\n                      args[args.length - 1] = fakeError;\n                      injectedComponentStackAsFakeError = true;\n                    }\n                  } else {\n                    args.push(fakeError);\n                    injectedComponentStackAsFakeError = true;\n                  }\n                }\n\n                // Don't add stacks from other renderers.\n                break;\n              }\n            }\n          } catch (error) {\n            // Don't let a DevTools or React internal error interfere with logging.\n            setTimeout(() => {\n              throw error;\n            }, 0);\n          }\n        }\n\n        if (settings.breakOnConsoleErrors) {\n          // --- Welcome to debugging with React DevTools ---\n          // This debugger statement means that you've enabled the \"break on warnings\" feature.\n          // Use the browser's Call Stack panel to step out of this override function\n          // to where the original warning or error was logged.\n          // eslint-disable-next-line no-debugger\n          debugger;\n        }\n\n        if (isRunningDuringStrictModeInvocation) {\n          // Dim the text color of the double logs if we're not hiding them.\n          // Firefox doesn't support ANSI escape sequences\n          if (__IS_FIREFOX__) {\n            let argsWithCSSStyles = formatWithStyles(\n              args,\n              FIREFOX_CONSOLE_DIMMING_COLOR,\n            );\n\n            if (injectedComponentStackAsFakeError) {\n              argsWithCSSStyles = [\n                `${argsWithCSSStyles[0]} %o`,\n                ...argsWithCSSStyles.slice(1),\n              ];\n            }\n\n            originalMethod(...argsWithCSSStyles);\n          } else {\n            originalMethod(\n              injectedComponentStackAsFakeError\n                ? ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK\n                : ANSI_STYLE_DIMMING_TEMPLATE,\n              ...formatConsoleArguments(...args),\n            );\n          }\n        } else {\n          originalMethod(...args);\n        }\n      };\n\n      targetConsole[method] = overrideMethod;\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n    hasUnsupportedRendererAttached: false,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React Flight Client checks the hook for this to ensure DevTools is new enough.\n    supportsFlight: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    // React v18.0+\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (maybeSettingsOrSettingsPromise == null) {\n    // Set default settings\n    hook.settings = {\n      appendComponentStack: true,\n      breakOnConsoleErrors: false,\n      showInlineWarningsAndErrors: true,\n      hideConsoleLogsInStrictMode: false,\n    };\n    patchConsoleForErrorsAndWarnings();\n  } else {\n    Promise.resolve(maybeSettingsOrSettingsPromise)\n      .then(settings => {\n        hook.settings = settings;\n        hook.emit('settingsInitialized', settings);\n\n        patchConsoleForErrorsAndWarnings();\n      })\n      .catch(() => {\n        targetConsole.error(\n          \"React DevTools failed to get Console Patching settings. Console won't be patched and some console features will not work.\",\n        );\n      });\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport type {DevToolsHook, RendererID, RendererInterface} from './types';\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n  isReloadAndProfileSupported: boolean,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  function registerRendererInterface(\n    id: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    agent.registerRendererInterface(id, rendererInterface);\n\n    // Now that the Store and the renderer interface are connected,\n    // it's time to flush the pending operation codes to the frontend.\n    rendererInterface.flushInitialOperations();\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        rendererInterface,\n      }: {\n        id: number,\n        rendererInterface: RendererInterface,\n      }) => {\n        registerRendererInterface(id, rendererInterface);\n      },\n    ),\n    hook.sub('unsupported-renderer-version', () => {\n      agent.onUnsupportedRenderer();\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n    hook.sub('settingsInitialized', agent.onHookSettings),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  agent.addListener('getIfHasUnsupportedRendererVersion', () => {\n    if (hook.hasUnsupportedRendererAttached) {\n      agent.onUnsupportedRenderer();\n    }\n  });\n\n  hook.rendererInterfaces.forEach((rendererInterface, id) => {\n    registerRendererInterface(id, rendererInterface);\n  });\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n\n  // Agent's event listeners are cleaned up by Agent in `shutdown` implementation.\n  agent.addListener('shutdown', onAgentShutdown);\n  agent.addListener('updateHookSettings', settings => {\n    hook.settings = settings;\n  });\n  agent.addListener('getHookSettings', () => {\n    if (hook.settings != null) {\n      agent.onHookSettings(hook.settings);\n    }\n  });\n\n  if (isReloadAndProfileSupported) {\n    agent.onReloadAndProfileSupportedByHost();\n  }\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {__DEBUG__} from 'react-devtools-shared/src/constants';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\nimport {\n  getDefaultComponentFilters,\n  getIsReloadAndProfileSupported,\n} from 'react-devtools-shared/src/utils';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  ComponentFilter,\n  Wall,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {\n  DevToolsHook,\n  DevToolsHookSettings,\n  ProfilingSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {ResolveNativeStyle} from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\ntype ConnectOptions = {\n  host?: string,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  port?: number,\n  useHttps?: boolean,\n  resolveRNStyle?: ResolveNativeStyle,\n  retryConnectionDelay?: number,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nlet savedComponentFilters: Array<ComponentFilter> =\n  getDefaultComponentFilters();\n\nfunction debug(methodName: string, ...args: Array<mixed>) {\n  if (__DEBUG__) {\n    console.log(\n      `%c[core/backend] %c${methodName}`,\n      'color: teal; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n}\n\nexport function initialize(\n  maybeSettingsOrSettingsPromise?:\n    | DevToolsHookSettings\n    | Promise<DevToolsHookSettings>,\n  shouldStartProfilingNow: boolean = false,\n  profilingSettings?: ProfilingSettings,\n) {\n  installHook(\n    window,\n    maybeSettingsOrSettingsPromise,\n    shouldStartProfilingNow,\n    profilingSettings,\n  );\n}\n\nexport function connectToDevTools(options: ?ConnectOptions) {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const {\n    host = 'localhost',\n    nativeStyleEditorValidAttributes,\n    useHttps = false,\n    port = 8097,\n    websocket,\n    resolveRNStyle = (null: $FlowFixMe),\n    retryConnectionDelay = 2000,\n    isAppActive = () => true,\n    onSettingsUpdated,\n    isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n    isProfiling,\n    onReloadAndProfile,\n    onReloadAndProfileFlagsReset,\n  } = options || {};\n\n  const protocol = useHttps ? 'wss' : 'ws';\n  let retryTimeoutID: TimeoutID | null = null;\n\n  function scheduleRetry() {\n    if (retryTimeoutID === null) {\n      // Two seconds because RN had issues with quick retries.\n      retryTimeoutID = setTimeout(\n        () => connectToDevTools(options),\n        retryConnectionDelay,\n      );\n    }\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  let bridge: BackendBridge | null = null;\n\n  const messageListeners = [];\n  const uri = protocol + '://' + host + ':' + port;\n\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  const ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function () {\n    bridge = new Bridge({\n      listen(fn) {\n        messageListeners.push(fn);\n        return () => {\n          const index = messageListeners.indexOf(fn);\n          if (index >= 0) {\n            messageListeners.splice(index, 1);\n          }\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        if (ws.readyState === ws.OPEN) {\n          if (__DEBUG__) {\n            debug('wall.send()', event, payload);\n          }\n\n          ws.send(JSON.stringify({event, payload}));\n        } else {\n          if (__DEBUG__) {\n            debug(\n              'wall.send()',\n              'Shutting down bridge because of closed WebSocket connection',\n            );\n          }\n\n          if (bridge !== null) {\n            bridge.shutdown();\n          }\n\n          scheduleRetry();\n        }\n      },\n    });\n    bridge.addListener(\n      'updateComponentFilters',\n      (componentFilters: Array<ComponentFilter>) => {\n        // Save filter changes in memory, in case DevTools is reloaded.\n        // In that case, the renderer will already be using the updated values.\n        // We'll lose these in between backend reloads but that can't be helped.\n        savedComponentFilters = componentFilters;\n      },\n    );\n\n    // The renderer interface doesn't read saved component filters directly,\n    // because they are generally stored in localStorage within the context of the extension.\n    // Because of this it relies on the extension to pass filters.\n    // In the case of the standalone DevTools being used with a website,\n    // saved filters are injected along with the backend script tag so we shouldn't override them here.\n    // This injection strategy doesn't work for React Native though.\n    // Ideally the backend would save the filters itself, but RN doesn't provide a sync storage solution.\n    // So for now we just fall back to using the default filters...\n    if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      bridge.send('overrideComponentFilters', savedComponentFilters);\n    }\n\n    // TODO (npm-packages) Warn if \"isBackendStorageAPISupported\"\n    // $FlowFixMe[incompatible-call] found when upgrading Flow\n    const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n    if (typeof onReloadAndProfileFlagsReset === 'function') {\n      onReloadAndProfileFlagsReset();\n    }\n\n    if (onSettingsUpdated != null) {\n      agent.addListener('updateHookSettings', onSettingsUpdated);\n    }\n    agent.addListener('shutdown', () => {\n      if (onSettingsUpdated != null) {\n        agent.removeListener('updateHookSettings', onSettingsUpdated);\n      }\n\n      // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n      // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n      hook.emit('shutdown');\n    });\n\n    initBackend(hook, agent, window, isReloadAndProfileSupported);\n\n    // Setup React Native style editor if the environment supports it.\n    if (resolveRNStyle != null || hook.resolveRNStyle != null) {\n      setupNativeStyleEditor(\n        // $FlowFixMe[incompatible-call] found when upgrading Flow\n        bridge,\n        agent,\n        ((resolveRNStyle || hook.resolveRNStyle: any): ResolveNativeStyle),\n        nativeStyleEditorValidAttributes ||\n          hook.nativeStyleEditorValidAttributes ||\n          null,\n      );\n    } else {\n      // Otherwise listen to detect if the environment later supports it.\n      // For example, Flipper does not eagerly inject these values.\n      // Instead it relies on the React Native Inspector to lazily inject them.\n      let lazyResolveRNStyle;\n      let lazyNativeStyleEditorValidAttributes;\n\n      const initAfterTick = () => {\n        if (bridge !== null) {\n          setupNativeStyleEditor(\n            bridge,\n            agent,\n            lazyResolveRNStyle,\n            lazyNativeStyleEditorValidAttributes,\n          );\n        }\n      };\n\n      if (!hook.hasOwnProperty('resolveRNStyle')) {\n        Object.defineProperty(\n          hook,\n          'resolveRNStyle',\n          ({\n            enumerable: false,\n            get() {\n              return lazyResolveRNStyle;\n            },\n            set(value: $FlowFixMe) {\n              lazyResolveRNStyle = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n      if (!hook.hasOwnProperty('nativeStyleEditorValidAttributes')) {\n        Object.defineProperty(\n          hook,\n          'nativeStyleEditorValidAttributes',\n          ({\n            enumerable: false,\n            get() {\n              return lazyNativeStyleEditorValidAttributes;\n            },\n            set(value: $FlowFixMe) {\n              lazyNativeStyleEditorValidAttributes = value;\n              initAfterTick();\n            },\n          }: Object),\n        );\n      }\n    }\n  };\n\n  function handleClose() {\n    if (__DEBUG__) {\n      debug('WebSocket.onclose');\n    }\n\n    if (bridge !== null) {\n      bridge.emit('shutdown');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleFailed() {\n    if (__DEBUG__) {\n      debug('WebSocket.onerror');\n    }\n\n    scheduleRetry();\n  }\n\n  function handleMessage(event: MessageEvent) {\n    let data;\n    try {\n      if (typeof event.data === 'string') {\n        data = JSON.parse(event.data);\n        if (__DEBUG__) {\n          debug('WebSocket.onmessage', data);\n        }\n      } else {\n        throw Error();\n      }\n    } catch (e) {\n      console.error(\n        '[React DevTools] Failed to parse JSON: ' + (event.data: any),\n      );\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (error) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log('[React DevTools] Error calling listener', data);\n        console.log('error:', error);\n        throw error;\n      }\n    });\n  }\n}\n\ntype ConnectWithCustomMessagingOptions = {\n  onSubscribe: (cb: Function) => void,\n  onUnsubscribe: (cb: Function) => void,\n  onMessage: (event: string, payload: any) => void,\n  nativeStyleEditorValidAttributes?: $ReadOnlyArray<string>,\n  resolveRNStyle?: ResolveNativeStyle,\n  onSettingsUpdated?: (settings: $ReadOnly<DevToolsHookSettings>) => void,\n  isReloadAndProfileSupported?: boolean,\n  isProfiling?: boolean,\n  onReloadAndProfile?: (recordChangeDescriptions: boolean) => void,\n  onReloadAndProfileFlagsReset?: () => void,\n};\n\nexport function connectWithCustomMessagingProtocol({\n  onSubscribe,\n  onUnsubscribe,\n  onMessage,\n  nativeStyleEditorValidAttributes,\n  resolveRNStyle,\n  onSettingsUpdated,\n  isReloadAndProfileSupported = getIsReloadAndProfileSupported(),\n  isProfiling,\n  onReloadAndProfile,\n  onReloadAndProfileFlagsReset,\n}: ConnectWithCustomMessagingOptions): Function {\n  const hook: ?DevToolsHook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return;\n  }\n\n  const wall: Wall = {\n    listen(fn: Function) {\n      onSubscribe(fn);\n\n      return () => {\n        onUnsubscribe(fn);\n      };\n    },\n    send(event: string, payload: any) {\n      onMessage(event, payload);\n    },\n  };\n\n  const bridge: BackendBridge = new Bridge(wall);\n\n  bridge.addListener(\n    'updateComponentFilters',\n    (componentFilters: Array<ComponentFilter>) => {\n      // Save filter changes in memory, in case DevTools is reloaded.\n      // In that case, the renderer will already be using the updated values.\n      // We'll lose these in between backend reloads but that can't be helped.\n      savedComponentFilters = componentFilters;\n    },\n  );\n\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ == null) {\n    bridge.send('overrideComponentFilters', savedComponentFilters);\n  }\n\n  const agent = new Agent(bridge, isProfiling, onReloadAndProfile);\n  if (typeof onReloadAndProfileFlagsReset === 'function') {\n    onReloadAndProfileFlagsReset();\n  }\n\n  if (onSettingsUpdated != null) {\n    agent.addListener('updateHookSettings', onSettingsUpdated);\n  }\n  agent.addListener('shutdown', () => {\n    if (onSettingsUpdated != null) {\n      agent.removeListener('updateHookSettings', onSettingsUpdated);\n    }\n\n    // If we received 'shutdown' from `agent`, we assume the `bridge` is already shutting down,\n    // and that caused the 'shutdown' event on the `agent`, so we don't need to call `bridge.shutdown()` here.\n    hook.emit('shutdown');\n  });\n\n  const unsubscribeBackend = initBackend(\n    hook,\n    agent,\n    window,\n    isReloadAndProfileSupported,\n  );\n\n  const nativeStyleResolver: ResolveNativeStyle | void =\n    resolveRNStyle || hook.resolveRNStyle;\n\n  if (nativeStyleResolver != null) {\n    const validAttributes =\n      nativeStyleEditorValidAttributes ||\n      hook.nativeStyleEditorValidAttributes ||\n      null;\n\n    setupNativeStyleEditor(bridge, agent, nativeStyleResolver, validAttributes);\n  }\n\n  return unsubscribeBackend;\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","ErrorStackParser","require","React","assign","Object","ReactSharedInternals","__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE","REACT_CONTEXT_TYPE","for","REACT_MEMO_CACHE_SENTINEL","hasOwnProperty","hookLog","primitiveStackCache","getPrimitiveStackCache","cache","Map","Dispatcher","useContext","_currentValue","useState","useReducer","s","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useTransition","useSyncExternalStore","useDeferredValue","useMemo","useOptimistic","useFormState","useActionState","useHostTransitionStatus","useMemoCache","use","$$typeof","then","status","value","x","useId","readHookLog","i","length","hook","set","primitive","parse","stackError","currentFiber","currentHook","currentContextDependency","nextHook","next","readContext","context","Error","call","memoizedValue","SuspenseException","usable","fulfilledValue","push","displayName","debugInfo","_debugInfo","dispatcherHookName","reason","String","memoizedState","callback","create","ref","instance","current","formatterFn","nextCreate","size","fiber","updateQueue","memoCache","data","index","Array","passthrough","reducer","initialArg","init","initialValue","initialState","stateHook","subscribe","getSnapshot","action","error","DispatcherProxyHandler","get","target","prop","name","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","source","a","b","isReactWrapper","functionName","wrapperName","parseHookName","startIndex","lastIndexOf","slice","startsWith","buildTree","rootStack$jscomp$0","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","JSCompiler_inline_result","i$jscomp$0","pop","id","isStateEditable","subHooks","hookSource","lineNumber","columnNumber","fileName","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","splice","map","_ref","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","props","currentDispatcher","previousDispatcher","H","ancestorStackError","restoreContexts","contextMap","forEach","exports","inspectHooksOfFiber","tag","dependencies","firstContext","dependencies_old","dependencies_new","contextDependencies","first","type","memoizedProps","elementType","defaultProps","propName","_context","has","return","render","process","env","NODE_ENV","module","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","REACT_POSTPONE_TYPE","REACT_VIEW_TRANSITION_TYPE","MAYBE_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","ReactNoopUpdateQueue","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","emptyObject","Component","updater","refs","isReactComponent","setState","partialState","forceUpdate","ComponentDummy","PureComponent","pureComponentPrototype","isPureReactComponent","isArrayImpl","isArray","A","T","S","ReactElement","key","self","owner","cloneAndReplaceKey","oldElement","newKey","isValidElement","object","escape","escaperLookup","replace","match","userProvidedKeyEscapeRegex","getElementKey","element","toString","noop$1","resolveThenable","thenable","mapIntoArray","children","array","escapedPrefix","nameSoFar","invokeCallback","_init","_payload","c","nextNamePrefix","done","keys","join","mapChildren","func","result","count","child","lazyInitializer","payload","_status","ctor","_result","moduleObject","default","reportGlobalError","reportError","window","ErrorEvent","event","bubbles","cancelable","message","dispatchEvent","emit","console","noop","Children","forEachFunc","forEachContext","apply","arguments","n","toArray","only","Fragment","Profiler","StrictMode","Suspense","__COMPILER_RUNTIME","act","fn","captureOwnerStack","cloneElement","config","childArray","createContext","defaultValue","_currentValue2","_threadCount","Provider","Consumer","createElement","childrenLength","createRef","experimental_useEffectEvent","useEffectEvent","experimental_useOptimistic","experimental_useResourceEffect","forwardRef","lazy","memo","compare","startTransition","scope","prevTransition","currentTransition","returnValue","onStartTransitionFinish","unstable_Activity","unstable_SuspenseList","unstable_ViewTransition","unstable_getCacheForType","resourceType","dispatcher","getCacheForType","unstable_postpone","unstable_useCacheRefresh","permalink","deps","Context","getServerSnapshot","version","root","factory","define","amd","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","undefined","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","sanitizedLine","location","locationParts","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","len","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","tokens","functionCall","shift","argsRaw","args","LRUCache","util","Yallist","hasSymbol","_nodeLRUCacheForceNoSymbol","makeSymbol","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","naiveLength","options","max","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","reset","defineProperty","mL","trim","enumerable","allowStale","mA","lC","hit","rforEach","thisp","walker","tail","prev","forEachStep","node","isStale","del","head","k","values","dump","v","now","h","dumpLru","inspect","opts","str","extras","as","didFirst","item","val","Date","Entry","unshift","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Item","title","browser","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","PseudoMap","TypeError","clear","kv","_data","find","res","_index","configurable","writable","entries","same","_isNumber","isNaN","parseFloat","isFinite","_capitalize","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","objectProps","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","locationString","Boolean","j","Number","inherits","superCtor","super_","TempCtor","isBuffer","arg","copy","fill","readUInt8","formatRegExp","format","f","isString","objects","JSON","stringify","_","isNull","isObject","deprecate","msg","isUndefined","global","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","NODE_DEBUG","RegExp","test","pid","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","hash","idx","recurseTimes","isFunction","ret","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","getOwnPropertyDescriptor","substr","numLinesEst","reduce","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","log","origin","add","Node","list","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","from","to","sliceReverse","reverse","EventEmitter","_classCallCheck","_defineProperty","_createClass","listener","listenersMap","_len","_key","didThrow","caughtError","clonedListeners","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RECORD_TIMELINE_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","FIREFOX_CONSOLE_DIMMING_COLOR","ANSI_STYLE_DIMMING_TEMPLATE","ANSI_STYLE_DIMMING_TEMPLATE_WITH_COMPONENT_STACK","compareVersions","v1","v2","n1","validateAndParse","n2","p1","p2","r","compareSegments","validate","semver","operator","assertValidOperator","operatorResMap","includes","satisfies","range","m","op","_validateAndParse","_validateAndParse2","_slicedToArray","v3","vp","_validateAndParse3","_validateAndParse4","r1","r2","r3","rp","nonZero","findIndex","isWildcard","tryParse","parseInt","forceType","compareStrings","_forceType","_forceType2","ap","bp","Math","allowedOperators","enableHydrationLaneScheduling","favorSafetyOverHydrationPerf","disableSchedulerTimeoutInWorkLoop","disableDefaultPropsExceptForClasses","enableSuspenseCallback","enableScopeAPI","enableCreateEventHandleAPI","enableLegacyFBSupport","enableYieldingBeforePassive","enableThrottledScheduling","enableLegacyCache","__EXPERIMENTAL__","enableAsyncIterableChildren","enableTaint","enablePostpone","enableHalt","enableViewTransition","enableFabricCompleteRootInCommitPhase","enableObjectFiber","enableTransitionTracing","enableLegacyHidden","enableSuspenseAvoidThisFallback","enableCPUSuspense","enableNoCloningMemoCache","enableUseEffectEventHook","enableFizzExternalRuntime","alwaysThrottleRetries","passChildrenWhenCloningPersistedNodes","enablePersistedModeClonedFlag","enableOwnerStacks","enableShallowPropDiffing","enableSiblingPrerendering","enableRetryLaneExpiration","retryLaneExpirationMs","syncLaneExpirationMs","transitionLaneExpirationMs","enableInfiniteRenderLoopDetection","enableUseResourceEffectHook","renameElementSymbol","enableHiddenSubtreeInsertionEffectCleanup","disableLegacyContext","disableLegacyContextForFunctionComponents","enableMoveBefore","disableClientCache","enableReactTestRendererWarning","disableLegacyMode","enableRenderableContext","disableCommentsAsDOMContainers","enableTrustedTypesIntegration","disableInputAttributeSyncing","disableTextareaChildren","enableProfilerTimer","__PROFILE__","enableComponentPerformanceTrack","enableSchedulingProfiler","enableProfilerCommitHooks","enableProfilerNestedUpdatePhase","enableAsyncDebugInfo","enableUpdaterTracking","enableDO_NOT_USE_disableStrictPassiveEffect","REACT_LEGACY_ELEMENT_TYPE","REACT_PROVIDER_TYPE","REACT_SCOPE_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_TRACING_MARKER_TYPE","FAUX_ITERATOR_SYMBOL","maybeIterator","ASYNC_ITERATOR","asyncIterator","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ElementTypeVirtual","ElementTypeViewTransition","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","ComponentFilterEnvironmentName","LRU","localStorageGetItem","localStorageSetItem","sessionStorageGetItem","sessionStorageRemoveItem","sessionStorageSetItem","meta","isSynchronousXHRSupported","cachedDisplayNames","WeakMap","encodedStringCache","alphaSortKeys","getAllEnumerableKeys","Set","_loop","currentKeys","_toConsumableArray","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","getPrototypeOf","getWrappedDisplayName","outerType","innerType","fallbackName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeStringWithRanges","left","right","string","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rendererID","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","numErrors","numWarnings","getDefaultComponentFilters","isEnabled","getSavedComponentFilters","raw","parsedFilters","filterOutLocationComponentFilters","setSavedComponentFilters","componentFilters","getDefaultOpenInEditorURL","EDITOR_URL","getOpenInEditorURL","parseElementDisplayNameFromBackend","formattedDisplayName","hocDisplayNames","compiledWithForget","displayNameWithoutForgetWrapper","_parseElementDisplayN","shallowDiffers","attribute","getInObject","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","typeOfWithLegacyElementSymbol","$$typeofType","getDisplayNameForReactElement","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","preview_long","preview_short","tagName","toLowerCase","byteLength","buffer","formatted","shortName","entryOrEntries","toStringTag","sort","objectPrototype","objectParentPrototype","backendToFrontendSerializedElementMapper","_parseElementDisplayN2","_objectSpread","normalizeUrl","url","getIsReloadAndProfileSupported","isBackendStorageAPISupported","localStorage","getItem","getIfReloadedAndProfiling","getProfilingSettings","recordChangeDescriptions","recordTimeline","onReloadAndProfile","onReloadAndProfileFlagsReset","inspectable","inspected","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","dehydrateKey","unserializableValue","keyAsString","preview","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","formatWithStyles","formatConsoleArguments","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","safeToString","err","formatConsoleArgumentsToSingleString","maybeMessage","inputArgs","REGEXP","escaped","ptn","flag","document","featurePolicy","allowsFeature","gt","isReactNativeEnvironment","withoutParentheses","_locationParts","sourceURL","column","CHROME_STACK_REGEXP","parseSourceFromChromeStack","frames","_iterator","_createForOfIteratorHelper","_step","frame","sanitizedFrame","locationInParenthesesMatch","possibleLocation","_location$line","_location$column","parseSourceFromFirefoxStack","_iterator2","_step2","frameWithoutFunctionName","_location$line2","_location$column2","parseSourceFromComponentStack","componentStack","formatDurationToMicrosecondsGranularity","duration","round","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","borderLeft","bottom","borderBottom","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","extractHOCNames","baseComponentName","hocNames","hocRegex","_match","_match2","hocName","inner","OverlayRect","doc","container","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","body","nodes","_this","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","min","nodeName","ownerName","getComponentNameForHostInstance","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlayNative","hideOverlayWeb","hideOverlay","showOverlayNative","showOverlayWeb","componentName","hideAfterTimeout","showOverlay","Agent","iframesListeningTo","DATA_PATH_ATTRIBUTE","DATA_COMPONENT_NAME_ATTRIBUTE","DATA_LINE_ATTRIBUTE","setupHighlighter","bridge","clearHostInstanceHighlight","highlightHostInstance","stopInspectingHost","startInspectingHost","inspectingClearOverlays","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","contentWindow","removeEventListener","openBuiltinElementsPanel","scrollIntoView","renderer","rendererInterfaces","warn","hasElementWithId","findHostInstancesForElementID","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","preventDefault","stopPropagation","selectElementForNode","getEventTarget","lastHoveredNode","iframe","getIDForHostInstance","hasAttribute","getAttribute","lineAttribute","composed","composedPath","COLORS","canvas","drawNative","nodeToData","nodesToDraw","iterateNodes","mergedNodes","groupAndSortNodes","drawWeb","initialize","dpr","devicePixelRatio","canvasFlow","getContext","scale","clearRect","group","drawGroupBorders","drawGroupLabel","positionGroups","_ref2","_positionGroups$get","groupA","groupB","maxCountA","maxCountB","_ref3","beginPath","strokeStyle","stroke","mergedName","_ref4","drawLabel","draw","execute","colorIndex","expirationTime","lastMeasuredAt","text","font","textBaseline","textAlign","textHeight","metrics","measureText","backgroundWidth","backgroundHeight","labelX","labelY","fillStyle","fillRect","fillText","destroyNative","destroyWeb","destroy","cssText","insertBefore","firstChild","destroyCanvas","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","HOC_MARKERS","getCurrentTime","performance","drawAnimationFrameID","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","measureNode","_extractHOCNames","markers","hoc","enhancedDisplayName","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","_EventEmitter","wall","_callSuper","_messageQueue","_this$_wall","_wall","_scheduledFlush","wasForwarded","_wallUnlisten","listen","overrideValueAtPath","_inherits","_isShutdown","devtoolsJestTestScheduler","_flush","queueMicrotask","shutdown","wallUnlisten","localStorageRemoveItem","removeItem","setItem","sessionStorage","setupTraceUpdates","setTraceUpdatesEnabled","debug","methodName","_console","isProfiling","_rendererInterfaces","clearErrorsAndWarnings","clearErrorsForElementID","clearWarningsForElementID","getSerializedElementValueByPath","_bridge","_ref5","hookID","deletePath","DEVTOOLS_VERSION","_ref6","getProfilingData","_isProfiling","_ref7","owners","getOwnersList","_ref8","forceFullData","requestID","inspectElement","_persistedSelectionMatch","_persistedSelection","setTrackedPath","_lastSelectedElementID","_lastSelectedRendererID","_persistSelectionTimerScheduled","_persistSelection","_ref9","logElementToConsole","_ref10","forceError","overrideError","_ref11","forceFallback","overrideSuspense","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_onReloadAndProfile","_ref18","renamePath","traceUpdatesEnabled","_traceUpdatesEnabled","selectNode","_ref19","startProfiling","stopProfiling","selected","_ref20","storeAsGlobal","settings","rendererIDString","getPathForElement","updateComponentFilters","accumulatedNames","names","getEnvironmentNames","prevMatch","nextMatch","getBestMatchForTrackedPath","prevMatchID","nextMatchID","isFullMatch","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromBuiltinElementsPanel","updateHookSettings","getHookSettings","getIfHasUnsupportedRendererVersion","overrideContext","overrideHookState","overrideProps","overrideState","getInstanceAndStyle","_ref21","getElementIDForHostInstance","bestMatch","bestRenderer","nearestNode","getNearestMountedDOMNode","contains","getDisplayNameForElementID","registerRendererInterface","rendererInterface","selection","onUnsupportedRenderer","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","groupCollapsed","groupEnd","reenableLogs","prefix","describeBuiltInComponentFrame","suffix","__IS_CHROME__","__IS_EDGE__","__IS_NATIVE__","__IS_FIREFOX__","describeDebugInfoFrame","reentry","componentFrameCache","__DEV__","PossiblyWeakMap","describeNativeComponentFrame","construct","currentDispatcherRef","previousPrepareStackTrace","prepareStackTrace","RunInRootFrame","DetermineComponentFrameRoot","control","Fake","Reflect","maybePromise","catch","sample","namePropDescriptor","_RunInRootFrame$Deter","_RunInRootFrame$Deter2","sampleStack","controlStack","sampleLines","controlLines","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","formatOwnerStack","prevPrepareStackTrace","getOwnerStackByComponentInfoInDev","componentInfo","ownerStack","debugStack","componentInfoToComponentLogsMap","supportsConsoleTasks","debugTask","attach","getCurrentComponentInfo","getComponentStack","topFrame","topStackFrames","onErrorOrWarning","componentLogsEntry","errors","errorsCount","warnings","warningsCount","messageMap","cleanup","flushInitialOperations","handleCommitFiberRoot","handleCommitFiberUnmount","handlePostCommitFiberRoot","responseID","getElementAttributeByPath","getElementSourceFunctionById","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_SYMBOL_STRING","LEGACY_ELEMENT_NUMBER","LEGACY_ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","CONSUMER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","y","objectIs","describeFiber","workTagMap","workInProgress","HostHoistable","HostSingleton","HostComponent","LazyComponent","SuspenseComponent","SuspenseListComponent","FunctionComponent","IndeterminateComponent","SimpleMemoComponent","ForwardRef","ClassComponent","ViewTransitionComponent","getStackByFiberInDevAndProd","entry","getSourceLocationByFiber","_debugTask","supportsOwnerStacks","_debugStack","getOwnerStackByFiberInDev","HostText","_debugOwner","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","crawlObjectProperties","fromEntries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","TIME_OFFSET","performanceTarget","supportsUserTiming","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","_ranges$i","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","reactMeasure","batchUID","_currentTimelineData","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","_ranges$i2","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","profilingHooks","FIBER_INSTANCE","VIRTUAL_INSTANCE","FILTERED_FIBER_INSTANCE","createFiberInstance","kind","nextSibling","logCount","treeBaseDuration","createFilteredFiberInstance","createVirtualInstance","debugEntry","getDispatcherRef","injectedRef","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","ReactTypeOfWork","CacheComponent","ContextConsumer","ContextProvider","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","HostPortal","HostRoot","IncompleteClassComponent","IncompleteFunctionComponent","LegacyHiddenComponent","MemoComponent","Mode","OffscreenComponent","ScopeComponent","TracingMarkerComponent","YieldComponent","Throw","getTypeSymbol","symbolOrNumber","_ReactTypeOfWork","resolveFiberType","typeSymbol","_fiber$updateQueue","_fiber$memoizedState","_fiber$memoizedState$","_fiber$memoizedState2","shouldSkipForgetCheck","resolvedType","resolvedContext","fiberRoot","_debugRootType","knownEnvironmentNames","rootToFiberInstanceMap","idToDevToolsInstanceMap","publicInstanceToDevToolsInstanceMap","hostResourceToDevToolsInstanceMap","getPublicInstance","canonical","publicInstance","_nativeTag","aquireHostInstance","nearestInstance","hostInstance","releaseHostInstance","aquireHostResource","resource","resourceInstances","releaseHostResource","firstInstance","shouldStartProfilingNow","profilingSettings","reconcilerVersion","_getInternalReactCons","injectProfilingHooks","overrideHookStateDeletePath","overrideHookStateRenamePath","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","getCurrentFiber","supportsTogglingError","supportsTogglingSuspense","response","fiberToComponentLogsMap","needsToFlushComponentLogs","bruteForceFlushErrorsAndWarnings","hasChanges","devtoolsInstance","changed","recordConsoleLogs","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","_iterator3","_step3","clearConsoleLogsHelper","instanceID","fiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","dispatcherRef","forceErrorForFibers","parentInstance","extraString","maybeID","parentDisplayName","maybeParentID","debugTree","indent","repeat","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","hideElementsWithEnvs","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","__REACT_DEVTOOLS_COMPONENT_FILTERS__","componentFiltersWithoutLocationBasedOnes","getFiberRoots","rootInstance","currentRoot","unmountInstanceRecursively","rootDisplayNameCounter","newRoot","trackedPath","mightBeOnTrackedPath","setRootPseudoKey","mountFiberRecursively","shouldFilterVirtual","secondaryEnv","_iterator4","_step4","displayNameRegExp","shouldFilterFiber","getElementTypeForFiber","_iterator5","_step5","untrackFiber","shouldErrorFiberAlwaysNull","forceFallbackForFibers","shouldSuspendFiberAlwaysFalse","sibling","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","state","getContextChanged","getChangedKeys","indices","getChangedHooksIndices","hooks","prevContext","nextContext","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","bind","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","_iterator6","_step6","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","pushOperation","isInteger","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","totalCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","fiberInstance","isProfilingSupported","hasOwnerMetadata","profilingFlags","isProductionBuildOfRenderer","bundleType","displayNamesByRootID","getDisplayNameForRoot","debugOwner","getUnfilteredOwner","ownerInstance","findNearestOwnerInstance","ownerID","keyString","keyStringID","parentFiber","parentFiberInstance","recordProfilingDurations","recordVirtualMount","recordUnmount","reconcilingParent","trackedPathMatchInstance","remainingReconcilingChildren","previouslyReconciledSibling","insertChild","moveChild","previousSibling","unmountRemainingChildren","mountVirtualInstanceRecursively","virtualInstance","lastChild","traceNearestHostComponentUpdate","virtualLevel","mightSiblingsBeOnTrackedPath","updateVirtualTrackedPathStateBeforeMount","stashedParent","stashedPrevious","stashedRemaining","mountVirtualChildrenRecursively","recordVirtualProfilingDurations","updateTrackedPathStateAfterMount","recordVirtualUnmount","getSecondaryEnvironmentName","previousVirtualInstance","previousVirtualInstanceFirstFiber","mountChildrenRecursively","shouldIncludeInTree","newInstance","updateTrackedPathStateBeforeMount","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","actualDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","changeDescription","changeDescriptions","updaters","memoizedUpdaters","instanceToSerializedElement","previousTreeBaseDuration","recordResetChildren","nextChildren","innerChild","updateVirtualInstanceRecursively","nextFirstChild","nextLastChild","prevFirstChild","updateVirtualChildrenRecursively","shouldResetChildren","nextChild","prevChildAtSameIndex","previousVirtualInstanceWasMount","previousVirtualInstanceNextFirstFiber","previousVirtualInstancePrevFirstFiber","previousSiblingOfBestMatch","newVirtualInstance","prevChild","previousSiblingOfExistingInstance","existingInstance","updateFiberRecursively","updateChildrenRecursively","isSuspense","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","hostInstances","findAllCurrentHostInstances","rootSupportsProfiling","memoizedInteractions","localPendingOperationsQueue","commitTime","profilingStartTime","priorityLevel","_getEffectDurations","formatPriorityLevel","wasMounted","isDehydrated","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","getResourceInstance","appendHostInstancesByDevToolsInstance","appendHostInstancesByFiber","domNode","isMostRecentlyInspectedElement","getOwnersListFromInstance","ownerFiber","ownerInfo","isErrorBoundary","getDerivedStateFromError","componentDidCatch","inspectElementRaw","inspectVirtualInstanceRaw","inspectFiberInstanceRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","contextType","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","originalConsoleMethods","method","rootType","hasErrorBoundary","hasSuspenseBoundary","temp","isTimedOutSuspense","isErrored","DidCapture","plugins","stylex","xstyle","getSourceForFiberInstance","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","rendererPackageName","rendererVersion","getSourceForInstance","nearestFiber","getNearestFiber","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","valueToCopy","errorType","cleanedInspectedElement","supportsGroup","chrome","navigator","userAgent","pendingProps","initialTreeBaseDurationsMap","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","_objectWithoutProperties","_excluded","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","snapshotTreeBaseDurations","shouldRecordChangeDescriptions","shouldRecordTimeline","inst","shouldErrorFiberAccordingToMap","shouldSuspendFiberAccordingToSet","trackedPathMatchFiber","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","getVirtualPathFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","keyPath","unresolvedSource","stackFrame","lastLine","decorate","old","decorateMany","fns","olds","restoreMany","getData","internalInstance","_currentElement","getElementType","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","findHostInstanceForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","_getData","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","roots","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","_getData2","enabled","attachFlight","attachFiber","attachLegacy","isMatchingRender","attachRenderer","findFiberByHostInstance","template","argumentsPointer","currentChar","nextChar","_args$splice","_args$splice2","_args$splice3","_args$splice4","_args$splice5","_args$splice6","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","frameDiffs","areStackTracesEqual","targetConsole","defaultProfilingSettings","installHook","maybeSettingsOrSettingsPromise","detectReactBuildType","Function","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","inject","renderers","reactBuildType","hasUnsupportedRendererAttached","sub","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","isRunningDuringStrictModeInvocation","setStrictMode","isStrictMode","patchConsoleForStrictMode","unpatchConsoleForStrictMode","unpatchConsoleCallbacks","consoleMethodsToOverrideForStrictMode","_consoleMethodsToOver","_i","originalMethod","overrideMethod","hideConsoleLogsInStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","registerInternalModuleStart","registerInternalModuleStop","patchConsoleForErrorsAndWarnings","consoleMethodsToOverrideForErrorsAndWarnings","_loop2","_consoleMethodsToOver2","_i2","_len2","_key2","injectedComponentStackAsFakeError","alreadyHasComponentStack","appendComponentStack","lastArg","shouldShowInlineWarningsAndErrors","showInlineWarningsAndErrors","_loop3","fakeError","firstArg","endsWith","breakOnConsoleErrors","argsWithCSSStyles","backends","supportsFiber","supportsFlight","Promise","resolve","initBackend","isReloadAndProfileSupported","subs","onFastRefreshScheduled","onHookOperations","onTraceUpdates","onHookSettings","reactDevtoolsAgent","onAgentShutdown","onReloadAndProfileSupportedByHost","resolveBoxStyle","hasParts","styleForAll","_Object$keys","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","savedComponentFilters","connectToDevTools","_ref$host","host","nativeStyleEditorValidAttributes","_ref$useHttps","useHttps","_ref$port","port","websocket","_ref$resolveRNStyle","resolveRNStyle","_ref$retryConnectionD","retryConnectionDelay","_ref$isAppActive","isAppActive","onSettingsUpdated","_ref$isReloadAndProfi","protocol","retryTimeoutID","scheduleRetry","messageListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","transferable","readyState","OPEN","lazyResolveRNStyle","lazyNativeStyleEditorValidAttributes","initAfterTick","connectWithCustomMessagingProtocol","onSubscribe","onUnsubscribe","onMessage","_ref2$isReloadAndProf","unsubscribeBackend","nativeStyleResolver"],"sourceRoot":""}